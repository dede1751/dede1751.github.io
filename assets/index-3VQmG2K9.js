(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const _ of document.querySelectorAll('link[rel="modulepreload"]'))h(_);new MutationObserver(_=>{for(const v of _)if(v.type==="childList")for(const k of v.addedNodes)k.tagName==="LINK"&&k.rel==="modulepreload"&&h(k)}).observe(document,{childList:!0,subtree:!0});function o(_){const v={};return _.integrity&&(v.integrity=_.integrity),_.referrerPolicy&&(v.referrerPolicy=_.referrerPolicy),_.crossOrigin==="use-credentials"?v.credentials="include":_.crossOrigin==="anonymous"?v.credentials="omit":v.credentials="same-origin",v}function h(_){if(_.ep)return;_.ep=!0;const v=o(_);fetch(_.href,v)}})();let B;const ci=typeof TextDecoder<"u"?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};typeof TextDecoder<"u"&&ci.decode();let on=null;function zn(){return(on===null||on.byteLength===0)&&(on=new Uint8Array(B.memory.buffer)),on}function Yn(g,i){return g=g>>>0,ci.decode(zn().subarray(g,g+i))}let Nt=0;const Gn=typeof TextEncoder<"u"?new TextEncoder("utf-8"):{encode:()=>{throw Error("TextEncoder not available")}},Fi=typeof Gn.encodeInto=="function"?function(g,i){return Gn.encodeInto(g,i)}:function(g,i){const o=Gn.encode(g);return i.set(o),{read:g.length,written:o.length}};function un(g,i,o){if(o===void 0){const A=Gn.encode(g),D=i(A.length,1)>>>0;return zn().subarray(D,D+A.length).set(A),Nt=A.length,D}let h=g.length,_=i(h,1)>>>0;const v=zn();let k=0;for(;k<h;k++){const A=g.charCodeAt(k);if(A>127)break;v[_+k]=A}if(k!==h){k!==0&&(g=g.slice(k)),_=o(_,h,h=k+g.length*3,1)>>>0;const A=zn().subarray(_+k,_+h),D=Fi(g,A);k+=D.written,_=o(_,h,k,1)>>>0}return Nt=k,_}function Bi(g){return g==null}function Ui(g,i){if(!(g instanceof i))throw new Error(`expected instance of ${i.name}`)}const ti=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(g=>B.__wbg_carpengine_free(g>>>0,1));class Wi{__destroy_into_raw(){const i=this.__wbg_ptr;return this.__wbg_ptr=0,ti.unregister(this),i}free(){const i=this.__destroy_into_raw();B.__wbg_carpengine_free(i,0)}constructor(){const i=B.carpengine_new();return this.__wbg_ptr=i>>>0,ti.register(this,this.__wbg_ptr,this),this}reset(){B.carpengine_reset(this.__wbg_ptr)}resize_tt(i){B.carpengine_resize_tt(this.__wbg_ptr,i)}perft(i,o){const h=un(i,B.__wbindgen_malloc,B.__wbindgen_realloc),_=Nt;B.carpengine_perft(this.__wbg_ptr,h,_,o)}search(i,o){const h=un(i,B.__wbindgen_malloc,B.__wbindgen_realloc),_=Nt,v=un(o,B.__wbindgen_malloc,B.__wbindgen_realloc),k=Nt;B.carpengine_search(this.__wbg_ptr,h,_,v,k)}}const ni=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(g=>B.__wbg_perftoutput_free(g>>>0,1));class jr{static __wrap(i){i=i>>>0;const o=Object.create(jr.prototype);return o.__wbg_ptr=i,ni.register(o,o.__wbg_ptr,o),o}__destroy_into_raw(){const i=this.__wbg_ptr;return this.__wbg_ptr=0,ni.unregister(this),i}free(){const i=this.__destroy_into_raw();B.__wbg_perftoutput_free(i,0)}get time(){const i=B.__wbg_get_perftoutput_time(this.__wbg_ptr);return BigInt.asUintN(64,i)}set time(i){B.__wbg_set_perftoutput_time(this.__wbg_ptr,i)}get nodes(){const i=B.__wbg_get_perftoutput_nodes(this.__wbg_ptr);return BigInt.asUintN(64,i)}set nodes(i){B.__wbg_set_perftoutput_nodes(this.__wbg_ptr,i)}get nps(){return B.__wbg_get_perftoutput_nps(this.__wbg_ptr)}set nps(i){B.__wbg_set_perftoutput_nps(this.__wbg_ptr,i)}get mov(){const i=B.__wbg_get_perftoutput_mov(this.__wbg_ptr);let o;return i[0]!==0&&(o=Yn(i[0],i[1]).slice(),B.__wbindgen_free(i[0],i[1]*1,1)),o}set mov(i){var o=Bi(i)?0:un(i,B.__wbindgen_malloc,B.__wbindgen_realloc),h=Nt;B.__wbg_set_perftoutput_mov(this.__wbg_ptr,o,h)}}const ri=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(g=>B.__wbg_score_free(g>>>0,1));class Jn{static __wrap(i){i=i>>>0;const o=Object.create(Jn.prototype);return o.__wbg_ptr=i,ri.register(o,o.__wbg_ptr,o),o}__destroy_into_raw(){const i=this.__wbg_ptr;return this.__wbg_ptr=0,ri.unregister(this),i}free(){const i=this.__destroy_into_raw();B.__wbg_score_free(i,0)}get val(){return B.__wbg_get_score_val(this.__wbg_ptr)}set val(i){B.__wbg_set_score_val(this.__wbg_ptr,i)}get w(){return B.__wbg_get_score_w(this.__wbg_ptr)}set w(i){B.__wbg_set_score_w(this.__wbg_ptr,i)}get d(){return B.__wbg_get_score_d(this.__wbg_ptr)}set d(i){B.__wbg_set_score_d(this.__wbg_ptr,i)}get l(){return B.__wbg_get_score_l(this.__wbg_ptr)}set l(i){B.__wbg_set_score_l(this.__wbg_ptr,i)}}const ii=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(g=>B.__wbg_searchoutput_free(g>>>0,1));class Rr{static __wrap(i){i=i>>>0;const o=Object.create(Rr.prototype);return o.__wbg_ptr=i,ii.register(o,o.__wbg_ptr,o),o}__destroy_into_raw(){const i=this.__wbg_ptr;return this.__wbg_ptr=0,ii.unregister(this),i}free(){const i=this.__destroy_into_raw();B.__wbg_searchoutput_free(i,0)}get time(){const i=B.__wbg_get_searchoutput_time(this.__wbg_ptr);return BigInt.asUintN(64,i)}set time(i){B.__wbg_set_searchoutput_time(this.__wbg_ptr,i)}get nodes(){const i=B.__wbg_get_searchoutput_nodes(this.__wbg_ptr);return BigInt.asUintN(64,i)}set nodes(i){B.__wbg_set_searchoutput_nodes(this.__wbg_ptr,i)}get nps(){return B.__wbg_get_searchoutput_nps(this.__wbg_ptr)}set nps(i){B.__wbg_set_searchoutput_nps(this.__wbg_ptr,i)}get depth(){return B.__wbg_get_searchoutput_depth(this.__wbg_ptr)>>>0}set depth(i){B.__wbg_set_searchoutput_depth(this.__wbg_ptr,i)}get score_type(){return B.__wbg_get_searchoutput_score_type(this.__wbg_ptr)}set score_type(i){B.__wbg_set_searchoutput_score_type(this.__wbg_ptr,i)}get score(){const i=B.__wbg_get_searchoutput_score(this.__wbg_ptr);return Jn.__wrap(i)}set score(i){Ui(i,Jn);var o=i.__destroy_into_raw();B.__wbg_set_searchoutput_score(this.__wbg_ptr,o)}get pv(){let i,o;try{const h=B.__wbg_get_searchoutput_pv(this.__wbg_ptr);return i=h[0],o=h[1],Yn(h[0],h[1])}finally{B.__wbindgen_free(i,o,1)}}set pv(i){const o=un(i,B.__wbindgen_malloc,B.__wbindgen_realloc),h=Nt;B.__wbg_set_searchoutput_pv(this.__wbg_ptr,o,h)}}async function Ki(g,i){if(typeof Response=="function"&&g instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(g,i)}catch(h){if(g.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve Wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",h);else throw h}const o=await g.arrayBuffer();return await WebAssembly.instantiate(o,i)}else{const o=await WebAssembly.instantiate(g,i);return o instanceof WebAssembly.Instance?{instance:o,module:g}:o}}function zi(){const g={};return g.wbg={},g.wbg.__wbg_getTime_cab825bc49cad8b6=function(i){return i.getTime()},g.wbg.__wbg_new0_fc71fa616199ed4c=function(){return new Date},g.wbg.__wbg_updateenginepick_9a5ecf7e4a8dbe26=function(i,o){update_engine_pick(Yn(i,o))},g.wbg.__wbg_updateperftdata_0fa1afa275d07539=function(i){update_perft_data(jr.__wrap(i))},g.wbg.__wbg_updatesearchdata_1261c5555cbbeaa1=function(i){update_search_data(Rr.__wrap(i))},g.wbg.__wbindgen_init_externref_table=function(){const i=B.__wbindgen_export_0,o=i.grow(4);i.set(0,void 0),i.set(o+0,void 0),i.set(o+1,null),i.set(o+2,!0),i.set(o+3,!1)},g.wbg.__wbindgen_throw=function(i,o){throw new Error(Yn(i,o))},g}function Gi(g,i){return B=g.exports,li.__wbindgen_wasm_module=i,on=null,B.__wbindgen_start(),B}async function li(g){if(B!==void 0)return B;typeof g<"u"&&(Object.getPrototypeOf(g)===Object.prototype?{module_or_path:g}=g:console.warn("using deprecated parameters for the initialization function; pass a single object instead")),typeof g>"u"&&(g=new URL("/assets/carp_wasm_bg-Bo8O9LK7.wasm",import.meta.url));const i=zi();(typeof g=="string"||typeof Request=="function"&&g instanceof Request||typeof URL=="function"&&g instanceof URL)&&(g=fetch(g));const{instance:o,module:h}=await Ki(await g,i);return Gi(o,h)}function Qi(g){return g!==null?{comment:g,variations:[]}:{variations:[]}}function Vi(g,i,o,h,_){const v={move:g,variations:_};return i&&(v.suffix=i),o&&(v.nag=o),h!==null&&(v.comment=h),v}function Xi(...g){const[i,...o]=g;let h=i;for(const _ of o)_!==null&&(h.variations=[_,..._.variations],_.variations=[],h=_);return i}function Yi(g,i){if(i.marker&&i.marker.comment){let o=i.root;for(;;){const h=o.variations[0];if(!h){o.comment=i.marker.comment;break}o=h}}return{headers:g,root:i.root,result:(i.marker&&i.marker.result)??void 0}}function Ji(g,i){function o(){this.constructor=g}o.prototype=i.prototype,g.prototype=new o}function Ht(g,i,o,h){var _=Error.call(this,g);return Object.setPrototypeOf&&Object.setPrototypeOf(_,Ht.prototype),_.expected=i,_.found=o,_.location=h,_.name="SyntaxError",_}Ji(Ht,Error);function Nr(g,i,o){return o=o||" ",g.length>i?g:(i-=g.length,o+=o.repeat(i),g+o.slice(0,i))}Ht.prototype.format=function(g){var i="Error: "+this.message;if(this.location){var o=null,h;for(h=0;h<g.length;h++)if(g[h].source===this.location.source){o=g[h].text.split(/\r\n|\n|\r/g);break}var _=this.location.start,v=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(_):_,k=this.location.source+":"+v.line+":"+v.column;if(o){var A=this.location.end,D=Nr("",v.line.toString().length," "),I=o[_.line-1],M=_.line===A.line?A.column:I.length+1,V=M-_.column||1;i+=`
 --> `+k+`
`+D+` |
`+v.line+" | "+I+`
`+D+" | "+Nr("",_.column-1," ")+Nr("",V,"^")}else i+=`
 at `+k}return i};Ht.buildMessage=function(g,i){var o={literal:function(I){return'"'+_(I.text)+'"'},class:function(I){var M=I.parts.map(function(V){return Array.isArray(V)?v(V[0])+"-"+v(V[1]):v(V)});return"["+(I.inverted?"^":"")+M.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(I){return I.description}};function h(I){return I.charCodeAt(0).toString(16).toUpperCase()}function _(I){return I.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(M){return"\\x0"+h(M)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(M){return"\\x"+h(M)})}function v(I){return I.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(M){return"\\x0"+h(M)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(M){return"\\x"+h(M)})}function k(I){return o[I.type](I)}function A(I){var M=I.map(k),V,q;if(M.sort(),M.length>0){for(V=1,q=1;V<M.length;V++)M[V-1]!==M[V]&&(M[q]=M[V],q++);M.length=q}switch(M.length){case 1:return M[0];case 2:return M[0]+" or "+M[1];default:return M.slice(0,-1).join(", ")+", or "+M[M.length-1]}}function D(I){return I?'"'+_(I)+'"':"end of input"}return"Expected "+A(g)+" but "+D(i)+" found."};function Zi(g,i){i=i!==void 0?i:{};var o={},h=i.grammarSource,_={pgn:et},v=et,k="[",A='"',D="]",I=".",M="O-O-O",V="O-O",q="0-0-0",U="0-0",j="$",F="{",Se="}",Z=";",Ft="(",cn=")",Ye="1-0",Bt="0-1",ln="1/2-1/2",s="*",vt=/^[a-zA-Z]/,he=/^[^"]/,Dt=/^[0-9]/,hn=/^[.]/,pn=/^[a-zA-Z1-8\-=]/,ce=/^[+#]/,it=/^[!?]/,dn=/^[^}]/,gn=/^[^\r\n]/,qe=/^[ \t\r\n]/,Ut=Ne("tag pair"),st=ge("[",!1),Wt=ge('"',!1),_n=ge("]",!1),yn=Ne("tag name"),bt=je([["a","z"],["A","Z"]],!1,!1),vn=Ne("tag value"),bn=je(['"'],!0,!1),tr=Ne("move number"),Ot=je([["0","9"]],!1,!1),nr=ge(".",!1),Kt=je(["."],!1,!1),$e=Ne("standard algebraic notation"),rr=ge("O-O-O",!1),ot=ge("O-O",!1),Lt=ge("0-0-0",!1),mn=ge("0-0",!1),wn=je([["a","z"],["A","Z"],["1","8"],"-","="],!1,!1),zt=je(["+","#"],!1,!1),qt=Ne("suffix annotation"),Me=je(["!","?"],!1,!1),ir=Ne("NAG"),sr=ge("$",!1),or=Ne("brace comment"),Ie=ge("{",!1),at=je(["}"],!0,!1),mt=ge("}",!1),z=Ne("rest of line comment"),Te=ge(";",!1),xn=je(["\r",`
`],!0,!1),ar=Ne("variation"),ur=ge("(",!1),Cn=ge(")",!1),Sn=Ne("game termination marker"),wt=ge("1-0",!1),Fe=ge("0-1",!1),Je=ge("1/2-1/2",!1),ut=ge("*",!1),fr=Ne("whitespace"),xt=je([" ","	","\r",`
`],!1,!1),Tn=function(b,T){return Yi(b,T)},En=function(b){return Object.fromEntries(b)},cr=function(b,T){return[b,T]},ft=function(b,T){return{root:b,marker:T}},Ct=function(b,T){return Xi(Qi(b),...T.flat())},kn=function(b,T,x,W,Q){return Vi(b,T,x,W,Q)},An=function(b){return b},De=function(b){return b.replace(/[\r\n]+/g," ")},Ee=function(b){return b.trim()},Gt=function(b){return b},lr=function(b,T){return{result:b,comment:T}},S=i.peg$currPos|0,Ze=[{line:1,column:1}],be=S,Be=i.peg$maxFailExpected||[],$=i.peg$silentFails|0,Ke;if(i.startRule){if(!(i.startRule in _))throw new Error(`Can't start parsing from rule "`+i.startRule+'".');v=_[i.startRule]}function ge(b,T){return{type:"literal",text:b,ignoreCase:T}}function je(b,T,x){return{type:"class",parts:b,inverted:T,ignoreCase:x}}function hr(){return{type:"end"}}function Ne(b){return{type:"other",description:b}}function Nn(b){var T=Ze[b],x;if(T)return T;if(b>=Ze.length)x=Ze.length-1;else for(x=b;!Ze[--x];);for(T=Ze[x],T={line:T.line,column:T.column};x<b;)g.charCodeAt(x)===10?(T.line++,T.column=1):T.column++,x++;return Ze[b]=T,T}function Pn(b,T,x){var W=Nn(b),Q=Nn(T),fe={source:h,start:{offset:b,line:W.line,column:W.column},end:{offset:T,line:Q.line,column:Q.column}};return fe}function G(b){S<be||(S>be&&(be=S,Be=[]),Be.push(b))}function pr(b,T,x){return new Ht(Ht.buildMessage(b,T),b,T,x)}function et(){var b,T,x;return b=S,T=Dn(),x=On(),b=Tn(T,x),b}function Dn(){var b,T,x;for(b=S,T=[],x=$t();x!==o;)T.push(x),x=$t();return x=me(),b=En(T),b}function $t(){var b,T,x,W,Q,fe,tt;return $++,b=S,me(),g.charCodeAt(S)===91?(T=k,S++):(T=o,$===0&&G(st)),T!==o?(me(),x=Qt(),x!==o?(me(),g.charCodeAt(S)===34?(W=A,S++):(W=o,$===0&&G(Wt)),W!==o?(Q=Mt(),g.charCodeAt(S)===34?(fe=A,S++):(fe=o,$===0&&G(Wt)),fe!==o?(me(),g.charCodeAt(S)===93?(tt=D,S++):(tt=o,$===0&&G(_n)),tt!==o?b=cr(x,Q):(S=b,b=o)):(S=b,b=o)):(S=b,b=o)):(S=b,b=o)):(S=b,b=o),$--,b===o&&$===0&&G(Ut),b}function Qt(){var b,T,x;if($++,b=S,T=[],x=g.charAt(S),vt.test(x)?S++:(x=o,$===0&&G(bt)),x!==o)for(;x!==o;)T.push(x),x=g.charAt(S),vt.test(x)?S++:(x=o,$===0&&G(bt));else T=o;return T!==o?b=g.substring(b,S):b=T,$--,b===o&&(T=o,$===0&&G(yn)),b}function Mt(){var b,T,x;for($++,b=S,T=[],x=g.charAt(S),he.test(x)?S++:(x=o,$===0&&G(bn));x!==o;)T.push(x),x=g.charAt(S),he.test(x)?S++:(x=o,$===0&&G(bn));return b=g.substring(b,S),$--,T=o,$===0&&G(vn),b}function On(){var b,T,x;return b=S,T=Ln(),me(),x=jn(),x===o&&(x=null),me(),b=ft(T,x),b}function Ln(){var b,T,x,W;for(b=S,T=Xt(),T===o&&(T=null),x=[],W=ct();W!==o;)x.push(W),W=ct();return b=Ct(T,x),b}function ct(){var b,T,x,W,Q,fe,tt,lt;if(b=S,me(),qn(),me(),T=$n(),T!==o){for(x=Mn(),x===o&&(x=null),W=[],Q=Vt();Q!==o;)W.push(Q),Q=Vt();for(Q=me(),fe=Xt(),fe===o&&(fe=null),tt=[],lt=In();lt!==o;)tt.push(lt),lt=In();b=kn(T,x,W,fe,tt)}else S=b,b=o;return b}function qn(){var b,T,x,W,Q,fe;for($++,b=S,T=[],x=g.charAt(S),Dt.test(x)?S++:(x=o,$===0&&G(Ot));x!==o;)T.push(x),x=g.charAt(S),Dt.test(x)?S++:(x=o,$===0&&G(Ot));if(g.charCodeAt(S)===46?(x=I,S++):(x=o,$===0&&G(nr)),x!==o){for(W=me(),Q=[],fe=g.charAt(S),hn.test(fe)?S++:(fe=o,$===0&&G(Kt));fe!==o;)Q.push(fe),fe=g.charAt(S),hn.test(fe)?S++:(fe=o,$===0&&G(Kt));T=[T,x,W,Q],b=T}else S=b,b=o;return $--,b===o&&(T=o,$===0&&G(tr)),b}function $n(){var b,T,x,W,Q,fe;if($++,b=S,T=S,g.substr(S,5)===M?(x=M,S+=5):(x=o,$===0&&G(rr)),x===o&&(g.substr(S,3)===V?(x=V,S+=3):(x=o,$===0&&G(ot)),x===o&&(g.substr(S,5)===q?(x=q,S+=5):(x=o,$===0&&G(Lt)),x===o&&(g.substr(S,3)===U?(x=U,S+=3):(x=o,$===0&&G(mn)),x===o))))if(x=S,W=g.charAt(S),vt.test(W)?S++:(W=o,$===0&&G(bt)),W!==o){if(Q=[],fe=g.charAt(S),pn.test(fe)?S++:(fe=o,$===0&&G(wn)),fe!==o)for(;fe!==o;)Q.push(fe),fe=g.charAt(S),pn.test(fe)?S++:(fe=o,$===0&&G(wn));else Q=o;Q!==o?(W=[W,Q],x=W):(S=x,x=o)}else S=x,x=o;return x!==o?(W=g.charAt(S),ce.test(W)?S++:(W=o,$===0&&G(zt)),W===o&&(W=null),x=[x,W],T=x):(S=T,T=o),T!==o?b=g.substring(b,S):b=T,$--,b===o&&(T=o,$===0&&G($e)),b}function Mn(){var b,T,x;for($++,b=S,T=[],x=g.charAt(S),it.test(x)?S++:(x=o,$===0&&G(Me));x!==o;)T.push(x),T.length>=2?x=o:(x=g.charAt(S),it.test(x)?S++:(x=o,$===0&&G(Me)));return T.length<1?(S=b,b=o):b=T,$--,b===o&&(T=o,$===0&&G(qt)),b}function Vt(){var b,T,x,W,Q;if($++,b=S,me(),g.charCodeAt(S)===36?(T=j,S++):(T=o,$===0&&G(sr)),T!==o){if(x=S,W=[],Q=g.charAt(S),Dt.test(Q)?S++:(Q=o,$===0&&G(Ot)),Q!==o)for(;Q!==o;)W.push(Q),Q=g.charAt(S),Dt.test(Q)?S++:(Q=o,$===0&&G(Ot));else W=o;W!==o?x=g.substring(x,S):x=W,x!==o?b=An(x):(S=b,b=o)}else S=b,b=o;return $--,b===o&&$===0&&G(ir),b}function Xt(){var b;return b=Yt(),b===o&&(b=dr()),b}function Yt(){var b,T,x,W,Q;if($++,b=S,g.charCodeAt(S)===123?(T=F,S++):(T=o,$===0&&G(Ie)),T!==o){for(x=S,W=[],Q=g.charAt(S),dn.test(Q)?S++:(Q=o,$===0&&G(at));Q!==o;)W.push(Q),Q=g.charAt(S),dn.test(Q)?S++:(Q=o,$===0&&G(at));x=g.substring(x,S),g.charCodeAt(S)===125?(W=Se,S++):(W=o,$===0&&G(mt)),W!==o?b=De(x):(S=b,b=o)}else S=b,b=o;return $--,b===o&&(T=o,$===0&&G(or)),b}function dr(){var b,T,x,W,Q;if($++,b=S,g.charCodeAt(S)===59?(T=Z,S++):(T=o,$===0&&G(Te)),T!==o){for(x=S,W=[],Q=g.charAt(S),gn.test(Q)?S++:(Q=o,$===0&&G(xn));Q!==o;)W.push(Q),Q=g.charAt(S),gn.test(Q)?S++:(Q=o,$===0&&G(xn));x=g.substring(x,S),b=Ee(x)}else S=b,b=o;return $--,b===o&&(T=o,$===0&&G(z)),b}function In(){var b,T,x,W;return $++,b=S,me(),g.charCodeAt(S)===40?(T=Ft,S++):(T=o,$===0&&G(ur)),T!==o?(x=Ln(),x!==o?(me(),g.charCodeAt(S)===41?(W=cn,S++):(W=o,$===0&&G(Cn)),W!==o?b=Gt(x):(S=b,b=o)):(S=b,b=o)):(S=b,b=o),$--,b===o&&$===0&&G(ar),b}function jn(){var b,T,x;return $++,b=S,g.substr(S,3)===Ye?(T=Ye,S+=3):(T=o,$===0&&G(wt)),T===o&&(g.substr(S,3)===Bt?(T=Bt,S+=3):(T=o,$===0&&G(Fe)),T===o&&(g.substr(S,7)===ln?(T=ln,S+=7):(T=o,$===0&&G(Je)),T===o&&(g.charCodeAt(S)===42?(T=s,S++):(T=o,$===0&&G(ut))))),T!==o?(me(),x=Xt(),x===o&&(x=null),b=lr(T,x)):(S=b,b=o),$--,b===o&&(T=o,$===0&&G(Sn)),b}function me(){var b,T;for($++,b=[],T=g.charAt(S),qe.test(T)?S++:(T=o,$===0&&G(xt));T!==o;)b.push(T),T=g.charAt(S),qe.test(T)?S++:(T=o,$===0&&G(xt));return $--,T=o,$===0&&G(fr),b}if(Ke=v(),i.peg$library)return{peg$result:Ke,peg$currPos:S,peg$FAILED:o,peg$maxFailExpected:Be,peg$maxFailPos:be};if(Ke!==o&&S===g.length)return Ke;throw Ke!==o&&S<g.length&&G(hr()),pr(Be,be<g.length?g.charAt(be):null,be<g.length?Pn(be,be+1):Pn(be,be))}/**
 * @license
 * Copyright (c) 2025, Jeff Hlywa (jhlywa@gmail.com)
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice,
 *    this list of conditions and the following disclaimer.
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the documentation
 *    and/or other materials provided with the distribution.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
 * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
 * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
 * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
 * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
 * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
 * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
 * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 * POSSIBILITY OF SUCH DAMAGE.
 */const Qn=0xffffffffffffffffn;function Pr(g,i){return(g<<i|g>>64n-i)&0xffffffffffffffffn}function si(g,i){return g*i&Qn}function es(g){return function(){let i=BigInt(g&Qn),o=BigInt(g>>64n&Qn);const h=si(Pr(si(i,5n),7n),9n);return o^=i,i=(Pr(i,24n)^o^o<<16n)&Qn,o=Pr(o,37n),g=o<<64n|i,h}}const Zn=es(0xa187eb39cdcaed8f31c4b365b102e01en),ts=Array.from({length:2},()=>Array.from({length:6},()=>Array.from({length:128},()=>Zn()))),ns=Array.from({length:8},()=>Zn()),rs=Array.from({length:16},()=>Zn()),Dr=Zn(),Ae="w",Le="b",_e="p",Mr="n",Vn="b",an="r",yt="q",ve="k",Or="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1";class Wn{color;from;to;piece;captured;promotion;flags;san;lan;before;after;constructor(i,o){const{color:h,piece:_,from:v,to:k,flags:A,captured:D,promotion:I}=o,M=we(v),V=we(k);this.color=h,this.piece=_,this.from=M,this.to=V,this.san=i._moveToSan(o,i._moves({legal:!0})),this.lan=M+V,this.before=i.fen(),i._makeMove(o),this.after=i.fen(),i._undoMove(),this.flags="";for(const q in te)te[q]&A&&(this.flags+=At[q]);D&&(this.captured=D),I&&(this.promotion=I,this.lan+=I)}isCapture(){return this.flags.indexOf(At.CAPTURE)>-1}isPromotion(){return this.flags.indexOf(At.PROMOTION)>-1}isEnPassant(){return this.flags.indexOf(At.EP_CAPTURE)>-1}isKingsideCastle(){return this.flags.indexOf(At.KSIDE_CASTLE)>-1}isQueensideCastle(){return this.flags.indexOf(At.QSIDE_CASTLE)>-1}isBigPawn(){return this.flags.indexOf(At.BIG_PAWN)>-1}}const Ce=-1,At={NORMAL:"n",CAPTURE:"c",BIG_PAWN:"b",EP_CAPTURE:"e",PROMOTION:"p",KSIDE_CASTLE:"k",QSIDE_CASTLE:"q",NULL_MOVE:"-"},te={NORMAL:1,CAPTURE:2,BIG_PAWN:4,EP_CAPTURE:8,PROMOTION:16,KSIDE_CASTLE:32,QSIDE_CASTLE:64,NULL_MOVE:128},Ir={Event:"?",Site:"?",Date:"????.??.??",Round:"?",White:"?",Black:"?",Result:"*"},is={WhiteTitle:null,BlackTitle:null,WhiteElo:null,BlackElo:null,WhiteUSCF:null,BlackUSCF:null,WhiteNA:null,BlackNA:null,WhiteType:null,BlackType:null,EventDate:null,EventSponsor:null,Section:null,Stage:null,Board:null,Opening:null,Variation:null,SubVariation:null,ECO:null,NIC:null,Time:null,UTCTime:null,UTCDate:null,TimeControl:null,SetUp:null,FEN:null,Termination:null,Annotator:null,Mode:null,PlyCount:null},ss={...Ir,...is},J={a8:0,b8:1,c8:2,d8:3,e8:4,f8:5,g8:6,h8:7,a7:16,b7:17,c7:18,d7:19,e7:20,f7:21,g7:22,h7:23,a6:32,b6:33,c6:34,d6:35,e6:36,f6:37,g6:38,h6:39,a5:48,b5:49,c5:50,d5:51,e5:52,f5:53,g5:54,h5:55,a4:64,b4:65,c4:66,d4:67,e4:68,f4:69,g4:70,h4:71,a3:80,b3:81,c3:82,d3:83,e3:84,f3:85,g3:86,h3:87,a2:96,b2:97,c2:98,d2:99,e2:100,f2:101,g2:102,h2:103,a1:112,b1:113,c1:114,d1:115,e1:116,f1:117,g1:118,h1:119},Lr={b:[16,32,17,15],w:[-16,-32,-17,-15]},oi={n:[-18,-33,-31,-14,18,33,31,14],b:[-17,-15,17,15],r:[-16,1,16,-1],q:[-17,-16,-15,1,17,16,15,-1],k:[-17,-16,-15,1,17,16,15,-1]},os=[20,0,0,0,0,0,0,24,0,0,0,0,0,0,20,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,24,24,24,24,24,24,56,0,56,24,24,24,24,24,24,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,20,0,0,0,0,0,0,24,0,0,0,0,0,0,20],as=[17,0,0,0,0,0,0,16,0,0,0,0,0,0,15,0,0,17,0,0,0,0,0,16,0,0,0,0,0,15,0,0,0,0,17,0,0,0,0,16,0,0,0,0,15,0,0,0,0,0,0,17,0,0,0,16,0,0,0,15,0,0,0,0,0,0,0,0,17,0,0,16,0,0,15,0,0,0,0,0,0,0,0,0,0,17,0,16,0,15,0,0,0,0,0,0,0,0,0,0,0,0,17,16,15,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,-15,-16,-17,0,0,0,0,0,0,0,0,0,0,0,0,-15,0,-16,0,-17,0,0,0,0,0,0,0,0,0,0,-15,0,0,-16,0,0,-17,0,0,0,0,0,0,0,0,-15,0,0,0,-16,0,0,0,-17,0,0,0,0,0,0,-15,0,0,0,0,-16,0,0,0,0,-17,0,0,0,0,-15,0,0,0,0,0,-16,0,0,0,0,0,-17,0,0,-15,0,0,0,0,0,0,-16,0,0,0,0,0,0,-17],us={p:1,n:2,b:4,r:8,q:16,k:32},fs="pnbrqkPNBRQK",ai=[Mr,Vn,an,yt],cs=7,ls=6,hs=1,ps=0,Kn={[ve]:te.KSIDE_CASTLE,[yt]:te.QSIDE_CASTLE},gt={w:[{square:J.a1,flag:te.QSIDE_CASTLE},{square:J.h1,flag:te.KSIDE_CASTLE}],b:[{square:J.a8,flag:te.QSIDE_CASTLE},{square:J.h8,flag:te.KSIDE_CASTLE}]},ds={b:hs,w:ls},qr="--";function Pt(g){return g>>4}function fn(g){return g&15}function hi(g){return"0123456789".indexOf(g)!==-1}function we(g){const i=fn(g),o=Pt(g);return"abcdefgh".substring(i,i+1)+"87654321".substring(o,o+1)}function sn(g){return g===Ae?Le:Ae}function gs(g){const i=g.split(/\s+/);if(i.length!==6)return{ok:!1,error:"Invalid FEN: must contain six space-delimited fields"};const o=parseInt(i[5],10);if(isNaN(o)||o<=0)return{ok:!1,error:"Invalid FEN: move number must be a positive integer"};const h=parseInt(i[4],10);if(isNaN(h)||h<0)return{ok:!1,error:"Invalid FEN: half move counter number must be a non-negative integer"};if(!/^(-|[abcdefgh][36])$/.test(i[3]))return{ok:!1,error:"Invalid FEN: en-passant square is invalid"};if(/[^kKqQ-]/.test(i[2]))return{ok:!1,error:"Invalid FEN: castling availability is invalid"};if(!/^(w|b)$/.test(i[1]))return{ok:!1,error:"Invalid FEN: side-to-move is invalid"};const _=i[0].split("/");if(_.length!==8)return{ok:!1,error:"Invalid FEN: piece data does not contain 8 '/'-delimited rows"};for(let k=0;k<_.length;k++){let A=0,D=!1;for(let I=0;I<_[k].length;I++)if(hi(_[k][I])){if(D)return{ok:!1,error:"Invalid FEN: piece data is invalid (consecutive number)"};A+=parseInt(_[k][I],10),D=!0}else{if(!/^[prnbqkPRNBQK]$/.test(_[k][I]))return{ok:!1,error:"Invalid FEN: piece data is invalid (invalid piece)"};A+=1,D=!1}if(A!==8)return{ok:!1,error:"Invalid FEN: piece data is invalid (too many squares in rank)"}}if(i[3][1]=="3"&&i[1]=="w"||i[3][1]=="6"&&i[1]=="b")return{ok:!1,error:"Invalid FEN: illegal en-passant square"};const v=[{color:"white",regex:/K/g},{color:"black",regex:/k/g}];for(const{color:k,regex:A}of v){if(!A.test(i[0]))return{ok:!1,error:`Invalid FEN: missing ${k} king`};if((i[0].match(A)||[]).length>1)return{ok:!1,error:`Invalid FEN: too many ${k} kings`}}return Array.from(_[0]+_[7]).some(k=>k.toUpperCase()==="P")?{ok:!1,error:"Invalid FEN: some pawns are on the edge rows"}:{ok:!0}}function _s(g,i){const o=g.from,h=g.to,_=g.piece;let v=0,k=0,A=0;for(let D=0,I=i.length;D<I;D++){const M=i[D].from,V=i[D].to,q=i[D].piece;_===q&&o!==M&&h===V&&(v++,Pt(o)===Pt(M)&&k++,fn(o)===fn(M)&&A++)}return v>0?k>0&&A>0?we(o):A>0?we(o).charAt(1):we(o).charAt(0):""}function _t(g,i,o,h,_,v=void 0,k=te.NORMAL){const A=Pt(h);if(_===_e&&(A===cs||A===ps))for(let D=0;D<ai.length;D++){const I=ai[D];g.push({color:i,from:o,to:h,piece:_,captured:v,promotion:I,flags:k|te.PROMOTION})}else g.push({color:i,from:o,to:h,piece:_,captured:v,flags:k})}function ui(g){let i=g.charAt(0);return i>="a"&&i<="h"?g.match(/[a-h]\d.*[a-h]\d/)?void 0:_e:(i=i.toLowerCase(),i==="o"?ve:i)}function $r(g){return g.replace(/=/,"").replace(/[+#]?[?!]*$/,"")}class ys{_board=new Array(128);_turn=Ae;_header={};_kings={w:Ce,b:Ce};_epSquare=-1;_halfMoves=0;_moveNumber=0;_history=[];_comments={};_castling={w:0,b:0};_hash=0n;_positionCount=new Map;constructor(i=Or,{skipValidation:o=!1}={}){this.load(i,{skipValidation:o})}clear({preserveHeaders:i=!1}={}){this._board=new Array(128),this._kings={w:Ce,b:Ce},this._turn=Ae,this._castling={w:0,b:0},this._epSquare=Ce,this._halfMoves=0,this._moveNumber=1,this._history=[],this._comments={},this._header=i?this._header:{...ss},this._hash=this._computeHash(),this._positionCount=new Map,this._header.SetUp=null,this._header.FEN=null}load(i,{skipValidation:o=!1,preserveHeaders:h=!1}={}){let _=i.split(/\s+/);if(_.length>=2&&_.length<6){const A=["-","-","0","1"];i=_.concat(A.slice(-(6-_.length))).join(" ")}if(_=i.split(/\s+/),!o){const{ok:A,error:D}=gs(i);if(!A)throw new Error(D)}const v=_[0];let k=0;this.clear({preserveHeaders:h});for(let A=0;A<v.length;A++){const D=v.charAt(A);if(D==="/")k+=8;else if(hi(D))k+=parseInt(D,10);else{const I=D<"a"?Ae:Le;this._put({type:D.toLowerCase(),color:I},we(k)),k++}}this._turn=_[1],_[2].indexOf("K")>-1&&(this._castling.w|=te.KSIDE_CASTLE),_[2].indexOf("Q")>-1&&(this._castling.w|=te.QSIDE_CASTLE),_[2].indexOf("k")>-1&&(this._castling.b|=te.KSIDE_CASTLE),_[2].indexOf("q")>-1&&(this._castling.b|=te.QSIDE_CASTLE),this._epSquare=_[3]==="-"?Ce:J[_[3]],this._halfMoves=parseInt(_[4],10),this._moveNumber=parseInt(_[5],10),this._hash=this._computeHash(),this._updateSetup(i),this._incPositionCount()}fen({forceEnpassantSquare:i=!1}={}){let o=0,h="";for(let k=J.a8;k<=J.h1;k++){if(this._board[k]){o>0&&(h+=o,o=0);const{color:A,type:D}=this._board[k];h+=A===Ae?D.toUpperCase():D.toLowerCase()}else o++;k+1&136&&(o>0&&(h+=o),k!==J.h1&&(h+="/"),o=0,k+=8)}let _="";this._castling[Ae]&te.KSIDE_CASTLE&&(_+="K"),this._castling[Ae]&te.QSIDE_CASTLE&&(_+="Q"),this._castling[Le]&te.KSIDE_CASTLE&&(_+="k"),this._castling[Le]&te.QSIDE_CASTLE&&(_+="q"),_=_||"-";let v="-";if(this._epSquare!==Ce)if(i)v=we(this._epSquare);else{const k=this._epSquare+(this._turn===Ae?16:-16),A=[k+1,k-1];for(const D of A){if(D&136)continue;const I=this._turn;if(this._board[D]?.color===I&&this._board[D]?.type===_e){this._makeMove({color:I,from:D,to:this._epSquare,piece:_e,captured:_e,flags:te.EP_CAPTURE});const M=!this._isKingAttacked(I);if(this._undoMove(),M){v=we(this._epSquare);break}}}}return[h,this._turn,_,v,this._halfMoves,this._moveNumber].join(" ")}_pieceKey(i){if(!this._board[i])return 0n;const{color:o,type:h}=this._board[i],_={w:0,b:1}[o],v={p:0,n:1,b:2,r:3,q:4,k:5}[h];return ts[_][v][i]}_epKey(){return this._epSquare===Ce?0n:ns[this._epSquare&7]}_castlingKey(){const i=this._castling.w>>5|this._castling.b>>3;return rs[i]}_computeHash(){let i=0n;for(let o=J.a8;o<=J.h1;o++){if(o&136){o+=7;continue}this._board[o]&&(i^=this._pieceKey(o))}return i^=this._epKey(),i^=this._castlingKey(),this._turn==="b"&&(i^=Dr),i}_updateSetup(i){this._history.length>0||(i!==Or?(this._header.SetUp="1",this._header.FEN=i):(this._header.SetUp=null,this._header.FEN=null))}reset(){this.load(Or)}get(i){return this._board[J[i]]}findPiece(i){const o=[];for(let h=J.a8;h<=J.h1;h++){if(h&136){h+=7;continue}!this._board[h]||this._board[h]?.color!==i.color||this._board[h].color===i.color&&this._board[h].type===i.type&&o.push(we(h))}return o}put({type:i,color:o},h){return this._put({type:i,color:o},h)?(this._updateCastlingRights(),this._updateEnPassantSquare(),this._updateSetup(this.fen()),!0):!1}_set(i,o){this._hash^=this._pieceKey(i),this._board[i]=o,this._hash^=this._pieceKey(i)}_put({type:i,color:o},h){if(fs.indexOf(i.toLowerCase())===-1||!(h in J))return!1;const _=J[h];if(i==ve&&!(this._kings[o]==Ce||this._kings[o]==_))return!1;const v=this._board[_];return v&&v.type===ve&&(this._kings[v.color]=Ce),this._set(_,{type:i,color:o}),i===ve&&(this._kings[o]=_),!0}_clear(i){this._hash^=this._pieceKey(i),delete this._board[i]}remove(i){const o=this.get(i);return this._clear(J[i]),o&&o.type===ve&&(this._kings[o.color]=Ce),this._updateCastlingRights(),this._updateEnPassantSquare(),this._updateSetup(this.fen()),o}_updateCastlingRights(){this._hash^=this._castlingKey();const i=this._board[J.e1]?.type===ve&&this._board[J.e1]?.color===Ae,o=this._board[J.e8]?.type===ve&&this._board[J.e8]?.color===Le;(!i||this._board[J.a1]?.type!==an||this._board[J.a1]?.color!==Ae)&&(this._castling.w&=-65),(!i||this._board[J.h1]?.type!==an||this._board[J.h1]?.color!==Ae)&&(this._castling.w&=-33),(!o||this._board[J.a8]?.type!==an||this._board[J.a8]?.color!==Le)&&(this._castling.b&=-65),(!o||this._board[J.h8]?.type!==an||this._board[J.h8]?.color!==Le)&&(this._castling.b&=-33),this._hash^=this._castlingKey()}_updateEnPassantSquare(){if(this._epSquare===Ce)return;const i=this._epSquare+(this._turn===Ae?-16:16),o=this._epSquare+(this._turn===Ae?16:-16),h=[o+1,o-1];if(this._board[i]!==null||this._board[this._epSquare]!==null||this._board[o]?.color!==sn(this._turn)||this._board[o]?.type!==_e){this._hash^=this._epKey(),this._epSquare=Ce;return}const _=v=>!(v&136)&&this._board[v]?.color===this._turn&&this._board[v]?.type===_e;h.some(_)||(this._hash^=this._epKey(),this._epSquare=Ce)}_attacked(i,o,h){const _=[];for(let v=J.a8;v<=J.h1;v++){if(v&136){v+=7;continue}if(this._board[v]===void 0||this._board[v].color!==i)continue;const k=this._board[v],A=v-o;if(A===0)continue;const D=A+119;if(os[D]&us[k.type]){if(k.type===_e){if(A>0&&k.color===Ae||A<=0&&k.color===Le)if(h)_.push(we(v));else return!0;continue}if(k.type==="n"||k.type==="k")if(h){_.push(we(v));continue}else return!0;const I=as[D];let M=v+I,V=!1;for(;M!==o;){if(this._board[M]!=null){V=!0;break}M+=I}if(!V)if(h){_.push(we(v));continue}else return!0}}return h?_:!1}attackers(i,o){return o?this._attacked(o,J[i],!0):this._attacked(this._turn,J[i],!0)}_isKingAttacked(i){const o=this._kings[i];return o===-1?!1:this._attacked(sn(i),o)}hash(){return this._hash.toString(16)}isAttacked(i,o){return this._attacked(o,J[i])}isCheck(){return this._isKingAttacked(this._turn)}inCheck(){return this.isCheck()}isCheckmate(){return this.isCheck()&&this._moves().length===0}isStalemate(){return!this.isCheck()&&this._moves().length===0}isInsufficientMaterial(){const i={b:0,n:0,r:0,q:0,k:0,p:0},o=[];let h=0,_=0;for(let v=J.a8;v<=J.h1;v++){if(_=(_+1)%2,v&136){v+=7;continue}const k=this._board[v];k&&(i[k.type]=k.type in i?i[k.type]+1:1,k.type===Vn&&o.push(_),h++)}if(h===2)return!0;if(h===3&&(i[Vn]===1||i[Mr]===1))return!0;if(h===i[Vn]+2){let v=0;const k=o.length;for(let A=0;A<k;A++)v+=o[A];if(v===0||v===k)return!0}return!1}isThreefoldRepetition(){return this._getPositionCount(this._hash)>=3}isDrawByFiftyMoves(){return this._halfMoves>=100}isDraw(){return this.isDrawByFiftyMoves()||this.isStalemate()||this.isInsufficientMaterial()||this.isThreefoldRepetition()}isGameOver(){return this.isCheckmate()||this.isDraw()}moves({verbose:i=!1,square:o=void 0,piece:h=void 0}={}){const _=this._moves({square:o,piece:h});return i?_.map(v=>new Wn(this,v)):_.map(v=>this._moveToSan(v,_))}_moves({legal:i=!0,piece:o=void 0,square:h=void 0}={}){const _=h?h.toLowerCase():void 0,v=o?.toLowerCase(),k=[],A=this._turn,D=sn(A);let I=J.a8,M=J.h1,V=!1;if(_)if(_ in J)I=M=J[_],V=!0;else return[];for(let U=I;U<=M;U++){if(U&136){U+=7;continue}if(!this._board[U]||this._board[U].color===D)continue;const{type:j}=this._board[U];let F;if(j===_e){if(v&&v!==j)continue;F=U+Lr[A][0],this._board[F]||(_t(k,A,U,F,_e),F=U+Lr[A][1],ds[A]===Pt(U)&&!this._board[F]&&_t(k,A,U,F,_e,void 0,te.BIG_PAWN));for(let Se=2;Se<4;Se++)F=U+Lr[A][Se],!(F&136)&&(this._board[F]?.color===D?_t(k,A,U,F,_e,this._board[F].type,te.CAPTURE):F===this._epSquare&&_t(k,A,U,F,_e,_e,te.EP_CAPTURE))}else{if(v&&v!==j)continue;for(let Se=0,Z=oi[j].length;Se<Z;Se++){const Ft=oi[j][Se];for(F=U;F+=Ft,!(F&136);){if(!this._board[F])_t(k,A,U,F,j);else{if(this._board[F].color===A)break;_t(k,A,U,F,j,this._board[F].type,te.CAPTURE);break}if(j===Mr||j===ve)break}}}}if((v===void 0||v===ve)&&(!V||M===this._kings[A])){if(this._castling[A]&te.KSIDE_CASTLE){const U=this._kings[A],j=U+2;!this._board[U+1]&&!this._board[j]&&!this._attacked(D,this._kings[A])&&!this._attacked(D,U+1)&&!this._attacked(D,j)&&_t(k,A,this._kings[A],j,ve,void 0,te.KSIDE_CASTLE)}if(this._castling[A]&te.QSIDE_CASTLE){const U=this._kings[A],j=U-2;!this._board[U-1]&&!this._board[U-2]&&!this._board[U-3]&&!this._attacked(D,this._kings[A])&&!this._attacked(D,U-1)&&!this._attacked(D,j)&&_t(k,A,this._kings[A],j,ve,void 0,te.QSIDE_CASTLE)}}if(!i||this._kings[A]===-1)return k;const q=[];for(let U=0,j=k.length;U<j;U++)this._makeMove(k[U]),this._isKingAttacked(A)||q.push(k[U]),this._undoMove();return q}move(i,{strict:o=!1}={}){let h=null;if(typeof i=="string")h=this._moveFromSan(i,o);else if(i===null)h=this._moveFromSan(qr,o);else if(typeof i=="object"){const v=this._moves();for(let k=0,A=v.length;k<A;k++)if(i.from===we(v[k].from)&&i.to===we(v[k].to)&&(!("promotion"in v[k])||i.promotion===v[k].promotion)){h=v[k];break}}if(!h)throw typeof i=="string"?new Error(`Invalid move: ${i}`):new Error(`Invalid move: ${JSON.stringify(i)}`);if(this.isCheck()&&h.flags&te.NULL_MOVE)throw new Error("Null move not allowed when in check");const _=new Wn(this,h);return this._makeMove(h),this._incPositionCount(),_}_push(i){this._history.push({move:i,kings:{b:this._kings.b,w:this._kings.w},turn:this._turn,castling:{b:this._castling.b,w:this._castling.w},epSquare:this._epSquare,halfMoves:this._halfMoves,moveNumber:this._moveNumber})}_movePiece(i,o){this._hash^=this._pieceKey(i),this._board[o]=this._board[i],delete this._board[i],this._hash^=this._pieceKey(o)}_makeMove(i){const o=this._turn,h=sn(o);if(this._push(i),i.flags&te.NULL_MOVE){o===Le&&this._moveNumber++,this._halfMoves++,this._turn=h,this._epSquare=Ce;return}if(this._hash^=this._epKey(),this._hash^=this._castlingKey(),i.captured&&(this._hash^=this._pieceKey(i.to)),this._movePiece(i.from,i.to),i.flags&te.EP_CAPTURE&&(this._turn===Le?this._clear(i.to-16):this._clear(i.to+16)),i.promotion&&(this._clear(i.to),this._set(i.to,{type:i.promotion,color:o})),this._board[i.to].type===ve){if(this._kings[o]=i.to,i.flags&te.KSIDE_CASTLE){const _=i.to-1,v=i.to+1;this._movePiece(v,_)}else if(i.flags&te.QSIDE_CASTLE){const _=i.to+1,v=i.to-2;this._movePiece(v,_)}this._castling[o]=0}if(this._castling[o]){for(let _=0,v=gt[o].length;_<v;_++)if(i.from===gt[o][_].square&&this._castling[o]&gt[o][_].flag){this._castling[o]^=gt[o][_].flag;break}}if(this._castling[h]){for(let _=0,v=gt[h].length;_<v;_++)if(i.to===gt[h][_].square&&this._castling[h]&gt[h][_].flag){this._castling[h]^=gt[h][_].flag;break}}if(this._hash^=this._castlingKey(),i.flags&te.BIG_PAWN){let _;o===Le?_=i.to-16:_=i.to+16,!(i.to-1&136)&&this._board[i.to-1]?.type===_e&&this._board[i.to-1]?.color===h||!(i.to+1&136)&&this._board[i.to+1]?.type===_e&&this._board[i.to+1]?.color===h?(this._epSquare=_,this._hash^=this._epKey()):this._epSquare=Ce}else this._epSquare=Ce;i.piece===_e?this._halfMoves=0:i.flags&(te.CAPTURE|te.EP_CAPTURE)?this._halfMoves=0:this._halfMoves++,o===Le&&this._moveNumber++,this._turn=h,this._hash^=Dr}undo(){const i=this._hash,o=this._undoMove();if(o){const h=new Wn(this,o);return this._decPositionCount(i),h}return null}_undoMove(){const i=this._history.pop();if(i===void 0)return null;this._hash^=this._epKey(),this._hash^=this._castlingKey();const o=i.move;this._kings=i.kings,this._turn=i.turn,this._castling=i.castling,this._epSquare=i.epSquare,this._halfMoves=i.halfMoves,this._moveNumber=i.moveNumber,this._hash^=this._epKey(),this._hash^=this._castlingKey(),this._hash^=Dr;const h=this._turn,_=sn(h);if(o.flags&te.NULL_MOVE)return o;if(this._movePiece(o.to,o.from),o.piece&&(this._clear(o.from),this._set(o.from,{type:o.piece,color:h})),o.captured)if(o.flags&te.EP_CAPTURE){let v;h===Le?v=o.to-16:v=o.to+16,this._set(v,{type:_e,color:_})}else this._set(o.to,{type:o.captured,color:_});if(o.flags&(te.KSIDE_CASTLE|te.QSIDE_CASTLE)){let v,k;o.flags&te.KSIDE_CASTLE?(v=o.to+1,k=o.to-1):(v=o.to-2,k=o.to+1),this._movePiece(k,v)}return o}pgn({newline:i=`
`,maxWidth:o=0}={}){const h=[];let _=!1;for(const q in this._header)this._header[q]&&h.push(`[${q} "${this._header[q]}"]`+i),_=!0;_&&this._history.length&&h.push(i);const v=q=>{const U=this._comments[this.fen()];if(typeof U<"u"){const j=q.length>0?" ":"";q=`${q}${j}{${U}}`}return q},k=[];for(;this._history.length>0;)k.push(this._undoMove());const A=[];let D="";for(k.length===0&&A.push(v(""));k.length>0;){D=v(D);const q=k.pop();if(!q)break;if(!this._history.length&&q.color==="b"){const U=`${this._moveNumber}. ...`;D=D?`${D} ${U}`:U}else q.color==="w"&&(D.length&&A.push(D),D=this._moveNumber+".");D=D+" "+this._moveToSan(q,this._moves({legal:!0})),this._makeMove(q)}if(D.length&&A.push(v(D)),A.push(this._header.Result||"*"),o===0)return h.join("")+A.join(" ");const I=function(){return h.length>0&&h[h.length-1]===" "?(h.pop(),!0):!1},M=function(q,U){for(const j of U.split(" "))if(j){if(q+j.length>o){for(;I();)q--;h.push(i),q=0}h.push(j),q+=j.length,h.push(" "),q++}return I()&&q--,q};let V=0;for(let q=0;q<A.length;q++){if(V+A[q].length>o&&A[q].includes("{")){V=M(V,A[q]);continue}V+A[q].length>o&&q!==0?(h[h.length-1]===" "&&h.pop(),h.push(i),V=0):q!==0&&(h.push(" "),V++),h.push(A[q]),V+=A[q].length}return h.join("")}header(...i){for(let o=0;o<i.length;o+=2)typeof i[o]=="string"&&typeof i[o+1]=="string"&&(this._header[i[o]]=i[o+1]);return this._header}setHeader(i,o){return this._header[i]=o??Ir[i]??null,this.getHeaders()}removeHeader(i){return i in this._header?(this._header[i]=Ir[i]||null,!0):!1}getHeaders(){const i={};for(const[o,h]of Object.entries(this._header))h!==null&&(i[o]=h);return i}loadPgn(i,{strict:o=!1,newlineChar:h=`\r?
`}={}){h!==`\r?
`&&(i=i.replace(new RegExp(h,"g"),`
`));const _=Zi(i);this.reset();const v=_.headers;let k="";for(const I in v)I.toLowerCase()==="fen"&&(k=v[I]),this.header(I,v[I]);if(!o)k&&this.load(k,{preserveHeaders:!0});else if(v.SetUp==="1"){if(!("FEN"in v))throw new Error("Invalid PGN: FEN tag must be supplied with SetUp tag");this.load(v.FEN,{preserveHeaders:!0})}let A=_.root;for(;A;){if(A.move){const I=this._moveFromSan(A.move,o);if(I==null)throw new Error(`Invalid move in PGN: ${A.move}`);this._makeMove(I),this._incPositionCount()}A.comment!==void 0&&(this._comments[this.fen()]=A.comment),A=A.variations[0]}const D=_.result;D&&Object.keys(this._header).length&&this._header.Result!==D&&this.setHeader("Result",D)}_moveToSan(i,o){let h="";if(i.flags&te.KSIDE_CASTLE)h="O-O";else if(i.flags&te.QSIDE_CASTLE)h="O-O-O";else{if(i.flags&te.NULL_MOVE)return qr;if(i.piece!==_e){const _=_s(i,o);h+=i.piece.toUpperCase()+_}i.flags&(te.CAPTURE|te.EP_CAPTURE)&&(i.piece===_e&&(h+=we(i.from)[0]),h+="x"),h+=we(i.to),i.promotion&&(h+="="+i.promotion.toUpperCase())}return this._makeMove(i),this.isCheck()&&(this.isCheckmate()?h+="#":h+="+"),this._undoMove(),h}_moveFromSan(i,o=!1){let h=$r(i);if(o||(h==="0-0"?h="O-O":h==="0-0-0"&&(h="O-O-O")),h==qr)return{color:this._turn,from:0,to:0,piece:"k",flags:te.NULL_MOVE};let _=ui(h),v=this._moves({legal:!0,piece:_});for(let q=0,U=v.length;q<U;q++)if(h===$r(this._moveToSan(v[q],v)))return v[q];if(o)return null;let k,A,D,I,M,V=!1;if(A=h.match(/([pnbrqkPNBRQK])?([a-h][1-8])x?-?([a-h][1-8])([qrbnQRBN])?/),A?(k=A[1],D=A[2],I=A[3],M=A[4],D.length==1&&(V=!0)):(A=h.match(/([pnbrqkPNBRQK])?([a-h]?[1-8]?)x?-?([a-h][1-8])([qrbnQRBN])?/),A&&(k=A[1],D=A[2],I=A[3],M=A[4],D.length==1&&(V=!0))),_=ui(h),v=this._moves({legal:!0,piece:k||_}),!I)return null;for(let q=0,U=v.length;q<U;q++)if(D){if((!k||k.toLowerCase()==v[q].piece)&&J[D]==v[q].from&&J[I]==v[q].to&&(!M||M.toLowerCase()==v[q].promotion))return v[q];if(V){const j=we(v[q].from);if((!k||k.toLowerCase()==v[q].piece)&&J[I]==v[q].to&&(D==j[0]||D==j[1])&&(!M||M.toLowerCase()==v[q].promotion))return v[q]}}else if(h===$r(this._moveToSan(v[q],v)).replace("x",""))return v[q];return null}ascii(){let i=`   +------------------------+
`;for(let o=J.a8;o<=J.h1;o++){if(fn(o)===0&&(i+=" "+"87654321"[Pt(o)]+" |"),this._board[o]){const h=this._board[o].type,v=this._board[o].color===Ae?h.toUpperCase():h.toLowerCase();i+=" "+v+" "}else i+=" . ";o+1&136&&(i+=`|
`,o+=8)}return i+=`   +------------------------+
`,i+="     a  b  c  d  e  f  g  h",i}perft(i){const o=this._moves({legal:!1});let h=0;const _=this._turn;for(let v=0,k=o.length;v<k;v++)this._makeMove(o[v]),this._isKingAttacked(_)||(i-1>0?h+=this.perft(i-1):h++),this._undoMove();return h}setTurn(i){return this._turn==i?!1:(this.move("--"),!0)}turn(){return this._turn}board(){const i=[];let o=[];for(let h=J.a8;h<=J.h1;h++)this._board[h]==null?o.push(null):o.push({square:we(h),type:this._board[h].type,color:this._board[h].color}),h+1&136&&(i.push(o),o=[],h+=8);return i}squareColor(i){if(i in J){const o=J[i];return(Pt(o)+fn(o))%2===0?"light":"dark"}return null}history({verbose:i=!1}={}){const o=[],h=[];for(;this._history.length>0;)o.push(this._undoMove());for(;;){const _=o.pop();if(!_)break;i?h.push(new Wn(this,_)):h.push(this._moveToSan(_,this._moves())),this._makeMove(_)}return h}_getPositionCount(i){return this._positionCount.get(i)??0}_incPositionCount(){this._positionCount.set(this._hash,(this._positionCount.get(this._hash)??0)+1)}_decPositionCount(i){const o=this._positionCount.get(i)??0;o===1?this._positionCount.delete(i):this._positionCount.set(i,o-1)}_pruneComments(){const i=[],o={},h=_=>{_ in this._comments&&(o[_]=this._comments[_])};for(;this._history.length>0;)i.push(this._undoMove());for(h(this.fen());;){const _=i.pop();if(!_)break;this._makeMove(_),h(this.fen())}this._comments=o}getComment(){return this._comments[this.fen()]}setComment(i){this._comments[this.fen()]=i.replace("{","[").replace("}","]")}deleteComment(){return this.removeComment()}removeComment(){const i=this._comments[this.fen()];return delete this._comments[this.fen()],i}getComments(){return this._pruneComments(),Object.keys(this._comments).map(i=>({fen:i,comment:this._comments[i]}))}deleteComments(){return this.removeComments()}removeComments(){return this._pruneComments(),Object.keys(this._comments).map(i=>{const o=this._comments[i];return delete this._comments[i],{fen:i,comment:o}})}setCastlingRights(i,o){for(const _ of[ve,yt])o[_]!==void 0&&(o[_]?this._castling[i]|=Kn[_]:this._castling[i]&=~Kn[_]);this._updateCastlingRights();const h=this.getCastlingRights(i);return(o[ve]===void 0||o[ve]===h[ve])&&(o[yt]===void 0||o[yt]===h[yt])}getCastlingRights(i){return{[ve]:(this._castling[i]&Kn[ve])!==0,[yt]:(this._castling[i]&Kn[yt])!==0}}moveNumber(){return this._moveNumber}}function vs(g){return g&&g.__esModule&&Object.prototype.hasOwnProperty.call(g,"default")?g.default:g}var Xn={exports:{}};/*!
 * jQuery JavaScript Library v3.7.1
 * https://jquery.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2023-08-28T13:37Z
 */var bs=Xn.exports,fi;function ms(){return fi||(fi=1,function(g){(function(i,o){g.exports=i.document?o(i,!0):function(h){if(!h.document)throw new Error("jQuery requires a window with a document");return o(h)}})(typeof window<"u"?window:bs,function(i,o){var h=[],_=Object.getPrototypeOf,v=h.slice,k=h.flat?function(e){return h.flat.call(e)}:function(e){return h.concat.apply([],e)},A=h.push,D=h.indexOf,I={},M=I.toString,V=I.hasOwnProperty,q=V.toString,U=q.call(Object),j={},F=function(t){return typeof t=="function"&&typeof t.nodeType!="number"&&typeof t.item!="function"},Se=function(t){return t!=null&&t===t.window},Z=i.document,Ft={type:!0,src:!0,nonce:!0,noModule:!0};function cn(e,t,n){n=n||Z;var r,a,u=n.createElement("script");if(u.text=e,t)for(r in Ft)a=t[r]||t.getAttribute&&t.getAttribute(r),a&&u.setAttribute(r,a);n.head.appendChild(u).parentNode.removeChild(u)}function Ye(e){return e==null?e+"":typeof e=="object"||typeof e=="function"?I[M.call(e)]||"object":typeof e}var Bt="3.7.1",ln=/HTML$/i,s=function(e,t){return new s.fn.init(e,t)};s.fn=s.prototype={jquery:Bt,constructor:s,length:0,toArray:function(){return v.call(this)},get:function(e){return e==null?v.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=s.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return s.each(this,e)},map:function(e){return this.pushStack(s.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(v.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(s.grep(this,function(e,t){return(t+1)%2}))},odd:function(){return this.pushStack(s.grep(this,function(e,t){return t%2}))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:A,sort:h.sort,splice:h.splice},s.extend=s.fn.extend=function(){var e,t,n,r,a,u,f=arguments[0]||{},p=1,l=arguments.length,y=!1;for(typeof f=="boolean"&&(y=f,f=arguments[p]||{},p++),typeof f!="object"&&!F(f)&&(f={}),p===l&&(f=this,p--);p<l;p++)if((e=arguments[p])!=null)for(t in e)r=e[t],!(t==="__proto__"||f===r)&&(y&&r&&(s.isPlainObject(r)||(a=Array.isArray(r)))?(n=f[t],a&&!Array.isArray(n)?u=[]:!a&&!s.isPlainObject(n)?u={}:u=n,a=!1,f[t]=s.extend(y,u,r)):r!==void 0&&(f[t]=r));return f},s.extend({expando:"jQuery"+(Bt+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!e||M.call(e)!=="[object Object]"?!1:(t=_(e),t?(n=V.call(t,"constructor")&&t.constructor,typeof n=="function"&&q.call(n)===U):!0)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){cn(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,r=0;if(vt(e))for(n=e.length;r<n&&t.call(e[r],r,e[r])!==!1;r++);else for(r in e)if(t.call(e[r],r,e[r])===!1)break;return e},text:function(e){var t,n="",r=0,a=e.nodeType;if(!a)for(;t=e[r++];)n+=s.text(t);return a===1||a===11?e.textContent:a===9?e.documentElement.textContent:a===3||a===4?e.nodeValue:n},makeArray:function(e,t){var n=t||[];return e!=null&&(vt(Object(e))?s.merge(n,typeof e=="string"?[e]:e):A.call(n,e)),n},inArray:function(e,t,n){return t==null?-1:D.call(t,e,n)},isXMLDoc:function(e){var t=e&&e.namespaceURI,n=e&&(e.ownerDocument||e).documentElement;return!ln.test(t||n&&n.nodeName||"HTML")},merge:function(e,t){for(var n=+t.length,r=0,a=e.length;r<n;r++)e[a++]=t[r];return e.length=a,e},grep:function(e,t,n){for(var r,a=[],u=0,f=e.length,p=!n;u<f;u++)r=!t(e[u],u),r!==p&&a.push(e[u]);return a},map:function(e,t,n){var r,a,u=0,f=[];if(vt(e))for(r=e.length;u<r;u++)a=t(e[u],u,n),a!=null&&f.push(a);else for(u in e)a=t(e[u],u,n),a!=null&&f.push(a);return k(f)},guid:1,support:j}),typeof Symbol=="function"&&(s.fn[Symbol.iterator]=h[Symbol.iterator]),s.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){I["[object "+t+"]"]=t.toLowerCase()});function vt(e){var t=!!e&&"length"in e&&e.length,n=Ye(e);return F(e)||Se(e)?!1:n==="array"||t===0||typeof t=="number"&&t>0&&t-1 in e}function he(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var Dt=h.pop,hn=h.sort,pn=h.splice,ce="[\\x20\\t\\r\\n\\f]",it=new RegExp("^"+ce+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ce+"+$","g");s.contains=function(e,t){var n=t&&t.parentNode;return e===n||!!(n&&n.nodeType===1&&(e.contains?e.contains(n):e.compareDocumentPosition&&e.compareDocumentPosition(n)&16))};var dn=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function gn(e,t){return t?e==="\0"?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e}s.escapeSelector=function(e){return(e+"").replace(dn,gn)};var qe=Z,Ut=A;(function(){var e,t,n,r,a,u=Ut,f,p,l,y,E,P=s.expando,w=0,O=0,ee=Hn(),ae=Hn(),re=Hn(),xe=Hn(),ye=function(c,d){return c===d&&(a=!0),0},ze="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Ge="(?:\\\\[\\da-fA-F]{1,6}"+ce+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",oe="\\["+ce+"*("+Ge+")(?:"+ce+"*([*^$|!~]?=)"+ce+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+Ge+"))|)"+ce+"*\\]",Et=":("+Ge+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+oe+")*)|.*)\\)|)",ue=new RegExp(ce+"+","g"),de=new RegExp("^"+ce+"*,"+ce+"*"),tn=new RegExp("^"+ce+"*([>+~]|"+ce+")"+ce+"*"),xr=new RegExp(ce+"|>"),Qe=new RegExp(Et),nn=new RegExp("^"+Ge+"$"),Ve={ID:new RegExp("^#("+Ge+")"),CLASS:new RegExp("^\\.("+Ge+")"),TAG:new RegExp("^("+Ge+"|[*])"),ATTR:new RegExp("^"+oe),PSEUDO:new RegExp("^"+Et),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ce+"*(even|odd|(([+-]|)(\\d*)n|)"+ce+"*(?:([+-]|)"+ce+"*(\\d+)|))"+ce+"*\\)|)","i"),bool:new RegExp("^(?:"+ze+")$","i"),needsContext:new RegExp("^"+ce+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ce+"*((?:-\\d)?\\d*)"+ce+"*\\)|)(?=[^-]|$)","i")},ht=/^(?:input|select|textarea|button)$/i,pt=/^h\d$/i,Re=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Cr=/[+~]/,nt=new RegExp("\\\\[\\da-fA-F]{1,6}"+ce+"?|\\\\([^\\r\\n\\f])","g"),rt=function(c,d){var m="0x"+c.slice(1)-65536;return d||(m<0?String.fromCharCode(m+65536):String.fromCharCode(m>>10|55296,m&1023|56320))},qi=function(){dt()},$i=Bn(function(c){return c.disabled===!0&&he(c,"fieldset")},{dir:"parentNode",next:"legend"});function Mi(){try{return f.activeElement}catch{}}try{u.apply(h=v.call(qe.childNodes),qe.childNodes),h[qe.childNodes.length].nodeType}catch{u={apply:function(d,m){Ut.apply(d,v.call(m))},call:function(d){Ut.apply(d,v.call(arguments,1))}}}function le(c,d,m,C){var N,L,R,K,H,ie,Y,ne=d&&d.ownerDocument,se=d?d.nodeType:9;if(m=m||[],typeof c!="string"||!c||se!==1&&se!==9&&se!==11)return m;if(!C&&(dt(d),d=d||f,l)){if(se!==11&&(H=Re.exec(c)))if(N=H[1]){if(se===9)if(R=d.getElementById(N)){if(R.id===N)return u.call(m,R),m}else return m;else if(ne&&(R=ne.getElementById(N))&&le.contains(d,R)&&R.id===N)return u.call(m,R),m}else{if(H[2])return u.apply(m,d.getElementsByTagName(c)),m;if((N=H[3])&&d.getElementsByClassName)return u.apply(m,d.getElementsByClassName(N)),m}if(!xe[c+" "]&&(!y||!y.test(c))){if(Y=c,ne=d,se===1&&(xr.test(c)||tn.test(c))){for(ne=Cr.test(c)&&Sr(d.parentNode)||d,(ne!=d||!j.scope)&&((K=d.getAttribute("id"))?K=s.escapeSelector(K):d.setAttribute("id",K=P)),ie=rn(c),L=ie.length;L--;)ie[L]=(K?"#"+K:":scope")+" "+Fn(ie[L]);Y=ie.join(",")}try{return u.apply(m,ne.querySelectorAll(Y)),m}catch{xe(c,!0)}finally{K===P&&d.removeAttribute("id")}}}return ei(c.replace(it,"$1"),d,m,C)}function Hn(){var c=[];function d(m,C){return c.push(m+" ")>t.cacheLength&&delete d[c.shift()],d[m+" "]=C}return d}function We(c){return c[P]=!0,c}function It(c){var d=f.createElement("fieldset");try{return!!c(d)}catch{return!1}finally{d.parentNode&&d.parentNode.removeChild(d),d=null}}function Ii(c){return function(d){return he(d,"input")&&d.type===c}}function ji(c){return function(d){return(he(d,"input")||he(d,"button"))&&d.type===c}}function Jr(c){return function(d){return"form"in d?d.parentNode&&d.disabled===!1?"label"in d?"label"in d.parentNode?d.parentNode.disabled===c:d.disabled===c:d.isDisabled===c||d.isDisabled!==!c&&$i(d)===c:d.disabled===c:"label"in d?d.disabled===c:!1}}function kt(c){return We(function(d){return d=+d,We(function(m,C){for(var N,L=c([],m.length,d),R=L.length;R--;)m[N=L[R]]&&(m[N]=!(C[N]=m[N]))})})}function Sr(c){return c&&typeof c.getElementsByTagName<"u"&&c}function dt(c){var d,m=c?c.ownerDocument||c:qe;return m==f||m.nodeType!==9||!m.documentElement||(f=m,p=f.documentElement,l=!s.isXMLDoc(f),E=p.matches||p.webkitMatchesSelector||p.msMatchesSelector,p.msMatchesSelector&&qe!=f&&(d=f.defaultView)&&d.top!==d&&d.addEventListener("unload",qi),j.getById=It(function(C){return p.appendChild(C).id=s.expando,!f.getElementsByName||!f.getElementsByName(s.expando).length}),j.disconnectedMatch=It(function(C){return E.call(C,"*")}),j.scope=It(function(){return f.querySelectorAll(":scope")}),j.cssHas=It(function(){try{return f.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),j.getById?(t.filter.ID=function(C){var N=C.replace(nt,rt);return function(L){return L.getAttribute("id")===N}},t.find.ID=function(C,N){if(typeof N.getElementById<"u"&&l){var L=N.getElementById(C);return L?[L]:[]}}):(t.filter.ID=function(C){var N=C.replace(nt,rt);return function(L){var R=typeof L.getAttributeNode<"u"&&L.getAttributeNode("id");return R&&R.value===N}},t.find.ID=function(C,N){if(typeof N.getElementById<"u"&&l){var L,R,K,H=N.getElementById(C);if(H){if(L=H.getAttributeNode("id"),L&&L.value===C)return[H];for(K=N.getElementsByName(C),R=0;H=K[R++];)if(L=H.getAttributeNode("id"),L&&L.value===C)return[H]}return[]}}),t.find.TAG=function(C,N){return typeof N.getElementsByTagName<"u"?N.getElementsByTagName(C):N.querySelectorAll(C)},t.find.CLASS=function(C,N){if(typeof N.getElementsByClassName<"u"&&l)return N.getElementsByClassName(C)},y=[],It(function(C){var N;p.appendChild(C).innerHTML="<a id='"+P+"' href='' disabled='disabled'></a><select id='"+P+"-\r\\' disabled='disabled'><option selected=''></option></select>",C.querySelectorAll("[selected]").length||y.push("\\["+ce+"*(?:value|"+ze+")"),C.querySelectorAll("[id~="+P+"-]").length||y.push("~="),C.querySelectorAll("a#"+P+"+*").length||y.push(".#.+[+~]"),C.querySelectorAll(":checked").length||y.push(":checked"),N=f.createElement("input"),N.setAttribute("type","hidden"),C.appendChild(N).setAttribute("name","D"),p.appendChild(C).disabled=!0,C.querySelectorAll(":disabled").length!==2&&y.push(":enabled",":disabled"),N=f.createElement("input"),N.setAttribute("name",""),C.appendChild(N),C.querySelectorAll("[name='']").length||y.push("\\["+ce+"*name"+ce+"*="+ce+`*(?:''|"")`)}),j.cssHas||y.push(":has"),y=y.length&&new RegExp(y.join("|")),ye=function(C,N){if(C===N)return a=!0,0;var L=!C.compareDocumentPosition-!N.compareDocumentPosition;return L||(L=(C.ownerDocument||C)==(N.ownerDocument||N)?C.compareDocumentPosition(N):1,L&1||!j.sortDetached&&N.compareDocumentPosition(C)===L?C===f||C.ownerDocument==qe&&le.contains(qe,C)?-1:N===f||N.ownerDocument==qe&&le.contains(qe,N)?1:r?D.call(r,C)-D.call(r,N):0:L&4?-1:1)}),f}le.matches=function(c,d){return le(c,null,null,d)},le.matchesSelector=function(c,d){if(dt(c),l&&!xe[d+" "]&&(!y||!y.test(d)))try{var m=E.call(c,d);if(m||j.disconnectedMatch||c.document&&c.document.nodeType!==11)return m}catch{xe(d,!0)}return le(d,f,null,[c]).length>0},le.contains=function(c,d){return(c.ownerDocument||c)!=f&&dt(c),s.contains(c,d)},le.attr=function(c,d){(c.ownerDocument||c)!=f&&dt(c);var m=t.attrHandle[d.toLowerCase()],C=m&&V.call(t.attrHandle,d.toLowerCase())?m(c,d,!l):void 0;return C!==void 0?C:c.getAttribute(d)},le.error=function(c){throw new Error("Syntax error, unrecognized expression: "+c)},s.uniqueSort=function(c){var d,m=[],C=0,N=0;if(a=!j.sortStable,r=!j.sortStable&&v.call(c,0),hn.call(c,ye),a){for(;d=c[N++];)d===c[N]&&(C=m.push(N));for(;C--;)pn.call(c,m[C],1)}return r=null,c},s.fn.uniqueSort=function(){return this.pushStack(s.uniqueSort(v.apply(this)))},t=s.expr={cacheLength:50,createPseudo:We,match:Ve,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(c){return c[1]=c[1].replace(nt,rt),c[3]=(c[3]||c[4]||c[5]||"").replace(nt,rt),c[2]==="~="&&(c[3]=" "+c[3]+" "),c.slice(0,4)},CHILD:function(c){return c[1]=c[1].toLowerCase(),c[1].slice(0,3)==="nth"?(c[3]||le.error(c[0]),c[4]=+(c[4]?c[5]+(c[6]||1):2*(c[3]==="even"||c[3]==="odd")),c[5]=+(c[7]+c[8]||c[3]==="odd")):c[3]&&le.error(c[0]),c},PSEUDO:function(c){var d,m=!c[6]&&c[2];return Ve.CHILD.test(c[0])?null:(c[3]?c[2]=c[4]||c[5]||"":m&&Qe.test(m)&&(d=rn(m,!0))&&(d=m.indexOf(")",m.length-d)-m.length)&&(c[0]=c[0].slice(0,d),c[2]=m.slice(0,d)),c.slice(0,3))}},filter:{TAG:function(c){var d=c.replace(nt,rt).toLowerCase();return c==="*"?function(){return!0}:function(m){return he(m,d)}},CLASS:function(c){var d=ee[c+" "];return d||(d=new RegExp("(^|"+ce+")"+c+"("+ce+"|$)"))&&ee(c,function(m){return d.test(typeof m.className=="string"&&m.className||typeof m.getAttribute<"u"&&m.getAttribute("class")||"")})},ATTR:function(c,d,m){return function(C){var N=le.attr(C,c);return N==null?d==="!=":d?(N+="",d==="="?N===m:d==="!="?N!==m:d==="^="?m&&N.indexOf(m)===0:d==="*="?m&&N.indexOf(m)>-1:d==="$="?m&&N.slice(-m.length)===m:d==="~="?(" "+N.replace(ue," ")+" ").indexOf(m)>-1:d==="|="?N===m||N.slice(0,m.length+1)===m+"-":!1):!0}},CHILD:function(c,d,m,C,N){var L=c.slice(0,3)!=="nth",R=c.slice(-4)!=="last",K=d==="of-type";return C===1&&N===0?function(H){return!!H.parentNode}:function(H,ie,Y){var ne,se,X,pe,Oe,ke=L!==R?"nextSibling":"previousSibling",He=H.parentNode,Xe=K&&H.nodeName.toLowerCase(),jt=!Y&&!K,Pe=!1;if(He){if(L){for(;ke;){for(X=H;X=X[ke];)if(K?he(X,Xe):X.nodeType===1)return!1;Oe=ke=c==="only"&&!Oe&&"nextSibling"}return!0}if(Oe=[R?He.firstChild:He.lastChild],R&&jt){for(se=He[P]||(He[P]={}),ne=se[c]||[],pe=ne[0]===w&&ne[1],Pe=pe&&ne[2],X=pe&&He.childNodes[pe];X=++pe&&X&&X[ke]||(Pe=pe=0)||Oe.pop();)if(X.nodeType===1&&++Pe&&X===H){se[c]=[w,pe,Pe];break}}else if(jt&&(se=H[P]||(H[P]={}),ne=se[c]||[],pe=ne[0]===w&&ne[1],Pe=pe),Pe===!1)for(;(X=++pe&&X&&X[ke]||(Pe=pe=0)||Oe.pop())&&!((K?he(X,Xe):X.nodeType===1)&&++Pe&&(jt&&(se=X[P]||(X[P]={}),se[c]=[w,Pe]),X===H)););return Pe-=N,Pe===C||Pe%C===0&&Pe/C>=0}}},PSEUDO:function(c,d){var m,C=t.pseudos[c]||t.setFilters[c.toLowerCase()]||le.error("unsupported pseudo: "+c);return C[P]?C(d):C.length>1?(m=[c,c,"",d],t.setFilters.hasOwnProperty(c.toLowerCase())?We(function(N,L){for(var R,K=C(N,d),H=K.length;H--;)R=D.call(N,K[H]),N[R]=!(L[R]=K[H])}):function(N){return C(N,0,m)}):C}},pseudos:{not:We(function(c){var d=[],m=[],C=Ar(c.replace(it,"$1"));return C[P]?We(function(N,L,R,K){for(var H,ie=C(N,null,K,[]),Y=N.length;Y--;)(H=ie[Y])&&(N[Y]=!(L[Y]=H))}):function(N,L,R){return d[0]=N,C(d,null,R,m),d[0]=null,!m.pop()}}),has:We(function(c){return function(d){return le(c,d).length>0}}),contains:We(function(c){return c=c.replace(nt,rt),function(d){return(d.textContent||s.text(d)).indexOf(c)>-1}}),lang:We(function(c){return nn.test(c||"")||le.error("unsupported lang: "+c),c=c.replace(nt,rt).toLowerCase(),function(d){var m;do if(m=l?d.lang:d.getAttribute("xml:lang")||d.getAttribute("lang"))return m=m.toLowerCase(),m===c||m.indexOf(c+"-")===0;while((d=d.parentNode)&&d.nodeType===1);return!1}}),target:function(c){var d=i.location&&i.location.hash;return d&&d.slice(1)===c.id},root:function(c){return c===p},focus:function(c){return c===Mi()&&f.hasFocus()&&!!(c.type||c.href||~c.tabIndex)},enabled:Jr(!1),disabled:Jr(!0),checked:function(c){return he(c,"input")&&!!c.checked||he(c,"option")&&!!c.selected},selected:function(c){return c.parentNode&&c.parentNode.selectedIndex,c.selected===!0},empty:function(c){for(c=c.firstChild;c;c=c.nextSibling)if(c.nodeType<6)return!1;return!0},parent:function(c){return!t.pseudos.empty(c)},header:function(c){return pt.test(c.nodeName)},input:function(c){return ht.test(c.nodeName)},button:function(c){return he(c,"input")&&c.type==="button"||he(c,"button")},text:function(c){var d;return he(c,"input")&&c.type==="text"&&((d=c.getAttribute("type"))==null||d.toLowerCase()==="text")},first:kt(function(){return[0]}),last:kt(function(c,d){return[d-1]}),eq:kt(function(c,d,m){return[m<0?m+d:m]}),even:kt(function(c,d){for(var m=0;m<d;m+=2)c.push(m);return c}),odd:kt(function(c,d){for(var m=1;m<d;m+=2)c.push(m);return c}),lt:kt(function(c,d,m){var C;for(m<0?C=m+d:m>d?C=d:C=m;--C>=0;)c.push(C);return c}),gt:kt(function(c,d,m){for(var C=m<0?m+d:m;++C<d;)c.push(C);return c})}},t.pseudos.nth=t.pseudos.eq;for(e in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})t.pseudos[e]=Ii(e);for(e in{submit:!0,reset:!0})t.pseudos[e]=ji(e);function Zr(){}Zr.prototype=t.filters=t.pseudos,t.setFilters=new Zr;function rn(c,d){var m,C,N,L,R,K,H,ie=ae[c+" "];if(ie)return d?0:ie.slice(0);for(R=c,K=[],H=t.preFilter;R;){(!m||(C=de.exec(R)))&&(C&&(R=R.slice(C[0].length)||R),K.push(N=[])),m=!1,(C=tn.exec(R))&&(m=C.shift(),N.push({value:m,type:C[0].replace(it," ")}),R=R.slice(m.length));for(L in t.filter)(C=Ve[L].exec(R))&&(!H[L]||(C=H[L](C)))&&(m=C.shift(),N.push({value:m,type:L,matches:C}),R=R.slice(m.length));if(!m)break}return d?R.length:R?le.error(c):ae(c,K).slice(0)}function Fn(c){for(var d=0,m=c.length,C="";d<m;d++)C+=c[d].value;return C}function Bn(c,d,m){var C=d.dir,N=d.next,L=N||C,R=m&&L==="parentNode",K=O++;return d.first?function(H,ie,Y){for(;H=H[C];)if(H.nodeType===1||R)return c(H,ie,Y);return!1}:function(H,ie,Y){var ne,se,X=[w,K];if(Y){for(;H=H[C];)if((H.nodeType===1||R)&&c(H,ie,Y))return!0}else for(;H=H[C];)if(H.nodeType===1||R)if(se=H[P]||(H[P]={}),N&&he(H,N))H=H[C]||H;else{if((ne=se[L])&&ne[0]===w&&ne[1]===K)return X[2]=ne[2];if(se[L]=X,X[2]=c(H,ie,Y))return!0}return!1}}function Tr(c){return c.length>1?function(d,m,C){for(var N=c.length;N--;)if(!c[N](d,m,C))return!1;return!0}:c[0]}function Ri(c,d,m){for(var C=0,N=d.length;C<N;C++)le(c,d[C],m);return m}function Un(c,d,m,C,N){for(var L,R=[],K=0,H=c.length,ie=d!=null;K<H;K++)(L=c[K])&&(!m||m(L,C,N))&&(R.push(L),ie&&d.push(K));return R}function Er(c,d,m,C,N,L){return C&&!C[P]&&(C=Er(C)),N&&!N[P]&&(N=Er(N,L)),We(function(R,K,H,ie){var Y,ne,se,X,pe=[],Oe=[],ke=K.length,He=R||Ri(d||"*",H.nodeType?[H]:H,[]),Xe=c&&(R||!d)?Un(He,pe,c,H,ie):He;if(m?(X=N||(R?c:ke||C)?[]:K,m(Xe,X,H,ie)):X=Xe,C)for(Y=Un(X,Oe),C(Y,[],H,ie),ne=Y.length;ne--;)(se=Y[ne])&&(X[Oe[ne]]=!(Xe[Oe[ne]]=se));if(R){if(N||c){if(N){for(Y=[],ne=X.length;ne--;)(se=X[ne])&&Y.push(Xe[ne]=se);N(null,X=[],Y,ie)}for(ne=X.length;ne--;)(se=X[ne])&&(Y=N?D.call(R,se):pe[ne])>-1&&(R[Y]=!(K[Y]=se))}}else X=Un(X===K?X.splice(ke,X.length):X),N?N(null,K,X,ie):u.apply(K,X)})}function kr(c){for(var d,m,C,N=c.length,L=t.relative[c[0].type],R=L||t.relative[" "],K=L?1:0,H=Bn(function(ne){return ne===d},R,!0),ie=Bn(function(ne){return D.call(d,ne)>-1},R,!0),Y=[function(ne,se,X){var pe=!L&&(X||se!=n)||((d=se).nodeType?H(ne,se,X):ie(ne,se,X));return d=null,pe}];K<N;K++)if(m=t.relative[c[K].type])Y=[Bn(Tr(Y),m)];else{if(m=t.filter[c[K].type].apply(null,c[K].matches),m[P]){for(C=++K;C<N&&!t.relative[c[C].type];C++);return Er(K>1&&Tr(Y),K>1&&Fn(c.slice(0,K-1).concat({value:c[K-2].type===" "?"*":""})).replace(it,"$1"),m,K<C&&kr(c.slice(K,C)),C<N&&kr(c=c.slice(C)),C<N&&Fn(c))}Y.push(m)}return Tr(Y)}function Hi(c,d){var m=d.length>0,C=c.length>0,N=function(L,R,K,H,ie){var Y,ne,se,X=0,pe="0",Oe=L&&[],ke=[],He=n,Xe=L||C&&t.find.TAG("*",ie),jt=w+=He==null?1:Math.random()||.1,Pe=Xe.length;for(ie&&(n=R==f||R||ie);pe!==Pe&&(Y=Xe[pe])!=null;pe++){if(C&&Y){for(ne=0,!R&&Y.ownerDocument!=f&&(dt(Y),K=!l);se=c[ne++];)if(se(Y,R||f,K)){u.call(H,Y);break}ie&&(w=jt)}m&&((Y=!se&&Y)&&X--,L&&Oe.push(Y))}if(X+=pe,m&&pe!==X){for(ne=0;se=d[ne++];)se(Oe,ke,R,K);if(L){if(X>0)for(;pe--;)Oe[pe]||ke[pe]||(ke[pe]=Dt.call(H));ke=Un(ke)}u.apply(H,ke),ie&&!L&&ke.length>0&&X+d.length>1&&s.uniqueSort(H)}return ie&&(w=jt,n=He),Oe};return m?We(N):N}function Ar(c,d){var m,C=[],N=[],L=re[c+" "];if(!L){for(d||(d=rn(c)),m=d.length;m--;)L=kr(d[m]),L[P]?C.push(L):N.push(L);L=re(c,Hi(N,C)),L.selector=c}return L}function ei(c,d,m,C){var N,L,R,K,H,ie=typeof c=="function"&&c,Y=!C&&rn(c=ie.selector||c);if(m=m||[],Y.length===1){if(L=Y[0]=Y[0].slice(0),L.length>2&&(R=L[0]).type==="ID"&&d.nodeType===9&&l&&t.relative[L[1].type]){if(d=(t.find.ID(R.matches[0].replace(nt,rt),d)||[])[0],d)ie&&(d=d.parentNode);else return m;c=c.slice(L.shift().value.length)}for(N=Ve.needsContext.test(c)?0:L.length;N--&&(R=L[N],!t.relative[K=R.type]);)if((H=t.find[K])&&(C=H(R.matches[0].replace(nt,rt),Cr.test(L[0].type)&&Sr(d.parentNode)||d))){if(L.splice(N,1),c=C.length&&Fn(L),!c)return u.apply(m,C),m;break}}return(ie||Ar(c,Y))(C,d,!l,m,!d||Cr.test(c)&&Sr(d.parentNode)||d),m}j.sortStable=P.split("").sort(ye).join("")===P,dt(),j.sortDetached=It(function(c){return c.compareDocumentPosition(f.createElement("fieldset"))&1}),s.find=le,s.expr[":"]=s.expr.pseudos,s.unique=s.uniqueSort,le.compile=Ar,le.select=ei,le.setDocument=dt,le.tokenize=rn,le.escape=s.escapeSelector,le.getText=s.text,le.isXML=s.isXMLDoc,le.selectors=s.expr,le.support=s.support,le.uniqueSort=s.uniqueSort})();var st=function(e,t,n){for(var r=[],a=n!==void 0;(e=e[t])&&e.nodeType!==9;)if(e.nodeType===1){if(a&&s(e).is(n))break;r.push(e)}return r},Wt=function(e,t){for(var n=[];e;e=e.nextSibling)e.nodeType===1&&e!==t&&n.push(e);return n},_n=s.expr.match.needsContext,yn=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function bt(e,t,n){return F(t)?s.grep(e,function(r,a){return!!t.call(r,a,r)!==n}):t.nodeType?s.grep(e,function(r){return r===t!==n}):typeof t!="string"?s.grep(e,function(r){return D.call(t,r)>-1!==n}):s.filter(t,e,n)}s.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),t.length===1&&r.nodeType===1?s.find.matchesSelector(r,e)?[r]:[]:s.find.matches(e,s.grep(t,function(a){return a.nodeType===1}))},s.fn.extend({find:function(e){var t,n,r=this.length,a=this;if(typeof e!="string")return this.pushStack(s(e).filter(function(){for(t=0;t<r;t++)if(s.contains(a[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)s.find(e,a[t],n);return r>1?s.uniqueSort(n):n},filter:function(e){return this.pushStack(bt(this,e||[],!1))},not:function(e){return this.pushStack(bt(this,e||[],!0))},is:function(e){return!!bt(this,typeof e=="string"&&_n.test(e)?s(e):e||[],!1).length}});var vn,bn=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,tr=s.fn.init=function(e,t,n){var r,a;if(!e)return this;if(n=n||vn,typeof e=="string")if(e[0]==="<"&&e[e.length-1]===">"&&e.length>=3?r=[null,e,null]:r=bn.exec(e),r&&(r[1]||!t))if(r[1]){if(t=t instanceof s?t[0]:t,s.merge(this,s.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:Z,!0)),yn.test(r[1])&&s.isPlainObject(t))for(r in t)F(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}else return a=Z.getElementById(r[2]),a&&(this[0]=a,this.length=1),this;else return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);else{if(e.nodeType)return this[0]=e,this.length=1,this;if(F(e))return n.ready!==void 0?n.ready(e):e(s)}return s.makeArray(e,this)};tr.prototype=s.fn,vn=s(Z);var Ot=/^(?:parents|prev(?:Until|All))/,nr={children:!0,contents:!0,next:!0,prev:!0};s.fn.extend({has:function(e){var t=s(e,this),n=t.length;return this.filter(function(){for(var r=0;r<n;r++)if(s.contains(this,t[r]))return!0})},closest:function(e,t){var n,r=0,a=this.length,u=[],f=typeof e!="string"&&s(e);if(!_n.test(e)){for(;r<a;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(f?f.index(n)>-1:n.nodeType===1&&s.find.matchesSelector(n,e))){u.push(n);break}}return this.pushStack(u.length>1?s.uniqueSort(u):u)},index:function(e){return e?typeof e=="string"?D.call(s(e),this[0]):D.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(s.uniqueSort(s.merge(this.get(),s(e,t))))},addBack:function(e){return this.add(e==null?this.prevObject:this.prevObject.filter(e))}});function Kt(e,t){for(;(e=e[t])&&e.nodeType!==1;);return e}s.each({parent:function(e){var t=e.parentNode;return t&&t.nodeType!==11?t:null},parents:function(e){return st(e,"parentNode")},parentsUntil:function(e,t,n){return st(e,"parentNode",n)},next:function(e){return Kt(e,"nextSibling")},prev:function(e){return Kt(e,"previousSibling")},nextAll:function(e){return st(e,"nextSibling")},prevAll:function(e){return st(e,"previousSibling")},nextUntil:function(e,t,n){return st(e,"nextSibling",n)},prevUntil:function(e,t,n){return st(e,"previousSibling",n)},siblings:function(e){return Wt((e.parentNode||{}).firstChild,e)},children:function(e){return Wt(e.firstChild)},contents:function(e){return e.contentDocument!=null&&_(e.contentDocument)?e.contentDocument:(he(e,"template")&&(e=e.content||e),s.merge([],e.childNodes))}},function(e,t){s.fn[e]=function(n,r){var a=s.map(this,t,n);return e.slice(-5)!=="Until"&&(r=n),r&&typeof r=="string"&&(a=s.filter(r,a)),this.length>1&&(nr[e]||s.uniqueSort(a),Ot.test(e)&&a.reverse()),this.pushStack(a)}});var $e=/[^\x20\t\r\n\f]+/g;function rr(e){var t={};return s.each(e.match($e)||[],function(n,r){t[r]=!0}),t}s.Callbacks=function(e){e=typeof e=="string"?rr(e):s.extend({},e);var t,n,r,a,u=[],f=[],p=-1,l=function(){for(a=a||e.once,r=t=!0;f.length;p=-1)for(n=f.shift();++p<u.length;)u[p].apply(n[0],n[1])===!1&&e.stopOnFalse&&(p=u.length,n=!1);e.memory||(n=!1),t=!1,a&&(n?u=[]:u="")},y={add:function(){return u&&(n&&!t&&(p=u.length-1,f.push(n)),function E(P){s.each(P,function(w,O){F(O)?(!e.unique||!y.has(O))&&u.push(O):O&&O.length&&Ye(O)!=="string"&&E(O)})}(arguments),n&&!t&&l()),this},remove:function(){return s.each(arguments,function(E,P){for(var w;(w=s.inArray(P,u,w))>-1;)u.splice(w,1),w<=p&&p--}),this},has:function(E){return E?s.inArray(E,u)>-1:u.length>0},empty:function(){return u&&(u=[]),this},disable:function(){return a=f=[],u=n="",this},disabled:function(){return!u},lock:function(){return a=f=[],!n&&!t&&(u=n=""),this},locked:function(){return!!a},fireWith:function(E,P){return a||(P=P||[],P=[E,P.slice?P.slice():P],f.push(P),t||l()),this},fire:function(){return y.fireWith(this,arguments),this},fired:function(){return!!r}};return y};function ot(e){return e}function Lt(e){throw e}function mn(e,t,n,r){var a;try{e&&F(a=e.promise)?a.call(e).done(t).fail(n):e&&F(a=e.then)?a.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(u){n.apply(void 0,[u])}}s.extend({Deferred:function(e){var t=[["notify","progress",s.Callbacks("memory"),s.Callbacks("memory"),2],["resolve","done",s.Callbacks("once memory"),s.Callbacks("once memory"),0,"resolved"],["reject","fail",s.Callbacks("once memory"),s.Callbacks("once memory"),1,"rejected"]],n="pending",r={state:function(){return n},always:function(){return a.done(arguments).fail(arguments),this},catch:function(u){return r.then(null,u)},pipe:function(){var u=arguments;return s.Deferred(function(f){s.each(t,function(p,l){var y=F(u[l[4]])&&u[l[4]];a[l[1]](function(){var E=y&&y.apply(this,arguments);E&&F(E.promise)?E.promise().progress(f.notify).done(f.resolve).fail(f.reject):f[l[0]+"With"](this,y?[E]:arguments)})}),u=null}).promise()},then:function(u,f,p){var l=0;function y(E,P,w,O){return function(){var ee=this,ae=arguments,re=function(){var ye,ze;if(!(E<l)){if(ye=w.apply(ee,ae),ye===P.promise())throw new TypeError("Thenable self-resolution");ze=ye&&(typeof ye=="object"||typeof ye=="function")&&ye.then,F(ze)?O?ze.call(ye,y(l,P,ot,O),y(l,P,Lt,O)):(l++,ze.call(ye,y(l,P,ot,O),y(l,P,Lt,O),y(l,P,ot,P.notifyWith))):(w!==ot&&(ee=void 0,ae=[ye]),(O||P.resolveWith)(ee,ae))}},xe=O?re:function(){try{re()}catch(ye){s.Deferred.exceptionHook&&s.Deferred.exceptionHook(ye,xe.error),E+1>=l&&(w!==Lt&&(ee=void 0,ae=[ye]),P.rejectWith(ee,ae))}};E?xe():(s.Deferred.getErrorHook?xe.error=s.Deferred.getErrorHook():s.Deferred.getStackHook&&(xe.error=s.Deferred.getStackHook()),i.setTimeout(xe))}}return s.Deferred(function(E){t[0][3].add(y(0,E,F(p)?p:ot,E.notifyWith)),t[1][3].add(y(0,E,F(u)?u:ot)),t[2][3].add(y(0,E,F(f)?f:Lt))}).promise()},promise:function(u){return u!=null?s.extend(u,r):r}},a={};return s.each(t,function(u,f){var p=f[2],l=f[5];r[f[1]]=p.add,l&&p.add(function(){n=l},t[3-u][2].disable,t[3-u][3].disable,t[0][2].lock,t[0][3].lock),p.add(f[3].fire),a[f[0]]=function(){return a[f[0]+"With"](this===a?void 0:this,arguments),this},a[f[0]+"With"]=p.fireWith}),r.promise(a),e&&e.call(a,a),a},when:function(e){var t=arguments.length,n=t,r=Array(n),a=v.call(arguments),u=s.Deferred(),f=function(p){return function(l){r[p]=this,a[p]=arguments.length>1?v.call(arguments):l,--t||u.resolveWith(r,a)}};if(t<=1&&(mn(e,u.done(f(n)).resolve,u.reject,!t),u.state()==="pending"||F(a[n]&&a[n].then)))return u.then();for(;n--;)mn(a[n],f(n),u.reject);return u.promise()}});var wn=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;s.Deferred.exceptionHook=function(e,t){i.console&&i.console.warn&&e&&wn.test(e.name)&&i.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},s.readyException=function(e){i.setTimeout(function(){throw e})};var zt=s.Deferred();s.fn.ready=function(e){return zt.then(e).catch(function(t){s.readyException(t)}),this},s.extend({isReady:!1,readyWait:1,ready:function(e){(e===!0?--s.readyWait:s.isReady)||(s.isReady=!0,!(e!==!0&&--s.readyWait>0)&&zt.resolveWith(Z,[s]))}}),s.ready.then=zt.then;function qt(){Z.removeEventListener("DOMContentLoaded",qt),i.removeEventListener("load",qt),s.ready()}Z.readyState==="complete"||Z.readyState!=="loading"&&!Z.documentElement.doScroll?i.setTimeout(s.ready):(Z.addEventListener("DOMContentLoaded",qt),i.addEventListener("load",qt));var Me=function(e,t,n,r,a,u,f){var p=0,l=e.length,y=n==null;if(Ye(n)==="object"){a=!0;for(p in n)Me(e,t,p,n[p],!0,u,f)}else if(r!==void 0&&(a=!0,F(r)||(f=!0),y&&(f?(t.call(e,r),t=null):(y=t,t=function(E,P,w){return y.call(s(E),w)})),t))for(;p<l;p++)t(e[p],n,f?r:r.call(e[p],p,t(e[p],n)));return a?e:y?t.call(e):l?t(e[0],n):u},ir=/^-ms-/,sr=/-([a-z])/g;function or(e,t){return t.toUpperCase()}function Ie(e){return e.replace(ir,"ms-").replace(sr,or)}var at=function(e){return e.nodeType===1||e.nodeType===9||!+e.nodeType};function mt(){this.expando=s.expando+mt.uid++}mt.uid=1,mt.prototype={cache:function(e){var t=e[this.expando];return t||(t={},at(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,a=this.cache(e);if(typeof t=="string")a[Ie(t)]=n;else for(r in t)a[Ie(r)]=t[r];return a},get:function(e,t){return t===void 0?this.cache(e):e[this.expando]&&e[this.expando][Ie(t)]},access:function(e,t,n){return t===void 0||t&&typeof t=="string"&&n===void 0?this.get(e,t):(this.set(e,t,n),n!==void 0?n:t)},remove:function(e,t){var n,r=e[this.expando];if(r!==void 0){if(t!==void 0)for(Array.isArray(t)?t=t.map(Ie):(t=Ie(t),t=t in r?[t]:t.match($e)||[]),n=t.length;n--;)delete r[t[n]];(t===void 0||s.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return t!==void 0&&!s.isEmptyObject(t)}};var z=new mt,Te=new mt,xn=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ar=/[A-Z]/g;function ur(e){return e==="true"?!0:e==="false"?!1:e==="null"?null:e===+e+""?+e:xn.test(e)?JSON.parse(e):e}function Cn(e,t,n){var r;if(n===void 0&&e.nodeType===1)if(r="data-"+t.replace(ar,"-$&").toLowerCase(),n=e.getAttribute(r),typeof n=="string"){try{n=ur(n)}catch{}Te.set(e,t,n)}else n=void 0;return n}s.extend({hasData:function(e){return Te.hasData(e)||z.hasData(e)},data:function(e,t,n){return Te.access(e,t,n)},removeData:function(e,t){Te.remove(e,t)},_data:function(e,t,n){return z.access(e,t,n)},_removeData:function(e,t){z.remove(e,t)}}),s.fn.extend({data:function(e,t){var n,r,a,u=this[0],f=u&&u.attributes;if(e===void 0){if(this.length&&(a=Te.get(u),u.nodeType===1&&!z.get(u,"hasDataAttrs"))){for(n=f.length;n--;)f[n]&&(r=f[n].name,r.indexOf("data-")===0&&(r=Ie(r.slice(5)),Cn(u,r,a[r])));z.set(u,"hasDataAttrs",!0)}return a}return typeof e=="object"?this.each(function(){Te.set(this,e)}):Me(this,function(p){var l;if(u&&p===void 0)return l=Te.get(u,e),l!==void 0||(l=Cn(u,e),l!==void 0)?l:void 0;this.each(function(){Te.set(this,e,p)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){Te.remove(this,e)})}}),s.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=z.get(e,t),n&&(!r||Array.isArray(n)?r=z.access(e,t,s.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=s.queue(e,t),r=n.length,a=n.shift(),u=s._queueHooks(e,t),f=function(){s.dequeue(e,t)};a==="inprogress"&&(a=n.shift(),r--),a&&(t==="fx"&&n.unshift("inprogress"),delete u.stop,a.call(e,f,u)),!r&&u&&u.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return z.get(e,n)||z.access(e,n,{empty:s.Callbacks("once memory").add(function(){z.remove(e,[t+"queue",n])})})}}),s.fn.extend({queue:function(e,t){var n=2;return typeof e!="string"&&(t=e,e="fx",n--),arguments.length<n?s.queue(this[0],e):t===void 0?this:this.each(function(){var r=s.queue(this,e,t);s._queueHooks(this,e),e==="fx"&&r[0]!=="inprogress"&&s.dequeue(this,e)})},dequeue:function(e){return this.each(function(){s.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,a=s.Deferred(),u=this,f=this.length,p=function(){--r||a.resolveWith(u,[u])};for(typeof e!="string"&&(t=e,e=void 0),e=e||"fx";f--;)n=z.get(u[f],e+"queueHooks"),n&&n.empty&&(r++,n.empty.add(p));return p(),a.promise(t)}});var Sn=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,wt=new RegExp("^(?:([+-])=|)("+Sn+")([a-z%]*)$","i"),Fe=["Top","Right","Bottom","Left"],Je=Z.documentElement,ut=function(e){return s.contains(e.ownerDocument,e)},fr={composed:!0};Je.getRootNode&&(ut=function(e){return s.contains(e.ownerDocument,e)||e.getRootNode(fr)===e.ownerDocument});var xt=function(e,t){return e=t||e,e.style.display==="none"||e.style.display===""&&ut(e)&&s.css(e,"display")==="none"};function Tn(e,t,n,r){var a,u,f=20,p=r?function(){return r.cur()}:function(){return s.css(e,t,"")},l=p(),y=n&&n[3]||(s.cssNumber[t]?"":"px"),E=e.nodeType&&(s.cssNumber[t]||y!=="px"&&+l)&&wt.exec(s.css(e,t));if(E&&E[3]!==y){for(l=l/2,y=y||E[3],E=+l||1;f--;)s.style(e,t,E+y),(1-u)*(1-(u=p()/l||.5))<=0&&(f=0),E=E/u;E=E*2,s.style(e,t,E+y),n=n||[]}return n&&(E=+E||+l||0,a=n[1]?E+(n[1]+1)*n[2]:+n[2],r&&(r.unit=y,r.start=E,r.end=a)),a}var En={};function cr(e){var t,n=e.ownerDocument,r=e.nodeName,a=En[r];return a||(t=n.body.appendChild(n.createElement(r)),a=s.css(t,"display"),t.parentNode.removeChild(t),a==="none"&&(a="block"),En[r]=a,a)}function ft(e,t){for(var n,r,a=[],u=0,f=e.length;u<f;u++)r=e[u],r.style&&(n=r.style.display,t?(n==="none"&&(a[u]=z.get(r,"display")||null,a[u]||(r.style.display="")),r.style.display===""&&xt(r)&&(a[u]=cr(r))):n!=="none"&&(a[u]="none",z.set(r,"display",n)));for(u=0;u<f;u++)a[u]!=null&&(e[u].style.display=a[u]);return e}s.fn.extend({show:function(){return ft(this,!0)},hide:function(){return ft(this)},toggle:function(e){return typeof e=="boolean"?e?this.show():this.hide():this.each(function(){xt(this)?s(this).show():s(this).hide()})}});var Ct=/^(?:checkbox|radio)$/i,kn=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,An=/^$|^module$|\/(?:java|ecma)script/i;(function(){var e=Z.createDocumentFragment(),t=e.appendChild(Z.createElement("div")),n=Z.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),j.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",j.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,t.innerHTML="<option></option>",j.option=!!t.lastChild})();var De={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};De.tbody=De.tfoot=De.colgroup=De.caption=De.thead,De.th=De.td,j.option||(De.optgroup=De.option=[1,"<select multiple='multiple'>","</select>"]);function Ee(e,t){var n;return typeof e.getElementsByTagName<"u"?n=e.getElementsByTagName(t||"*"):typeof e.querySelectorAll<"u"?n=e.querySelectorAll(t||"*"):n=[],t===void 0||t&&he(e,t)?s.merge([e],n):n}function Gt(e,t){for(var n=0,r=e.length;n<r;n++)z.set(e[n],"globalEval",!t||z.get(t[n],"globalEval"))}var lr=/<|&#?\w+;/;function S(e,t,n,r,a){for(var u,f,p,l,y,E,P=t.createDocumentFragment(),w=[],O=0,ee=e.length;O<ee;O++)if(u=e[O],u||u===0)if(Ye(u)==="object")s.merge(w,u.nodeType?[u]:u);else if(!lr.test(u))w.push(t.createTextNode(u));else{for(f=f||P.appendChild(t.createElement("div")),p=(kn.exec(u)||["",""])[1].toLowerCase(),l=De[p]||De._default,f.innerHTML=l[1]+s.htmlPrefilter(u)+l[2],E=l[0];E--;)f=f.lastChild;s.merge(w,f.childNodes),f=P.firstChild,f.textContent=""}for(P.textContent="",O=0;u=w[O++];){if(r&&s.inArray(u,r)>-1){a&&a.push(u);continue}if(y=ut(u),f=Ee(P.appendChild(u),"script"),y&&Gt(f),n)for(E=0;u=f[E++];)An.test(u.type||"")&&n.push(u)}return P}var Ze=/^([^.]*)(?:\.(.+)|)/;function be(){return!0}function Be(){return!1}function $(e,t,n,r,a,u){var f,p;if(typeof t=="object"){typeof n!="string"&&(r=r||n,n=void 0);for(p in t)$(e,p,n,r,t[p],u);return e}if(r==null&&a==null?(a=n,r=n=void 0):a==null&&(typeof n=="string"?(a=r,r=void 0):(a=r,r=n,n=void 0)),a===!1)a=Be;else if(!a)return e;return u===1&&(f=a,a=function(l){return s().off(l),f.apply(this,arguments)},a.guid=f.guid||(f.guid=s.guid++)),e.each(function(){s.event.add(this,t,a,r,n)})}s.event={global:{},add:function(e,t,n,r,a){var u,f,p,l,y,E,P,w,O,ee,ae,re=z.get(e);if(at(e))for(n.handler&&(u=n,n=u.handler,a=u.selector),a&&s.find.matchesSelector(Je,a),n.guid||(n.guid=s.guid++),(l=re.events)||(l=re.events=Object.create(null)),(f=re.handle)||(f=re.handle=function(xe){return typeof s<"u"&&s.event.triggered!==xe.type?s.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match($e)||[""],y=t.length;y--;)p=Ze.exec(t[y])||[],O=ae=p[1],ee=(p[2]||"").split(".").sort(),O&&(P=s.event.special[O]||{},O=(a?P.delegateType:P.bindType)||O,P=s.event.special[O]||{},E=s.extend({type:O,origType:ae,data:r,handler:n,guid:n.guid,selector:a,needsContext:a&&s.expr.match.needsContext.test(a),namespace:ee.join(".")},u),(w=l[O])||(w=l[O]=[],w.delegateCount=0,(!P.setup||P.setup.call(e,r,ee,f)===!1)&&e.addEventListener&&e.addEventListener(O,f)),P.add&&(P.add.call(e,E),E.handler.guid||(E.handler.guid=n.guid)),a?w.splice(w.delegateCount++,0,E):w.push(E),s.event.global[O]=!0)},remove:function(e,t,n,r,a){var u,f,p,l,y,E,P,w,O,ee,ae,re=z.hasData(e)&&z.get(e);if(!(!re||!(l=re.events))){for(t=(t||"").match($e)||[""],y=t.length;y--;){if(p=Ze.exec(t[y])||[],O=ae=p[1],ee=(p[2]||"").split(".").sort(),!O){for(O in l)s.event.remove(e,O+t[y],n,r,!0);continue}for(P=s.event.special[O]||{},O=(r?P.delegateType:P.bindType)||O,w=l[O]||[],p=p[2]&&new RegExp("(^|\\.)"+ee.join("\\.(?:.*\\.|)")+"(\\.|$)"),f=u=w.length;u--;)E=w[u],(a||ae===E.origType)&&(!n||n.guid===E.guid)&&(!p||p.test(E.namespace))&&(!r||r===E.selector||r==="**"&&E.selector)&&(w.splice(u,1),E.selector&&w.delegateCount--,P.remove&&P.remove.call(e,E));f&&!w.length&&((!P.teardown||P.teardown.call(e,ee,re.handle)===!1)&&s.removeEvent(e,O,re.handle),delete l[O])}s.isEmptyObject(l)&&z.remove(e,"handle events")}},dispatch:function(e){var t,n,r,a,u,f,p=new Array(arguments.length),l=s.event.fix(e),y=(z.get(this,"events")||Object.create(null))[l.type]||[],E=s.event.special[l.type]||{};for(p[0]=l,t=1;t<arguments.length;t++)p[t]=arguments[t];if(l.delegateTarget=this,!(E.preDispatch&&E.preDispatch.call(this,l)===!1)){for(f=s.event.handlers.call(this,l,y),t=0;(a=f[t++])&&!l.isPropagationStopped();)for(l.currentTarget=a.elem,n=0;(u=a.handlers[n++])&&!l.isImmediatePropagationStopped();)(!l.rnamespace||u.namespace===!1||l.rnamespace.test(u.namespace))&&(l.handleObj=u,l.data=u.data,r=((s.event.special[u.origType]||{}).handle||u.handler).apply(a.elem,p),r!==void 0&&(l.result=r)===!1&&(l.preventDefault(),l.stopPropagation()));return E.postDispatch&&E.postDispatch.call(this,l),l.result}},handlers:function(e,t){var n,r,a,u,f,p=[],l=t.delegateCount,y=e.target;if(l&&y.nodeType&&!(e.type==="click"&&e.button>=1)){for(;y!==this;y=y.parentNode||this)if(y.nodeType===1&&!(e.type==="click"&&y.disabled===!0)){for(u=[],f={},n=0;n<l;n++)r=t[n],a=r.selector+" ",f[a]===void 0&&(f[a]=r.needsContext?s(a,this).index(y)>-1:s.find(a,this,null,[y]).length),f[a]&&u.push(r);u.length&&p.push({elem:y,handlers:u})}}return y=this,l<t.length&&p.push({elem:y,handlers:t.slice(l)}),p},addProp:function(e,t){Object.defineProperty(s.Event.prototype,e,{enumerable:!0,configurable:!0,get:F(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(n){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:n})}})},fix:function(e){return e[s.expando]?e:new s.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return Ct.test(t.type)&&t.click&&he(t,"input")&&Ke(t,"click",!0),!1},trigger:function(e){var t=this||e;return Ct.test(t.type)&&t.click&&he(t,"input")&&Ke(t,"click"),!0},_default:function(e){var t=e.target;return Ct.test(t.type)&&t.click&&he(t,"input")&&z.get(t,"click")||he(t,"a")}},beforeunload:{postDispatch:function(e){e.result!==void 0&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}};function Ke(e,t,n){if(!n){z.get(e,t)===void 0&&s.event.add(e,t,be);return}z.set(e,t,!1),s.event.add(e,t,{namespace:!1,handler:function(r){var a,u=z.get(this,t);if(r.isTrigger&1&&this[t]){if(u)(s.event.special[t]||{}).delegateType&&r.stopPropagation();else if(u=v.call(arguments),z.set(this,t,u),this[t](),a=z.get(this,t),z.set(this,t,!1),u!==a)return r.stopImmediatePropagation(),r.preventDefault(),a}else u&&(z.set(this,t,s.event.trigger(u[0],u.slice(1),this)),r.stopPropagation(),r.isImmediatePropagationStopped=be)}})}s.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},s.Event=function(e,t){if(!(this instanceof s.Event))return new s.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.defaultPrevented===void 0&&e.returnValue===!1?be:Be,this.target=e.target&&e.target.nodeType===3?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&s.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[s.expando]=!0},s.Event.prototype={constructor:s.Event,isDefaultPrevented:Be,isPropagationStopped:Be,isImmediatePropagationStopped:Be,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=be,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=be,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=be,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},s.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},s.event.addProp),s.each({focus:"focusin",blur:"focusout"},function(e,t){function n(r){if(Z.documentMode){var a=z.get(this,"handle"),u=s.event.fix(r);u.type=r.type==="focusin"?"focus":"blur",u.isSimulated=!0,a(r),u.target===u.currentTarget&&a(u)}else s.event.simulate(t,r.target,s.event.fix(r))}s.event.special[e]={setup:function(){var r;if(Ke(this,e,!0),Z.documentMode)r=z.get(this,t),r||this.addEventListener(t,n),z.set(this,t,(r||0)+1);else return!1},trigger:function(){return Ke(this,e),!0},teardown:function(){var r;if(Z.documentMode)r=z.get(this,t)-1,r?z.set(this,t,r):(this.removeEventListener(t,n),z.remove(this,t));else return!1},_default:function(r){return z.get(r.target,e)},delegateType:t},s.event.special[t]={setup:function(){var r=this.ownerDocument||this.document||this,a=Z.documentMode?this:r,u=z.get(a,t);u||(Z.documentMode?this.addEventListener(t,n):r.addEventListener(e,n,!0)),z.set(a,t,(u||0)+1)},teardown:function(){var r=this.ownerDocument||this.document||this,a=Z.documentMode?this:r,u=z.get(a,t)-1;u?z.set(a,t,u):(Z.documentMode?this.removeEventListener(t,n):r.removeEventListener(e,n,!0),z.remove(a,t))}}}),s.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){s.event.special[e]={delegateType:t,bindType:t,handle:function(n){var r,a=this,u=n.relatedTarget,f=n.handleObj;return(!u||u!==a&&!s.contains(a,u))&&(n.type=f.origType,r=f.handler.apply(this,arguments),n.type=t),r}}}),s.fn.extend({on:function(e,t,n,r){return $(this,e,t,n,r)},one:function(e,t,n,r){return $(this,e,t,n,r,1)},off:function(e,t,n){var r,a;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,s(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if(typeof e=="object"){for(a in e)this.off(a,t,e[a]);return this}return(t===!1||typeof t=="function")&&(n=t,t=void 0),n===!1&&(n=Be),this.each(function(){s.event.remove(this,e,n,t)})}});var ge=/<script|<style|<link/i,je=/checked\s*(?:[^=]|=\s*.checked.)/i,hr=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Ne(e,t){return he(e,"table")&&he(t.nodeType!==11?t:t.firstChild,"tr")&&s(e).children("tbody")[0]||e}function Nn(e){return e.type=(e.getAttribute("type")!==null)+"/"+e.type,e}function Pn(e){return(e.type||"").slice(0,5)==="true/"?e.type=e.type.slice(5):e.removeAttribute("type"),e}function G(e,t){var n,r,a,u,f,p,l;if(t.nodeType===1){if(z.hasData(e)&&(u=z.get(e),l=u.events,l)){z.remove(t,"handle events");for(a in l)for(n=0,r=l[a].length;n<r;n++)s.event.add(t,a,l[a][n])}Te.hasData(e)&&(f=Te.access(e),p=s.extend({},f),Te.set(t,p))}}function pr(e,t){var n=t.nodeName.toLowerCase();n==="input"&&Ct.test(e.type)?t.checked=e.checked:(n==="input"||n==="textarea")&&(t.defaultValue=e.defaultValue)}function et(e,t,n,r){t=k(t);var a,u,f,p,l,y,E=0,P=e.length,w=P-1,O=t[0],ee=F(O);if(ee||P>1&&typeof O=="string"&&!j.checkClone&&je.test(O))return e.each(function(ae){var re=e.eq(ae);ee&&(t[0]=O.call(this,ae,re.html())),et(re,t,n,r)});if(P&&(a=S(t,e[0].ownerDocument,!1,e,r),u=a.firstChild,a.childNodes.length===1&&(a=u),u||r)){for(f=s.map(Ee(a,"script"),Nn),p=f.length;E<P;E++)l=a,E!==w&&(l=s.clone(l,!0,!0),p&&s.merge(f,Ee(l,"script"))),n.call(e[E],l,E);if(p)for(y=f[f.length-1].ownerDocument,s.map(f,Pn),E=0;E<p;E++)l=f[E],An.test(l.type||"")&&!z.access(l,"globalEval")&&s.contains(y,l)&&(l.src&&(l.type||"").toLowerCase()!=="module"?s._evalUrl&&!l.noModule&&s._evalUrl(l.src,{nonce:l.nonce||l.getAttribute("nonce")},y):cn(l.textContent.replace(hr,""),l,y))}return e}function Dn(e,t,n){for(var r,a=t?s.filter(t,e):e,u=0;(r=a[u])!=null;u++)!n&&r.nodeType===1&&s.cleanData(Ee(r)),r.parentNode&&(n&&ut(r)&&Gt(Ee(r,"script")),r.parentNode.removeChild(r));return e}s.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var r,a,u,f,p=e.cloneNode(!0),l=ut(e);if(!j.noCloneChecked&&(e.nodeType===1||e.nodeType===11)&&!s.isXMLDoc(e))for(f=Ee(p),u=Ee(e),r=0,a=u.length;r<a;r++)pr(u[r],f[r]);if(t)if(n)for(u=u||Ee(e),f=f||Ee(p),r=0,a=u.length;r<a;r++)G(u[r],f[r]);else G(e,p);return f=Ee(p,"script"),f.length>0&&Gt(f,!l&&Ee(e,"script")),p},cleanData:function(e){for(var t,n,r,a=s.event.special,u=0;(n=e[u])!==void 0;u++)if(at(n)){if(t=n[z.expando]){if(t.events)for(r in t.events)a[r]?s.event.remove(n,r):s.removeEvent(n,r,t.handle);n[z.expando]=void 0}n[Te.expando]&&(n[Te.expando]=void 0)}}}),s.fn.extend({detach:function(e){return Dn(this,e,!0)},remove:function(e){return Dn(this,e)},text:function(e){return Me(this,function(t){return t===void 0?s.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=t)})},null,e,arguments.length)},append:function(){return et(this,arguments,function(e){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var t=Ne(this,e);t.appendChild(e)}})},prepend:function(){return et(this,arguments,function(e){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var t=Ne(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return et(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return et(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;(e=this[t])!=null;t++)e.nodeType===1&&(s.cleanData(Ee(e,!1)),e.textContent="");return this},clone:function(e,t){return e=e??!1,t=t??e,this.map(function(){return s.clone(this,e,t)})},html:function(e){return Me(this,function(t){var n=this[0]||{},r=0,a=this.length;if(t===void 0&&n.nodeType===1)return n.innerHTML;if(typeof t=="string"&&!ge.test(t)&&!De[(kn.exec(t)||["",""])[1].toLowerCase()]){t=s.htmlPrefilter(t);try{for(;r<a;r++)n=this[r]||{},n.nodeType===1&&(s.cleanData(Ee(n,!1)),n.innerHTML=t);n=0}catch{}}n&&this.empty().append(t)},null,e,arguments.length)},replaceWith:function(){var e=[];return et(this,arguments,function(t){var n=this.parentNode;s.inArray(this,e)<0&&(s.cleanData(Ee(this)),n&&n.replaceChild(t,this))},e)}}),s.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){s.fn[e]=function(n){for(var r,a=[],u=s(n),f=u.length-1,p=0;p<=f;p++)r=p===f?this:this.clone(!0),s(u[p])[t](r),A.apply(a,r.get());return this.pushStack(a)}});var $t=new RegExp("^("+Sn+")(?!px)[a-z%]+$","i"),Qt=/^--/,Mt=function(e){var t=e.ownerDocument.defaultView;return(!t||!t.opener)&&(t=i),t.getComputedStyle(e)},On=function(e,t,n){var r,a,u={};for(a in t)u[a]=e.style[a],e.style[a]=t[a];r=n.call(e);for(a in t)e.style[a]=u[a];return r},Ln=new RegExp(Fe.join("|"),"i");(function(){function e(){if(y){l.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",y.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Je.appendChild(l).appendChild(y);var E=i.getComputedStyle(y);n=E.top!=="1%",p=t(E.marginLeft)===12,y.style.right="60%",u=t(E.right)===36,r=t(E.width)===36,y.style.position="absolute",a=t(y.offsetWidth/3)===12,Je.removeChild(l),y=null}}function t(E){return Math.round(parseFloat(E))}var n,r,a,u,f,p,l=Z.createElement("div"),y=Z.createElement("div");y.style&&(y.style.backgroundClip="content-box",y.cloneNode(!0).style.backgroundClip="",j.clearCloneStyle=y.style.backgroundClip==="content-box",s.extend(j,{boxSizingReliable:function(){return e(),r},pixelBoxStyles:function(){return e(),u},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),p},scrollboxSize:function(){return e(),a},reliableTrDimensions:function(){var E,P,w,O;return f==null&&(E=Z.createElement("table"),P=Z.createElement("tr"),w=Z.createElement("div"),E.style.cssText="position:absolute;left:-11111px;border-collapse:separate",P.style.cssText="box-sizing:content-box;border:1px solid",P.style.height="1px",w.style.height="9px",w.style.display="block",Je.appendChild(E).appendChild(P).appendChild(w),O=i.getComputedStyle(P),f=parseInt(O.height,10)+parseInt(O.borderTopWidth,10)+parseInt(O.borderBottomWidth,10)===P.offsetHeight,Je.removeChild(E)),f}}))})();function ct(e,t,n){var r,a,u,f,p=Qt.test(t),l=e.style;return n=n||Mt(e),n&&(f=n.getPropertyValue(t)||n[t],p&&f&&(f=f.replace(it,"$1")||void 0),f===""&&!ut(e)&&(f=s.style(e,t)),!j.pixelBoxStyles()&&$t.test(f)&&Ln.test(t)&&(r=l.width,a=l.minWidth,u=l.maxWidth,l.minWidth=l.maxWidth=l.width=f,f=n.width,l.width=r,l.minWidth=a,l.maxWidth=u)),f!==void 0?f+"":f}function qn(e,t){return{get:function(){if(e()){delete this.get;return}return(this.get=t).apply(this,arguments)}}}var $n=["Webkit","Moz","ms"],Mn=Z.createElement("div").style,Vt={};function Xt(e){for(var t=e[0].toUpperCase()+e.slice(1),n=$n.length;n--;)if(e=$n[n]+t,e in Mn)return e}function Yt(e){var t=s.cssProps[e]||Vt[e];return t||(e in Mn?e:Vt[e]=Xt(e)||e)}var dr=/^(none|table(?!-c[ea]).+)/,In={position:"absolute",visibility:"hidden",display:"block"},jn={letterSpacing:"0",fontWeight:"400"};function me(e,t,n){var r=wt.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function b(e,t,n,r,a,u){var f=t==="width"?1:0,p=0,l=0,y=0;if(n===(r?"border":"content"))return 0;for(;f<4;f+=2)n==="margin"&&(y+=s.css(e,n+Fe[f],!0,a)),r?(n==="content"&&(l-=s.css(e,"padding"+Fe[f],!0,a)),n!=="margin"&&(l-=s.css(e,"border"+Fe[f]+"Width",!0,a))):(l+=s.css(e,"padding"+Fe[f],!0,a),n!=="padding"?l+=s.css(e,"border"+Fe[f]+"Width",!0,a):p+=s.css(e,"border"+Fe[f]+"Width",!0,a));return!r&&u>=0&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-u-l-p-.5))||0),l+y}function T(e,t,n){var r=Mt(e),a=!j.boxSizingReliable()||n,u=a&&s.css(e,"boxSizing",!1,r)==="border-box",f=u,p=ct(e,t,r),l="offset"+t[0].toUpperCase()+t.slice(1);if($t.test(p)){if(!n)return p;p="auto"}return(!j.boxSizingReliable()&&u||!j.reliableTrDimensions()&&he(e,"tr")||p==="auto"||!parseFloat(p)&&s.css(e,"display",!1,r)==="inline")&&e.getClientRects().length&&(u=s.css(e,"boxSizing",!1,r)==="border-box",f=l in e,f&&(p=e[l])),p=parseFloat(p)||0,p+b(e,t,n||(u?"border":"content"),f,r,p)+"px"}s.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=ct(e,"opacity");return n===""?"1":n}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(e,t,n,r){if(!(!e||e.nodeType===3||e.nodeType===8||!e.style)){var a,u,f,p=Ie(t),l=Qt.test(t),y=e.style;if(l||(t=Yt(p)),f=s.cssHooks[t]||s.cssHooks[p],n!==void 0){if(u=typeof n,u==="string"&&(a=wt.exec(n))&&a[1]&&(n=Tn(e,t,a),u="number"),n==null||n!==n)return;u==="number"&&!l&&(n+=a&&a[3]||(s.cssNumber[p]?"":"px")),!j.clearCloneStyle&&n===""&&t.indexOf("background")===0&&(y[t]="inherit"),(!f||!("set"in f)||(n=f.set(e,n,r))!==void 0)&&(l?y.setProperty(t,n):y[t]=n)}else return f&&"get"in f&&(a=f.get(e,!1,r))!==void 0?a:y[t]}},css:function(e,t,n,r){var a,u,f,p=Ie(t),l=Qt.test(t);return l||(t=Yt(p)),f=s.cssHooks[t]||s.cssHooks[p],f&&"get"in f&&(a=f.get(e,!0,n)),a===void 0&&(a=ct(e,t,r)),a==="normal"&&t in jn&&(a=jn[t]),n===""||n?(u=parseFloat(a),n===!0||isFinite(u)?u||0:a):a}}),s.each(["height","width"],function(e,t){s.cssHooks[t]={get:function(n,r,a){if(r)return dr.test(s.css(n,"display"))&&(!n.getClientRects().length||!n.getBoundingClientRect().width)?On(n,In,function(){return T(n,t,a)}):T(n,t,a)},set:function(n,r,a){var u,f=Mt(n),p=!j.scrollboxSize()&&f.position==="absolute",l=p||a,y=l&&s.css(n,"boxSizing",!1,f)==="border-box",E=a?b(n,t,a,y,f):0;return y&&p&&(E-=Math.ceil(n["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(f[t])-b(n,t,"border",!1,f)-.5)),E&&(u=wt.exec(r))&&(u[3]||"px")!=="px"&&(n.style[t]=r,r=s.css(n,t)),me(n,r,E)}}}),s.cssHooks.marginLeft=qn(j.reliableMarginLeft,function(e,t){if(t)return(parseFloat(ct(e,"marginLeft"))||e.getBoundingClientRect().left-On(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),s.each({margin:"",padding:"",border:"Width"},function(e,t){s.cssHooks[e+t]={expand:function(n){for(var r=0,a={},u=typeof n=="string"?n.split(" "):[n];r<4;r++)a[e+Fe[r]+t]=u[r]||u[r-2]||u[0];return a}},e!=="margin"&&(s.cssHooks[e+t].set=me)}),s.fn.extend({css:function(e,t){return Me(this,function(n,r,a){var u,f,p={},l=0;if(Array.isArray(r)){for(u=Mt(n),f=r.length;l<f;l++)p[r[l]]=s.css(n,r[l],!1,u);return p}return a!==void 0?s.style(n,r,a):s.css(n,r)},e,t,arguments.length>1)}});function x(e,t,n,r,a){return new x.prototype.init(e,t,n,r,a)}s.Tween=x,x.prototype={constructor:x,init:function(e,t,n,r,a,u){this.elem=e,this.prop=n,this.easing=a||s.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=u||(s.cssNumber[n]?"":"px")},cur:function(){var e=x.propHooks[this.prop];return e&&e.get?e.get(this):x.propHooks._default.get(this)},run:function(e){var t,n=x.propHooks[this.prop];return this.options.duration?this.pos=t=s.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):x.propHooks._default.set(this),this}},x.prototype.init.prototype=x.prototype,x.propHooks={_default:{get:function(e){var t;return e.elem.nodeType!==1||e.elem[e.prop]!=null&&e.elem.style[e.prop]==null?e.elem[e.prop]:(t=s.css(e.elem,e.prop,""),!t||t==="auto"?0:t)},set:function(e){s.fx.step[e.prop]?s.fx.step[e.prop](e):e.elem.nodeType===1&&(s.cssHooks[e.prop]||e.elem.style[Yt(e.prop)]!=null)?s.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},x.propHooks.scrollTop=x.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},s.easing={linear:function(e){return e},swing:function(e){return .5-Math.cos(e*Math.PI)/2},_default:"swing"},s.fx=x.prototype.init,s.fx.step={};var W,Q,fe=/^(?:toggle|show|hide)$/,tt=/queueHooks$/;function lt(){Q&&(Z.hidden===!1&&i.requestAnimationFrame?i.requestAnimationFrame(lt):i.setTimeout(lt,s.fx.interval),s.fx.tick())}function Hr(){return i.setTimeout(function(){W=void 0}),W=Date.now()}function Rn(e,t){var n,r=0,a={height:e};for(t=t?1:0;r<4;r+=2-t)n=Fe[r],a["margin"+n]=a["padding"+n]=e;return t&&(a.opacity=a.width=e),a}function Fr(e,t,n){for(var r,a=(Ue.tweeners[t]||[]).concat(Ue.tweeners["*"]),u=0,f=a.length;u<f;u++)if(r=a[u].call(n,t,e))return r}function pi(e,t,n){var r,a,u,f,p,l,y,E,P="width"in t||"height"in t,w=this,O={},ee=e.style,ae=e.nodeType&&xt(e),re=z.get(e,"fxshow");n.queue||(f=s._queueHooks(e,"fx"),f.unqueued==null&&(f.unqueued=0,p=f.empty.fire,f.empty.fire=function(){f.unqueued||p()}),f.unqueued++,w.always(function(){w.always(function(){f.unqueued--,s.queue(e,"fx").length||f.empty.fire()})}));for(r in t)if(a=t[r],fe.test(a)){if(delete t[r],u=u||a==="toggle",a===(ae?"hide":"show"))if(a==="show"&&re&&re[r]!==void 0)ae=!0;else continue;O[r]=re&&re[r]||s.style(e,r)}if(l=!s.isEmptyObject(t),!(!l&&s.isEmptyObject(O))){P&&e.nodeType===1&&(n.overflow=[ee.overflow,ee.overflowX,ee.overflowY],y=re&&re.display,y==null&&(y=z.get(e,"display")),E=s.css(e,"display"),E==="none"&&(y?E=y:(ft([e],!0),y=e.style.display||y,E=s.css(e,"display"),ft([e]))),(E==="inline"||E==="inline-block"&&y!=null)&&s.css(e,"float")==="none"&&(l||(w.done(function(){ee.display=y}),y==null&&(E=ee.display,y=E==="none"?"":E)),ee.display="inline-block")),n.overflow&&(ee.overflow="hidden",w.always(function(){ee.overflow=n.overflow[0],ee.overflowX=n.overflow[1],ee.overflowY=n.overflow[2]})),l=!1;for(r in O)l||(re?"hidden"in re&&(ae=re.hidden):re=z.access(e,"fxshow",{display:y}),u&&(re.hidden=!ae),ae&&ft([e],!0),w.done(function(){ae||ft([e]),z.remove(e,"fxshow");for(r in O)s.style(e,r,O[r])})),l=Fr(ae?re[r]:0,r,w),r in re||(re[r]=l.start,ae&&(l.end=l.start,l.start=0))}}function di(e,t){var n,r,a,u,f;for(n in e)if(r=Ie(n),a=t[r],u=e[n],Array.isArray(u)&&(a=u[1],u=e[n]=u[0]),n!==r&&(e[r]=u,delete e[n]),f=s.cssHooks[r],f&&"expand"in f){u=f.expand(u),delete e[r];for(n in u)n in e||(e[n]=u[n],t[n]=a)}else t[r]=a}function Ue(e,t,n){var r,a,u=0,f=Ue.prefilters.length,p=s.Deferred().always(function(){delete l.elem}),l=function(){if(a)return!1;for(var P=W||Hr(),w=Math.max(0,y.startTime+y.duration-P),O=w/y.duration||0,ee=1-O,ae=0,re=y.tweens.length;ae<re;ae++)y.tweens[ae].run(ee);return p.notifyWith(e,[y,ee,w]),ee<1&&re?w:(re||p.notifyWith(e,[y,1,0]),p.resolveWith(e,[y]),!1)},y=p.promise({elem:e,props:s.extend({},t),opts:s.extend(!0,{specialEasing:{},easing:s.easing._default},n),originalProperties:t,originalOptions:n,startTime:W||Hr(),duration:n.duration,tweens:[],createTween:function(P,w){var O=s.Tween(e,y.opts,P,w,y.opts.specialEasing[P]||y.opts.easing);return y.tweens.push(O),O},stop:function(P){var w=0,O=P?y.tweens.length:0;if(a)return this;for(a=!0;w<O;w++)y.tweens[w].run(1);return P?(p.notifyWith(e,[y,1,0]),p.resolveWith(e,[y,P])):p.rejectWith(e,[y,P]),this}}),E=y.props;for(di(E,y.opts.specialEasing);u<f;u++)if(r=Ue.prefilters[u].call(y,e,E,y.opts),r)return F(r.stop)&&(s._queueHooks(y.elem,y.opts.queue).stop=r.stop.bind(r)),r;return s.map(E,Fr,y),F(y.opts.start)&&y.opts.start.call(e,y),y.progress(y.opts.progress).done(y.opts.done,y.opts.complete).fail(y.opts.fail).always(y.opts.always),s.fx.timer(s.extend(l,{elem:e,anim:y,queue:y.opts.queue})),y}s.Animation=s.extend(Ue,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return Tn(n.elem,e,wt.exec(t),n),n}]},tweener:function(e,t){F(e)?(t=e,e=["*"]):e=e.match($e);for(var n,r=0,a=e.length;r<a;r++)n=e[r],Ue.tweeners[n]=Ue.tweeners[n]||[],Ue.tweeners[n].unshift(t)},prefilters:[pi],prefilter:function(e,t){t?Ue.prefilters.unshift(e):Ue.prefilters.push(e)}}),s.speed=function(e,t,n){var r=e&&typeof e=="object"?s.extend({},e):{complete:n||!n&&t||F(e)&&e,duration:e,easing:n&&t||t&&!F(t)&&t};return s.fx.off?r.duration=0:typeof r.duration!="number"&&(r.duration in s.fx.speeds?r.duration=s.fx.speeds[r.duration]:r.duration=s.fx.speeds._default),(r.queue==null||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){F(r.old)&&r.old.call(this),r.queue&&s.dequeue(this,r.queue)},r},s.fn.extend({fadeTo:function(e,t,n,r){return this.filter(xt).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var a=s.isEmptyObject(e),u=s.speed(t,n,r),f=function(){var p=Ue(this,s.extend({},e),u);(a||z.get(this,"finish"))&&p.stop(!0)};return f.finish=f,a||u.queue===!1?this.each(f):this.queue(u.queue,f)},stop:function(e,t,n){var r=function(a){var u=a.stop;delete a.stop,u(n)};return typeof e!="string"&&(n=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each(function(){var a=!0,u=e!=null&&e+"queueHooks",f=s.timers,p=z.get(this);if(u)p[u]&&p[u].stop&&r(p[u]);else for(u in p)p[u]&&p[u].stop&&tt.test(u)&&r(p[u]);for(u=f.length;u--;)f[u].elem===this&&(e==null||f[u].queue===e)&&(f[u].anim.stop(n),a=!1,f.splice(u,1));(a||!n)&&s.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=z.get(this),r=n[e+"queue"],a=n[e+"queueHooks"],u=s.timers,f=r?r.length:0;for(n.finish=!0,s.queue(this,e,[]),a&&a.stop&&a.stop.call(this,!0),t=u.length;t--;)u[t].elem===this&&u[t].queue===e&&(u[t].anim.stop(!0),u.splice(t,1));for(t=0;t<f;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),s.each(["toggle","show","hide"],function(e,t){var n=s.fn[t];s.fn[t]=function(r,a,u){return r==null||typeof r=="boolean"?n.apply(this,arguments):this.animate(Rn(t,!0),r,a,u)}}),s.each({slideDown:Rn("show"),slideUp:Rn("hide"),slideToggle:Rn("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){s.fn[e]=function(n,r,a){return this.animate(t,n,r,a)}}),s.timers=[],s.fx.tick=function(){var e,t=0,n=s.timers;for(W=Date.now();t<n.length;t++)e=n[t],!e()&&n[t]===e&&n.splice(t--,1);n.length||s.fx.stop(),W=void 0},s.fx.timer=function(e){s.timers.push(e),s.fx.start()},s.fx.interval=13,s.fx.start=function(){Q||(Q=!0,lt())},s.fx.stop=function(){Q=null},s.fx.speeds={slow:600,fast:200,_default:400},s.fn.delay=function(e,t){return e=s.fx&&s.fx.speeds[e]||e,t=t||"fx",this.queue(t,function(n,r){var a=i.setTimeout(n,e);r.stop=function(){i.clearTimeout(a)}})},function(){var e=Z.createElement("input"),t=Z.createElement("select"),n=t.appendChild(Z.createElement("option"));e.type="checkbox",j.checkOn=e.value!=="",j.optSelected=n.selected,e=Z.createElement("input"),e.value="t",e.type="radio",j.radioValue=e.value==="t"}();var Br,Jt=s.expr.attrHandle;s.fn.extend({attr:function(e,t){return Me(this,s.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){s.removeAttr(this,e)})}}),s.extend({attr:function(e,t,n){var r,a,u=e.nodeType;if(!(u===3||u===8||u===2)){if(typeof e.getAttribute>"u")return s.prop(e,t,n);if((u!==1||!s.isXMLDoc(e))&&(a=s.attrHooks[t.toLowerCase()]||(s.expr.match.bool.test(t)?Br:void 0)),n!==void 0){if(n===null){s.removeAttr(e,t);return}return a&&"set"in a&&(r=a.set(e,n,t))!==void 0?r:(e.setAttribute(t,n+""),n)}return a&&"get"in a&&(r=a.get(e,t))!==null?r:(r=s.find.attr(e,t),r??void 0)}},attrHooks:{type:{set:function(e,t){if(!j.radioValue&&t==="radio"&&he(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,a=t&&t.match($e);if(a&&e.nodeType===1)for(;n=a[r++];)e.removeAttribute(n)}}),Br={set:function(e,t,n){return t===!1?s.removeAttr(e,n):e.setAttribute(n,n),n}},s.each(s.expr.match.bool.source.match(/\w+/g),function(e,t){var n=Jt[t]||s.find.attr;Jt[t]=function(r,a,u){var f,p,l=a.toLowerCase();return u||(p=Jt[l],Jt[l]=f,f=n(r,a,u)!=null?l:null,Jt[l]=p),f}});var gi=/^(?:input|select|textarea|button)$/i,_i=/^(?:a|area)$/i;s.fn.extend({prop:function(e,t){return Me(this,s.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[s.propFix[e]||e]})}}),s.extend({prop:function(e,t,n){var r,a,u=e.nodeType;if(!(u===3||u===8||u===2))return(u!==1||!s.isXMLDoc(e))&&(t=s.propFix[t]||t,a=s.propHooks[t]),n!==void 0?a&&"set"in a&&(r=a.set(e,n,t))!==void 0?r:e[t]=n:a&&"get"in a&&(r=a.get(e,t))!==null?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=s.find.attr(e,"tabindex");return t?parseInt(t,10):gi.test(e.nodeName)||_i.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),j.optSelected||(s.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),s.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){s.propFix[this.toLowerCase()]=this});function St(e){var t=e.match($e)||[];return t.join(" ")}function Tt(e){return e.getAttribute&&e.getAttribute("class")||""}function gr(e){return Array.isArray(e)?e:typeof e=="string"?e.match($e)||[]:[]}s.fn.extend({addClass:function(e){var t,n,r,a,u,f;return F(e)?this.each(function(p){s(this).addClass(e.call(this,p,Tt(this)))}):(t=gr(e),t.length?this.each(function(){if(r=Tt(this),n=this.nodeType===1&&" "+St(r)+" ",n){for(u=0;u<t.length;u++)a=t[u],n.indexOf(" "+a+" ")<0&&(n+=a+" ");f=St(n),r!==f&&this.setAttribute("class",f)}}):this)},removeClass:function(e){var t,n,r,a,u,f;return F(e)?this.each(function(p){s(this).removeClass(e.call(this,p,Tt(this)))}):arguments.length?(t=gr(e),t.length?this.each(function(){if(r=Tt(this),n=this.nodeType===1&&" "+St(r)+" ",n){for(u=0;u<t.length;u++)for(a=t[u];n.indexOf(" "+a+" ")>-1;)n=n.replace(" "+a+" "," ");f=St(n),r!==f&&this.setAttribute("class",f)}}):this):this.attr("class","")},toggleClass:function(e,t){var n,r,a,u,f=typeof e,p=f==="string"||Array.isArray(e);return F(e)?this.each(function(l){s(this).toggleClass(e.call(this,l,Tt(this),t),t)}):typeof t=="boolean"&&p?t?this.addClass(e):this.removeClass(e):(n=gr(e),this.each(function(){if(p)for(u=s(this),a=0;a<n.length;a++)r=n[a],u.hasClass(r)?u.removeClass(r):u.addClass(r);else(e===void 0||f==="boolean")&&(r=Tt(this),r&&z.set(this,"__className__",r),this.setAttribute&&this.setAttribute("class",r||e===!1?"":z.get(this,"__className__")||""))}))},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(n.nodeType===1&&(" "+St(Tt(n))+" ").indexOf(t)>-1)return!0;return!1}});var yi=/\r/g;s.fn.extend({val:function(e){var t,n,r,a=this[0];return arguments.length?(r=F(e),this.each(function(u){var f;this.nodeType===1&&(r?f=e.call(this,u,s(this).val()):f=e,f==null?f="":typeof f=="number"?f+="":Array.isArray(f)&&(f=s.map(f,function(p){return p==null?"":p+""})),t=s.valHooks[this.type]||s.valHooks[this.nodeName.toLowerCase()],(!t||!("set"in t)||t.set(this,f,"value")===void 0)&&(this.value=f))})):a?(t=s.valHooks[a.type]||s.valHooks[a.nodeName.toLowerCase()],t&&"get"in t&&(n=t.get(a,"value"))!==void 0?n:(n=a.value,typeof n=="string"?n.replace(yi,""):n??"")):void 0}}),s.extend({valHooks:{option:{get:function(e){var t=s.find.attr(e,"value");return t??St(s.text(e))}},select:{get:function(e){var t,n,r,a=e.options,u=e.selectedIndex,f=e.type==="select-one",p=f?null:[],l=f?u+1:a.length;for(u<0?r=l:r=f?u:0;r<l;r++)if(n=a[r],(n.selected||r===u)&&!n.disabled&&(!n.parentNode.disabled||!he(n.parentNode,"optgroup"))){if(t=s(n).val(),f)return t;p.push(t)}return p},set:function(e,t){for(var n,r,a=e.options,u=s.makeArray(t),f=a.length;f--;)r=a[f],(r.selected=s.inArray(s.valHooks.option.get(r),u)>-1)&&(n=!0);return n||(e.selectedIndex=-1),u}}}}),s.each(["radio","checkbox"],function(){s.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=s.inArray(s(e).val(),t)>-1}},j.checkOn||(s.valHooks[this].get=function(e){return e.getAttribute("value")===null?"on":e.value})});var Zt=i.location,Ur={guid:Date.now()},_r=/\?/;s.parseXML=function(e){var t,n;if(!e||typeof e!="string")return null;try{t=new i.DOMParser().parseFromString(e,"text/xml")}catch{}return n=t&&t.getElementsByTagName("parsererror")[0],(!t||n)&&s.error("Invalid XML: "+(n?s.map(n.childNodes,function(r){return r.textContent}).join(`
`):e)),t};var Wr=/^(?:focusinfocus|focusoutblur)$/,Kr=function(e){e.stopPropagation()};s.extend(s.event,{trigger:function(e,t,n,r){var a,u,f,p,l,y,E,P,w=[n||Z],O=V.call(e,"type")?e.type:e,ee=V.call(e,"namespace")?e.namespace.split("."):[];if(u=P=f=n=n||Z,!(n.nodeType===3||n.nodeType===8)&&!Wr.test(O+s.event.triggered)&&(O.indexOf(".")>-1&&(ee=O.split("."),O=ee.shift(),ee.sort()),l=O.indexOf(":")<0&&"on"+O,e=e[s.expando]?e:new s.Event(O,typeof e=="object"&&e),e.isTrigger=r?2:3,e.namespace=ee.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+ee.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=t==null?[e]:s.makeArray(t,[e]),E=s.event.special[O]||{},!(!r&&E.trigger&&E.trigger.apply(n,t)===!1))){if(!r&&!E.noBubble&&!Se(n)){for(p=E.delegateType||O,Wr.test(p+O)||(u=u.parentNode);u;u=u.parentNode)w.push(u),f=u;f===(n.ownerDocument||Z)&&w.push(f.defaultView||f.parentWindow||i)}for(a=0;(u=w[a++])&&!e.isPropagationStopped();)P=u,e.type=a>1?p:E.bindType||O,y=(z.get(u,"events")||Object.create(null))[e.type]&&z.get(u,"handle"),y&&y.apply(u,t),y=l&&u[l],y&&y.apply&&at(u)&&(e.result=y.apply(u,t),e.result===!1&&e.preventDefault());return e.type=O,!r&&!e.isDefaultPrevented()&&(!E._default||E._default.apply(w.pop(),t)===!1)&&at(n)&&l&&F(n[O])&&!Se(n)&&(f=n[l],f&&(n[l]=null),s.event.triggered=O,e.isPropagationStopped()&&P.addEventListener(O,Kr),n[O](),e.isPropagationStopped()&&P.removeEventListener(O,Kr),s.event.triggered=void 0,f&&(n[l]=f)),e.result}},simulate:function(e,t,n){var r=s.extend(new s.Event,n,{type:e,isSimulated:!0});s.event.trigger(r,null,t)}}),s.fn.extend({trigger:function(e,t){return this.each(function(){s.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return s.event.trigger(e,t,n,!0)}});var vi=/\[\]$/,zr=/\r?\n/g,bi=/^(?:submit|button|image|reset|file)$/i,mi=/^(?:input|select|textarea|keygen)/i;function yr(e,t,n,r){var a;if(Array.isArray(t))s.each(t,function(u,f){n||vi.test(e)?r(e,f):yr(e+"["+(typeof f=="object"&&f!=null?u:"")+"]",f,n,r)});else if(!n&&Ye(t)==="object")for(a in t)yr(e+"["+a+"]",t[a],n,r);else r(e,t)}s.param=function(e,t){var n,r=[],a=function(u,f){var p=F(f)?f():f;r[r.length]=encodeURIComponent(u)+"="+encodeURIComponent(p??"")};if(e==null)return"";if(Array.isArray(e)||e.jquery&&!s.isPlainObject(e))s.each(e,function(){a(this.name,this.value)});else for(n in e)yr(n,e[n],t,a);return r.join("&")},s.fn.extend({serialize:function(){return s.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=s.prop(this,"elements");return e?s.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!s(this).is(":disabled")&&mi.test(this.nodeName)&&!bi.test(e)&&(this.checked||!Ct.test(e))}).map(function(e,t){var n=s(this).val();return n==null?null:Array.isArray(n)?s.map(n,function(r){return{name:t.name,value:r.replace(zr,`\r
`)}}):{name:t.name,value:n.replace(zr,`\r
`)}}).get()}});var wi=/%20/g,xi=/#.*$/,Ci=/([?&])_=[^&]*/,Si=/^(.*?):[ \t]*([^\r\n]*)$/mg,Ti=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ei=/^(?:GET|HEAD)$/,ki=/^\/\//,Gr={},vr={},Qr="*/".concat("*"),br=Z.createElement("a");br.href=Zt.href;function Vr(e){return function(t,n){typeof t!="string"&&(n=t,t="*");var r,a=0,u=t.toLowerCase().match($e)||[];if(F(n))for(;r=u[a++];)r[0]==="+"?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function Xr(e,t,n,r){var a={},u=e===vr;function f(p){var l;return a[p]=!0,s.each(e[p]||[],function(y,E){var P=E(t,n,r);if(typeof P=="string"&&!u&&!a[P])return t.dataTypes.unshift(P),f(P),!1;if(u)return!(l=P)}),l}return f(t.dataTypes[0])||!a["*"]&&f("*")}function mr(e,t){var n,r,a=s.ajaxSettings.flatOptions||{};for(n in t)t[n]!==void 0&&((a[n]?e:r||(r={}))[n]=t[n]);return r&&s.extend(!0,e,r),e}function Ai(e,t,n){for(var r,a,u,f,p=e.contents,l=e.dataTypes;l[0]==="*";)l.shift(),r===void 0&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r){for(a in p)if(p[a]&&p[a].test(r)){l.unshift(a);break}}if(l[0]in n)u=l[0];else{for(a in n){if(!l[0]||e.converters[a+" "+l[0]]){u=a;break}f||(f=a)}u=u||f}if(u)return u!==l[0]&&l.unshift(u),n[u]}function Ni(e,t,n,r){var a,u,f,p,l,y={},E=e.dataTypes.slice();if(E[1])for(f in e.converters)y[f.toLowerCase()]=e.converters[f];for(u=E.shift();u;)if(e.responseFields[u]&&(n[e.responseFields[u]]=t),!l&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=u,u=E.shift(),u){if(u==="*")u=l;else if(l!=="*"&&l!==u){if(f=y[l+" "+u]||y["* "+u],!f){for(a in y)if(p=a.split(" "),p[1]===u&&(f=y[l+" "+p[0]]||y["* "+p[0]],f)){f===!0?f=y[a]:y[a]!==!0&&(u=p[0],E.unshift(p[1]));break}}if(f!==!0)if(f&&e.throws)t=f(t);else try{t=f(t)}catch(P){return{state:"parsererror",error:f?P:"No conversion from "+l+" to "+u}}}}return{state:"success",data:t}}s.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Zt.href,type:"GET",isLocal:Ti.test(Zt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Qr,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":s.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?mr(mr(e,s.ajaxSettings),t):mr(s.ajaxSettings,e)},ajaxPrefilter:Vr(Gr),ajaxTransport:Vr(vr),ajax:function(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};var n,r,a,u,f,p,l,y,E,P,w=s.ajaxSetup({},t),O=w.context||w,ee=w.context&&(O.nodeType||O.jquery)?s(O):s.event,ae=s.Deferred(),re=s.Callbacks("once memory"),xe=w.statusCode||{},ye={},ze={},Ge="canceled",oe={readyState:0,getResponseHeader:function(ue){var de;if(l){if(!u)for(u={};de=Si.exec(a);)u[de[1].toLowerCase()+" "]=(u[de[1].toLowerCase()+" "]||[]).concat(de[2]);de=u[ue.toLowerCase()+" "]}return de==null?null:de.join(", ")},getAllResponseHeaders:function(){return l?a:null},setRequestHeader:function(ue,de){return l==null&&(ue=ze[ue.toLowerCase()]=ze[ue.toLowerCase()]||ue,ye[ue]=de),this},overrideMimeType:function(ue){return l==null&&(w.mimeType=ue),this},statusCode:function(ue){var de;if(ue)if(l)oe.always(ue[oe.status]);else for(de in ue)xe[de]=[xe[de],ue[de]];return this},abort:function(ue){var de=ue||Ge;return n&&n.abort(de),Et(0,de),this}};if(ae.promise(oe),w.url=((e||w.url||Zt.href)+"").replace(ki,Zt.protocol+"//"),w.type=t.method||t.type||w.method||w.type,w.dataTypes=(w.dataType||"*").toLowerCase().match($e)||[""],w.crossDomain==null){p=Z.createElement("a");try{p.href=w.url,p.href=p.href,w.crossDomain=br.protocol+"//"+br.host!=p.protocol+"//"+p.host}catch{w.crossDomain=!0}}if(w.data&&w.processData&&typeof w.data!="string"&&(w.data=s.param(w.data,w.traditional)),Xr(Gr,w,t,oe),l)return oe;y=s.event&&w.global,y&&s.active++===0&&s.event.trigger("ajaxStart"),w.type=w.type.toUpperCase(),w.hasContent=!Ei.test(w.type),r=w.url.replace(xi,""),w.hasContent?w.data&&w.processData&&(w.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(w.data=w.data.replace(wi,"+")):(P=w.url.slice(r.length),w.data&&(w.processData||typeof w.data=="string")&&(r+=(_r.test(r)?"&":"?")+w.data,delete w.data),w.cache===!1&&(r=r.replace(Ci,"$1"),P=(_r.test(r)?"&":"?")+"_="+Ur.guid+++P),w.url=r+P),w.ifModified&&(s.lastModified[r]&&oe.setRequestHeader("If-Modified-Since",s.lastModified[r]),s.etag[r]&&oe.setRequestHeader("If-None-Match",s.etag[r])),(w.data&&w.hasContent&&w.contentType!==!1||t.contentType)&&oe.setRequestHeader("Content-Type",w.contentType),oe.setRequestHeader("Accept",w.dataTypes[0]&&w.accepts[w.dataTypes[0]]?w.accepts[w.dataTypes[0]]+(w.dataTypes[0]!=="*"?", "+Qr+"; q=0.01":""):w.accepts["*"]);for(E in w.headers)oe.setRequestHeader(E,w.headers[E]);if(w.beforeSend&&(w.beforeSend.call(O,oe,w)===!1||l))return oe.abort();if(Ge="abort",re.add(w.complete),oe.done(w.success),oe.fail(w.error),n=Xr(vr,w,t,oe),!n)Et(-1,"No Transport");else{if(oe.readyState=1,y&&ee.trigger("ajaxSend",[oe,w]),l)return oe;w.async&&w.timeout>0&&(f=i.setTimeout(function(){oe.abort("timeout")},w.timeout));try{l=!1,n.send(ye,Et)}catch(ue){if(l)throw ue;Et(-1,ue)}}function Et(ue,de,tn,xr){var Qe,nn,Ve,ht,pt,Re=de;l||(l=!0,f&&i.clearTimeout(f),n=void 0,a=xr||"",oe.readyState=ue>0?4:0,Qe=ue>=200&&ue<300||ue===304,tn&&(ht=Ai(w,oe,tn)),!Qe&&s.inArray("script",w.dataTypes)>-1&&s.inArray("json",w.dataTypes)<0&&(w.converters["text script"]=function(){}),ht=Ni(w,ht,oe,Qe),Qe?(w.ifModified&&(pt=oe.getResponseHeader("Last-Modified"),pt&&(s.lastModified[r]=pt),pt=oe.getResponseHeader("etag"),pt&&(s.etag[r]=pt)),ue===204||w.type==="HEAD"?Re="nocontent":ue===304?Re="notmodified":(Re=ht.state,nn=ht.data,Ve=ht.error,Qe=!Ve)):(Ve=Re,(ue||!Re)&&(Re="error",ue<0&&(ue=0))),oe.status=ue,oe.statusText=(de||Re)+"",Qe?ae.resolveWith(O,[nn,Re,oe]):ae.rejectWith(O,[oe,Re,Ve]),oe.statusCode(xe),xe=void 0,y&&ee.trigger(Qe?"ajaxSuccess":"ajaxError",[oe,w,Qe?nn:Ve]),re.fireWith(O,[oe,Re]),y&&(ee.trigger("ajaxComplete",[oe,w]),--s.active||s.event.trigger("ajaxStop")))}return oe},getJSON:function(e,t,n){return s.get(e,t,n,"json")},getScript:function(e,t){return s.get(e,void 0,t,"script")}}),s.each(["get","post"],function(e,t){s[t]=function(n,r,a,u){return F(r)&&(u=u||a,a=r,r=void 0),s.ajax(s.extend({url:n,type:t,dataType:u,data:r,success:a},s.isPlainObject(n)&&n))}}),s.ajaxPrefilter(function(e){var t;for(t in e.headers)t.toLowerCase()==="content-type"&&(e.contentType=e.headers[t]||"")}),s._evalUrl=function(e,t,n){return s.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(r){s.globalEval(r,t,n)}})},s.fn.extend({wrapAll:function(e){var t;return this[0]&&(F(e)&&(e=e.call(this[0])),t=s(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var n=this;n.firstElementChild;)n=n.firstElementChild;return n}).append(this)),this},wrapInner:function(e){return F(e)?this.each(function(t){s(this).wrapInner(e.call(this,t))}):this.each(function(){var t=s(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=F(e);return this.each(function(n){s(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){s(this).replaceWith(this.childNodes)}),this}}),s.expr.pseudos.hidden=function(e){return!s.expr.pseudos.visible(e)},s.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},s.ajaxSettings.xhr=function(){try{return new i.XMLHttpRequest}catch{}};var Pi={0:200,1223:204},en=s.ajaxSettings.xhr();j.cors=!!en&&"withCredentials"in en,j.ajax=en=!!en,s.ajaxTransport(function(e){var t,n;if(j.cors||en&&!e.crossDomain)return{send:function(r,a){var u,f=e.xhr();if(f.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(u in e.xhrFields)f[u]=e.xhrFields[u];e.mimeType&&f.overrideMimeType&&f.overrideMimeType(e.mimeType),!e.crossDomain&&!r["X-Requested-With"]&&(r["X-Requested-With"]="XMLHttpRequest");for(u in r)f.setRequestHeader(u,r[u]);t=function(p){return function(){t&&(t=n=f.onload=f.onerror=f.onabort=f.ontimeout=f.onreadystatechange=null,p==="abort"?f.abort():p==="error"?typeof f.status!="number"?a(0,"error"):a(f.status,f.statusText):a(Pi[f.status]||f.status,f.statusText,(f.responseType||"text")!=="text"||typeof f.responseText!="string"?{binary:f.response}:{text:f.responseText},f.getAllResponseHeaders()))}},f.onload=t(),n=f.onerror=f.ontimeout=t("error"),f.onabort!==void 0?f.onabort=n:f.onreadystatechange=function(){f.readyState===4&&i.setTimeout(function(){t&&n()})},t=t("abort");try{f.send(e.hasContent&&e.data||null)}catch(p){if(t)throw p}},abort:function(){t&&t()}}}),s.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),s.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return s.globalEval(e),e}}}),s.ajaxPrefilter("script",function(e){e.cache===void 0&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),s.ajaxTransport("script",function(e){if(e.crossDomain||e.scriptAttrs){var t,n;return{send:function(r,a){t=s("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(u){t.remove(),n=null,u&&a(u.type==="error"?404:200,u.type)}),Z.head.appendChild(t[0])},abort:function(){n&&n()}}}});var Yr=[],wr=/(=)\?(?=&|$)|\?\?/;s.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Yr.pop()||s.expando+"_"+Ur.guid++;return this[e]=!0,e}}),s.ajaxPrefilter("json jsonp",function(e,t,n){var r,a,u,f=e.jsonp!==!1&&(wr.test(e.url)?"url":typeof e.data=="string"&&(e.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&wr.test(e.data)&&"data");if(f||e.dataTypes[0]==="jsonp")return r=e.jsonpCallback=F(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,f?e[f]=e[f].replace(wr,"$1"+r):e.jsonp!==!1&&(e.url+=(_r.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return u||s.error(r+" was not called"),u[0]},e.dataTypes[0]="json",a=i[r],i[r]=function(){u=arguments},n.always(function(){a===void 0?s(i).removeProp(r):i[r]=a,e[r]&&(e.jsonpCallback=t.jsonpCallback,Yr.push(r)),u&&F(a)&&a(u[0]),u=a=void 0}),"script"}),j.createHTMLDocument=function(){var e=Z.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",e.childNodes.length===2}(),s.parseHTML=function(e,t,n){if(typeof e!="string")return[];typeof t=="boolean"&&(n=t,t=!1);var r,a,u;return t||(j.createHTMLDocument?(t=Z.implementation.createHTMLDocument(""),r=t.createElement("base"),r.href=Z.location.href,t.head.appendChild(r)):t=Z),a=yn.exec(e),u=!n&&[],a?[t.createElement(a[1])]:(a=S([e],t,u),u&&u.length&&s(u).remove(),s.merge([],a.childNodes))},s.fn.load=function(e,t,n){var r,a,u,f=this,p=e.indexOf(" ");return p>-1&&(r=St(e.slice(p)),e=e.slice(0,p)),F(t)?(n=t,t=void 0):t&&typeof t=="object"&&(a="POST"),f.length>0&&s.ajax({url:e,type:a||"GET",dataType:"html",data:t}).done(function(l){u=arguments,f.html(r?s("<div>").append(s.parseHTML(l)).find(r):l)}).always(n&&function(l,y){f.each(function(){n.apply(this,u||[l.responseText,y,l])})}),this},s.expr.pseudos.animated=function(e){return s.grep(s.timers,function(t){return e===t.elem}).length},s.offset={setOffset:function(e,t,n){var r,a,u,f,p,l,y,E=s.css(e,"position"),P=s(e),w={};E==="static"&&(e.style.position="relative"),p=P.offset(),u=s.css(e,"top"),l=s.css(e,"left"),y=(E==="absolute"||E==="fixed")&&(u+l).indexOf("auto")>-1,y?(r=P.position(),f=r.top,a=r.left):(f=parseFloat(u)||0,a=parseFloat(l)||0),F(t)&&(t=t.call(e,n,s.extend({},p))),t.top!=null&&(w.top=t.top-p.top+f),t.left!=null&&(w.left=t.left-p.left+a),"using"in t?t.using.call(e,w):P.css(w)}},s.fn.extend({offset:function(e){if(arguments.length)return e===void 0?this:this.each(function(a){s.offset.setOffset(this,e,a)});var t,n,r=this[0];if(r)return r.getClientRects().length?(t=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var e,t,n,r=this[0],a={top:0,left:0};if(s.css(r,"position")==="fixed")t=r.getBoundingClientRect();else{for(t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&s.css(e,"position")==="static";)e=e.parentNode;e&&e!==r&&e.nodeType===1&&(a=s(e).offset(),a.top+=s.css(e,"borderTopWidth",!0),a.left+=s.css(e,"borderLeftWidth",!0))}return{top:t.top-a.top-s.css(r,"marginTop",!0),left:t.left-a.left-s.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&s.css(e,"position")==="static";)e=e.offsetParent;return e||Je})}}),s.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n=t==="pageYOffset";s.fn[e]=function(r){return Me(this,function(a,u,f){var p;if(Se(a)?p=a:a.nodeType===9&&(p=a.defaultView),f===void 0)return p?p[t]:a[u];p?p.scrollTo(n?p.pageXOffset:f,n?f:p.pageYOffset):a[u]=f},e,r,arguments.length)}}),s.each(["top","left"],function(e,t){s.cssHooks[t]=qn(j.pixelPosition,function(n,r){if(r)return r=ct(n,t),$t.test(r)?s(n).position()[t]+"px":r})}),s.each({Height:"height",Width:"width"},function(e,t){s.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){s.fn[r]=function(a,u){var f=arguments.length&&(n||typeof a!="boolean"),p=n||(a===!0||u===!0?"margin":"border");return Me(this,function(l,y,E){var P;return Se(l)?r.indexOf("outer")===0?l["inner"+e]:l.document.documentElement["client"+e]:l.nodeType===9?(P=l.documentElement,Math.max(l.body["scroll"+e],P["scroll"+e],l.body["offset"+e],P["offset"+e],P["client"+e])):E===void 0?s.css(l,y,p):s.style(l,y,E,p)},t,f?a:void 0,f)}})}),s.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){s.fn[t]=function(n){return this.on(t,n)}}),s.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return arguments.length===1?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.on("mouseenter",e).on("mouseleave",t||e)}}),s.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){s.fn[t]=function(n,r){return arguments.length>0?this.on(t,null,n,r):this.trigger(t)}});var Di=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;s.proxy=function(e,t){var n,r,a;if(typeof t=="string"&&(n=e[t],t=e,e=n),!!F(e))return r=v.call(arguments,2),a=function(){return e.apply(t||this,r.concat(v.call(arguments)))},a.guid=e.guid=e.guid||s.guid++,a},s.holdReady=function(e){e?s.readyWait++:s.ready(!0)},s.isArray=Array.isArray,s.parseJSON=JSON.parse,s.nodeName=he,s.isFunction=F,s.isWindow=Se,s.camelCase=Ie,s.type=Ye,s.now=Date.now,s.isNumeric=function(e){var t=s.type(e);return(t==="number"||t==="string")&&!isNaN(e-parseFloat(e))},s.trim=function(e){return e==null?"":(e+"").replace(Di,"$1")};var Oi=i.jQuery,Li=i.$;return s.noConflict=function(e){return i.$===s&&(i.$=Li),e&&i.jQuery===s&&(i.jQuery=Oi),s},typeof o>"u"&&(i.jQuery=i.$=s),s})}(Xn)),Xn.exports}var ws=ms();const Rt=vs(ws);class xs{constructor(){this._resizeHandler=null,this.chessBoard=null,this.chessGame=null,this.clickedSquare=null,this.player="w",this.engine=null,li().then(()=>{this.engine=new Wi})}makePlayerMove(i,o){if(!this.chessGame||this.chessGame.move({from:i,to:o,promotion:"q"})==null)return"snapback";this.clickedSquare=null,this.makeOpponentMove()}makeOpponentMove(){if(!this.chessGame||this.chessGame.isGameOver())return;const i="fen "+this.chessGame.fen();this.engine?.search(i,"wtime 10000 btime 10000 winc 0 binc 0")}initChessUI(){const i=this;function o(){Rt("#myBoard .square-55d63").css("background","")}function h(M){const V="#629d82ff",q="#4e7a65ff",U=Rt("#myBoard .square-"+M),j=U.hasClass("black-3c85d")?q:V;U.css("background",j)}function _(M,V){if(i.clickedSquare!==null||!i.chessGame)return;const q=i.chessGame.moves({square:M,verbose:!0});if(q.length!==0){h(M);for(let U=0;U<q.length;U++)h(q[U].to)}}function v(M,V){i.clickedSquare===null&&o()}function k(M){if(i.clickedSquare!==null){if(i.clickedSquare===M){i.clickedSquare=null,o();return}i.makePlayerMove(i.clickedSquare,M)}}function A(M,V,q){if(!i.chessGame)return"snapback";const U=q.charAt(0);return i.chessGame.isGameOver()||U!==i.player||i.player!==i.chessGame.turn()?"snapback":M==V?(i.clickedSquare=M,o(),_(M),"snapback"):i.makePlayerMove(M,V)}function D(){i.chessBoard&&i.chessGame&&i.chessBoard.position(i.chessGame.fen(),!1),o()}const I={draggable:!0,dropOffBoard:"snapback",position:"start",pieceTheme:"vendor/img/{piece}.png",showNotation:!1,onDrop:A,onSnapEnd:D,onMouseoverSquare:_,onMouseoutSquare:v};this.chessGame=new ys,this.chessBoard=ChessBoard("myBoard",I),this._resizeHandler&&Rt(window).off("resize",this._resizeHandler),this._resizeHandler=this.chessBoard.resize,Rt(window).on("resize",this._resizeHandler),Rt("#myBoard .square-55d63").on("click",function(){const M=Rt(this).data("square");M&&k(M)}),i.player==="b"&&this.chessBoard.orientation("black")}update_perft_data(i){console.log("Perft output:",i.nps)}update_search_data(i){console.log("Search output:",i.nps)}update_engine_pick(i){console.log("Engine pick:",i)}}const er=new xs;window.update_perft_data=g=>er.update_perft_data(g);window.update_search_data=g=>er.update_search_data(g);window.update_engine_pick=g=>er.update_engine_pick(g);class Cs{constructor(){this.currentPage="home";const i=document.getElementById("page-container");if(!i)throw new Error("Missing #page-container");this.pageContainer=i,this.init()}init(){this.setupNavigation(),this.loadPage(this.getInitialPage()),this.setupExternalLinks(),this.setupPopState()}setupNavigation(){document.querySelectorAll(".nav-link").forEach(o=>{o.addEventListener("click",h=>{h.preventDefault();const _=o.getAttribute("data-page");_&&_!==this.currentPage&&this.loadPage(_)})}),document.addEventListener("keydown",o=>{switch(o.key){case"1":o.preventDefault(),this.loadPage("home");break;case"2":o.preventDefault(),this.loadPage("about");break;case"3":o.preventDefault(),this.loadPage("chess");break;case"4":o.preventDefault(),this.loadPage("github");break}})}async loadPage(i){try{const o=await fetch(`/html/${i}.html`);if(!o.ok)throw new Error("Page not found");const h=await o.text();this.pageContainer.innerHTML=h,this.currentPage=i,this.updateNavigation(i),window.scrollTo(0,0);const _=i==="home"?"/":`/#${i}`;history.pushState({page:i},"",_),document.title="asgobbi / "+i,i==="chess"&&er.initChessUI(),this.setupExternalLinks()}catch{this.pageContainer.innerHTML="<p>Page failed to load.</p>"}}updateNavigation(i){document.querySelectorAll(".nav-link").forEach(o=>{o.getAttribute("data-page")===i?o.classList.add("active"):o.classList.remove("active")})}setupExternalLinks(){const i='a[href^="http"]:not([href*="'+window.location.host+'"]),a[target="_blank"]';this.pageContainer.querySelectorAll(i).forEach(h=>{h.setAttribute("target","_blank"),h.setAttribute("rel","noopener noreferrer")})}setupPopState(){window.addEventListener("popstate",i=>{i.state&&i.state.page?this.loadPage(i.state.page):this.loadPage("home")})}getInitialPage(){const i=window.location.hash.slice(1);return i&&["home","about","chess","github"].includes(i)?i:"home"}}document.addEventListener("DOMContentLoaded",()=>{window.terminalSite=new Cs,document.addEventListener("keydown",g=>{if(g.key==="Tab"&&g.target===document.body){const i=document.querySelector(".nav-link");i&&(g.preventDefault(),i.focus())}})});
