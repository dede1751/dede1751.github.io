(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const p of document.querySelectorAll('link[rel="modulepreload"]'))h(p);new MutationObserver(p=>{for(const v of p)if(v.type==="childList")for(const k of v.addedNodes)k.tagName==="LINK"&&k.rel==="modulepreload"&&h(k)}).observe(document,{childList:!0,subtree:!0});function u(p){const v={};return p.integrity&&(v.integrity=p.integrity),p.referrerPolicy&&(v.referrerPolicy=p.referrerPolicy),p.crossOrigin==="use-credentials"?v.credentials="include":p.crossOrigin==="anonymous"?v.credentials="omit":v.credentials="same-origin",v}function h(p){if(p.ep)return;p.ep=!0;const v=u(p);fetch(p.href,v)}})();function Tr(E){return E!==null?{comment:E,variations:[]}:{variations:[]}}function wr(E,s,u,h,p){const v={move:E,variations:p};return s&&(v.suffix=s),u&&(v.nag=u),h!==null&&(v.comment=h),v}function kr(...E){const[s,...u]=E;let h=s;for(const p of u)p!==null&&(h.variations=[p,...p.variations],p.variations=[],h=p);return s}function Ar(E,s){if(s.marker&&s.marker.comment){let u=s.root;for(;;){const h=u.variations[0];if(!h){u.comment=s.marker.comment;break}u=h}}return{headers:E,root:s.root,result:(s.marker&&s.marker.result)??void 0}}function Nr(E,s){function u(){this.constructor=E}u.prototype=s.prototype,E.prototype=new u}function jt(E,s,u,h){var p=Error.call(this,E);return Object.setPrototypeOf&&Object.setPrototypeOf(p,jt.prototype),p.expected=s,p.found=u,p.location=h,p.name="SyntaxError",p}Nr(jt,Error);function _i(E,s,u){return u=u||" ",E.length>s?E:(s-=E.length,u+=u.repeat(s),E+u.slice(0,s))}jt.prototype.format=function(E){var s="Error: "+this.message;if(this.location){var u=null,h;for(h=0;h<E.length;h++)if(E[h].source===this.location.source){u=E[h].text.split(/\r\n|\n|\r/g);break}var p=this.location.start,v=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(p):p,k=this.location.source+":"+v.line+":"+v.column;if(u){var D=this.location.end,q=_i("",v.line.toString().length," "),$=u[p.line-1],W=p.line===D.line?D.column:$.length+1,ee=W-p.column||1;s+=`
 --> `+k+`
`+q+` |
`+v.line+" | "+$+`
`+q+" | "+_i("",p.column-1," ")+_i("",ee,"^")}else s+=`
 at `+k}return s};jt.buildMessage=function(E,s){var u={literal:function($){return'"'+p($.text)+'"'},class:function($){var W=$.parts.map(function(ee){return Array.isArray(ee)?v(ee[0])+"-"+v(ee[1]):v(ee)});return"["+($.inverted?"^":"")+W.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function($){return $.description}};function h($){return $.charCodeAt(0).toString(16).toUpperCase()}function p($){return $.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(W){return"\\x0"+h(W)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(W){return"\\x"+h(W)})}function v($){return $.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(W){return"\\x0"+h(W)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(W){return"\\x"+h(W)})}function k($){return u[$.type]($)}function D($){var W=$.map(k),ee,M;if(W.sort(),W.length>0){for(ee=1,M=1;ee<W.length;ee++)W[ee-1]!==W[ee]&&(W[M]=W[ee],M++);W.length=M}switch(W.length){case 1:return W[0];case 2:return W[0]+" or "+W[1];default:return W.slice(0,-1).join(", ")+", or "+W[W.length-1]}}function q($){return $?'"'+p($)+'"':"end of input"}return"Expected "+D(E)+" but "+q(s)+" found."};function Dr(E,s){s=s!==void 0?s:{};var u={},h=s.grammarSource,p={pgn:Ze},v=Ze,k="[",D='"',q="]",$=".",W="O-O-O",ee="O-O",M="0-0-0",G="0-0",I="$",H="{",Se="}",Y=";",Rt="(",on=")",Xe="1-0",Ht="0-1",an="1/2-1/2",r="*",yt=/^[a-zA-Z]/,ce=/^[^"]/,Dt=/^[0-9]/,un=/^[.]/,fn=/^[a-zA-Z1-8\-=]/,fe=/^[+#]/,it=/^[!?]/,ln=/^[^}]/,cn=/^[^\r\n]/,Oe=/^[ \t\r\n]/,Ft=Ae("tag pair"),rt=pe("[",!1),Bt=pe('"',!1),hn=pe("]",!1),dn=Ae("tag name"),mt=Ie([["a","z"],["A","Z"]],!1,!1),pn=Ae("tag value"),gn=Ie(['"'],!0,!1),Qn=Ae("move number"),Pt=Ie([["0","9"]],!1,!1),zn=pe(".",!1),Wt=Ie(["."],!1,!1),Le=Ae("standard algebraic notation"),Gn=pe("O-O-O",!1),st=pe("O-O",!1),qt=pe("0-0-0",!1),vn=pe("0-0",!1),yn=Ie([["a","z"],["A","Z"],["1","8"],"-","="],!1,!1),Kt=Ie(["+","#"],!1,!1),Ot=Ae("suffix annotation"),$e=Ie(["!","?"],!1,!1),Vn=Ae("NAG"),Xn=pe("$",!1),Yn=Ae("brace comment"),Me=pe("{",!1),ot=Ie(["}"],!0,!1),bt=pe("}",!1),K=Ae("rest of line comment"),Ee=pe(";",!1),mn=Ie(["\r",`
`],!0,!1),Jn=Ae("variation"),Zn=pe("(",!1),bn=pe(")",!1),_n=Ae("game termination marker"),_t=pe("1-0",!1),He=pe("0-1",!1),Ye=pe("1/2-1/2",!1),at=pe("*",!1),ei=Ae("whitespace"),xt=Ie([" ","	","\r",`
`],!1,!1),xn=function(m,T){return Ar(m,T)},Cn=function(m){return Object.fromEntries(m)},ti=function(m,T){return[m,T]},ut=function(m,T){return{root:m,marker:T}},Ct=function(m,T){return kr(Tr(m),...T.flat())},Sn=function(m,T,x,F,Q){return wr(m,T,x,F,Q)},En=function(m){return m},De=function(m){return m.replace(/[\r\n]+/g," ")},Te=function(m){return m.trim()},Ut=function(m){return m},ni=function(m,T){return{result:m,comment:T}},S=s.peg$currPos|0,Je=[{line:1,column:1}],me=S,Fe=s.peg$maxFailExpected||[],L=s.peg$silentFails|0,Ke;if(s.startRule){if(!(s.startRule in p))throw new Error(`Can't start parsing from rule "`+s.startRule+'".');v=p[s.startRule]}function pe(m,T){return{type:"literal",text:m,ignoreCase:T}}function Ie(m,T,x){return{type:"class",parts:m,inverted:T,ignoreCase:x}}function ii(){return{type:"end"}}function Ae(m){return{type:"other",description:m}}function Tn(m){var T=Je[m],x;if(T)return T;if(m>=Je.length)x=Je.length-1;else for(x=m;!Je[--x];);for(T=Je[x],T={line:T.line,column:T.column};x<m;)E.charCodeAt(x)===10?(T.line++,T.column=1):T.column++,x++;return Je[m]=T,T}function wn(m,T,x){var F=Tn(m),Q=Tn(T),ue={source:h,start:{offset:m,line:F.line,column:F.column},end:{offset:T,line:Q.line,column:Q.column}};return ue}function U(m){S<me||(S>me&&(me=S,Fe=[]),Fe.push(m))}function ri(m,T,x){return new jt(jt.buildMessage(m,T),m,T,x)}function Ze(){var m,T,x;return m=S,T=kn(),x=An(),m=xn(T,x),m}function kn(){var m,T,x;for(m=S,T=[],x=Lt();x!==u;)T.push(x),x=Lt();return x=be(),m=Cn(T),m}function Lt(){var m,T,x,F,Q,ue,et;return L++,m=S,be(),E.charCodeAt(S)===91?(T=k,S++):(T=u,L===0&&U(rt)),T!==u?(be(),x=Qt(),x!==u?(be(),E.charCodeAt(S)===34?(F=D,S++):(F=u,L===0&&U(Bt)),F!==u?(Q=$t(),E.charCodeAt(S)===34?(ue=D,S++):(ue=u,L===0&&U(Bt)),ue!==u?(be(),E.charCodeAt(S)===93?(et=q,S++):(et=u,L===0&&U(hn)),et!==u?m=ti(x,Q):(S=m,m=u)):(S=m,m=u)):(S=m,m=u)):(S=m,m=u)):(S=m,m=u),L--,m===u&&L===0&&U(Ft),m}function Qt(){var m,T,x;if(L++,m=S,T=[],x=E.charAt(S),yt.test(x)?S++:(x=u,L===0&&U(mt)),x!==u)for(;x!==u;)T.push(x),x=E.charAt(S),yt.test(x)?S++:(x=u,L===0&&U(mt));else T=u;return T!==u?m=E.substring(m,S):m=T,L--,m===u&&(T=u,L===0&&U(dn)),m}function $t(){var m,T,x;for(L++,m=S,T=[],x=E.charAt(S),ce.test(x)?S++:(x=u,L===0&&U(gn));x!==u;)T.push(x),x=E.charAt(S),ce.test(x)?S++:(x=u,L===0&&U(gn));return m=E.substring(m,S),L--,T=u,L===0&&U(pn),m}function An(){var m,T,x;return m=S,T=Nn(),be(),x=Ln(),x===u&&(x=null),be(),m=ut(T,x),m}function Nn(){var m,T,x,F;for(m=S,T=Gt(),T===u&&(T=null),x=[],F=ft();F!==u;)x.push(F),F=ft();return m=Ct(T,x),m}function ft(){var m,T,x,F,Q,ue,et,lt;if(m=S,be(),Dn(),be(),T=Pn(),T!==u){for(x=qn(),x===u&&(x=null),F=[],Q=zt();Q!==u;)F.push(Q),Q=zt();for(Q=be(),ue=Gt(),ue===u&&(ue=null),et=[],lt=On();lt!==u;)et.push(lt),lt=On();m=Sn(T,x,F,ue,et)}else S=m,m=u;return m}function Dn(){var m,T,x,F,Q,ue;for(L++,m=S,T=[],x=E.charAt(S),Dt.test(x)?S++:(x=u,L===0&&U(Pt));x!==u;)T.push(x),x=E.charAt(S),Dt.test(x)?S++:(x=u,L===0&&U(Pt));if(E.charCodeAt(S)===46?(x=$,S++):(x=u,L===0&&U(zn)),x!==u){for(F=be(),Q=[],ue=E.charAt(S),un.test(ue)?S++:(ue=u,L===0&&U(Wt));ue!==u;)Q.push(ue),ue=E.charAt(S),un.test(ue)?S++:(ue=u,L===0&&U(Wt));T=[T,x,F,Q],m=T}else S=m,m=u;return L--,m===u&&(T=u,L===0&&U(Qn)),m}function Pn(){var m,T,x,F,Q,ue;if(L++,m=S,T=S,E.substr(S,5)===W?(x=W,S+=5):(x=u,L===0&&U(Gn)),x===u&&(E.substr(S,3)===ee?(x=ee,S+=3):(x=u,L===0&&U(st)),x===u&&(E.substr(S,5)===M?(x=M,S+=5):(x=u,L===0&&U(qt)),x===u&&(E.substr(S,3)===G?(x=G,S+=3):(x=u,L===0&&U(vn)),x===u))))if(x=S,F=E.charAt(S),yt.test(F)?S++:(F=u,L===0&&U(mt)),F!==u){if(Q=[],ue=E.charAt(S),fn.test(ue)?S++:(ue=u,L===0&&U(yn)),ue!==u)for(;ue!==u;)Q.push(ue),ue=E.charAt(S),fn.test(ue)?S++:(ue=u,L===0&&U(yn));else Q=u;Q!==u?(F=[F,Q],x=F):(S=x,x=u)}else S=x,x=u;return x!==u?(F=E.charAt(S),fe.test(F)?S++:(F=u,L===0&&U(Kt)),F===u&&(F=null),x=[x,F],T=x):(S=T,T=u),T!==u?m=E.substring(m,S):m=T,L--,m===u&&(T=u,L===0&&U(Le)),m}function qn(){var m,T,x;for(L++,m=S,T=[],x=E.charAt(S),it.test(x)?S++:(x=u,L===0&&U($e));x!==u;)T.push(x),T.length>=2?x=u:(x=E.charAt(S),it.test(x)?S++:(x=u,L===0&&U($e)));return T.length<1?(S=m,m=u):m=T,L--,m===u&&(T=u,L===0&&U(Ot)),m}function zt(){var m,T,x,F,Q;if(L++,m=S,be(),E.charCodeAt(S)===36?(T=I,S++):(T=u,L===0&&U(Xn)),T!==u){if(x=S,F=[],Q=E.charAt(S),Dt.test(Q)?S++:(Q=u,L===0&&U(Pt)),Q!==u)for(;Q!==u;)F.push(Q),Q=E.charAt(S),Dt.test(Q)?S++:(Q=u,L===0&&U(Pt));else F=u;F!==u?x=E.substring(x,S):x=F,x!==u?m=En(x):(S=m,m=u)}else S=m,m=u;return L--,m===u&&L===0&&U(Vn),m}function Gt(){var m;return m=Vt(),m===u&&(m=si()),m}function Vt(){var m,T,x,F,Q;if(L++,m=S,E.charCodeAt(S)===123?(T=H,S++):(T=u,L===0&&U(Me)),T!==u){for(x=S,F=[],Q=E.charAt(S),ln.test(Q)?S++:(Q=u,L===0&&U(ot));Q!==u;)F.push(Q),Q=E.charAt(S),ln.test(Q)?S++:(Q=u,L===0&&U(ot));x=E.substring(x,S),E.charCodeAt(S)===125?(F=Se,S++):(F=u,L===0&&U(bt)),F!==u?m=De(x):(S=m,m=u)}else S=m,m=u;return L--,m===u&&(T=u,L===0&&U(Yn)),m}function si(){var m,T,x,F,Q;if(L++,m=S,E.charCodeAt(S)===59?(T=Y,S++):(T=u,L===0&&U(Ee)),T!==u){for(x=S,F=[],Q=E.charAt(S),cn.test(Q)?S++:(Q=u,L===0&&U(mn));Q!==u;)F.push(Q),Q=E.charAt(S),cn.test(Q)?S++:(Q=u,L===0&&U(mn));x=E.substring(x,S),m=Te(x)}else S=m,m=u;return L--,m===u&&(T=u,L===0&&U(K)),m}function On(){var m,T,x,F;return L++,m=S,be(),E.charCodeAt(S)===40?(T=Rt,S++):(T=u,L===0&&U(Zn)),T!==u?(x=Nn(),x!==u?(be(),E.charCodeAt(S)===41?(F=on,S++):(F=u,L===0&&U(bn)),F!==u?m=Ut(x):(S=m,m=u)):(S=m,m=u)):(S=m,m=u),L--,m===u&&L===0&&U(Jn),m}function Ln(){var m,T,x;return L++,m=S,E.substr(S,3)===Xe?(T=Xe,S+=3):(T=u,L===0&&U(_t)),T===u&&(E.substr(S,3)===Ht?(T=Ht,S+=3):(T=u,L===0&&U(He)),T===u&&(E.substr(S,7)===an?(T=an,S+=7):(T=u,L===0&&U(Ye)),T===u&&(E.charCodeAt(S)===42?(T=r,S++):(T=u,L===0&&U(at))))),T!==u?(be(),x=Gt(),x===u&&(x=null),m=ni(T,x)):(S=m,m=u),L--,m===u&&(T=u,L===0&&U(_n)),m}function be(){var m,T;for(L++,m=[],T=E.charAt(S),Oe.test(T)?S++:(T=u,L===0&&U(xt));T!==u;)m.push(T),T=E.charAt(S),Oe.test(T)?S++:(T=u,L===0&&U(xt));return L--,T=u,L===0&&U(ei),m}if(Ke=v(),s.peg$library)return{peg$result:Ke,peg$currPos:S,peg$FAILED:u,peg$maxFailExpected:Fe,peg$maxFailPos:me};if(Ke!==u&&S===E.length)return Ke;throw Ke!==u&&S<E.length&&U(ii()),ri(Fe,me<E.length?E.charAt(me):null,me<E.length?wn(me,me+1):wn(me,me))}/**
 * @license
 * Copyright (c) 2025, Jeff Hlywa (jhlywa@gmail.com)
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice,
 *    this list of conditions and the following disclaimer.
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the documentation
 *    and/or other materials provided with the distribution.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
 * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
 * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
 * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
 * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
 * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
 * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
 * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 * POSSIBILITY OF SUCH DAMAGE.
 */const Bn=0xffffffffffffffffn;function xi(E,s){return(E<<s|E>>64n-s)&0xffffffffffffffffn}function Ui(E,s){return E*s&Bn}function Pr(E){return function(){let s=BigInt(E&Bn),u=BigInt(E>>64n&Bn);const h=Ui(xi(Ui(s,5n),7n),9n);return u^=s,s=(xi(s,24n)^u^u<<16n)&Bn,u=xi(u,37n),E=u<<64n|s,h}}const Un=Pr(0xa187eb39cdcaed8f31c4b365b102e01en),qr=Array.from({length:2},()=>Array.from({length:6},()=>Array.from({length:128},()=>Un()))),Or=Array.from({length:8},()=>Un()),Lr=Array.from({length:16},()=>Un()),Ci=Un(),ke="w",qe="b",ge="p",ki="n",Wn="b",rn="r",vt="q",ye="k",Si="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1";class Hn{color;from;to;piece;captured;promotion;flags;san;lan;before;after;constructor(s,u){const{color:h,piece:p,from:v,to:k,flags:D,captured:q,promotion:$}=u,W=_e(v),ee=_e(k);this.color=h,this.piece=p,this.from=W,this.to=ee,this.san=s._moveToSan(u,s._moves({legal:!0})),this.lan=W+ee,this.before=s.fen(),s._makeMove(u),this.after=s.fen(),s._undoMove(),this.flags="";for(const M in Z)Z[M]&D&&(this.flags+=kt[M]);q&&(this.captured=q),$&&(this.promotion=$,this.lan+=$)}isCapture(){return this.flags.indexOf(kt.CAPTURE)>-1}isPromotion(){return this.flags.indexOf(kt.PROMOTION)>-1}isEnPassant(){return this.flags.indexOf(kt.EP_CAPTURE)>-1}isKingsideCastle(){return this.flags.indexOf(kt.KSIDE_CASTLE)>-1}isQueensideCastle(){return this.flags.indexOf(kt.QSIDE_CASTLE)>-1}isBigPawn(){return this.flags.indexOf(kt.BIG_PAWN)>-1}}const Ce=-1,kt={NORMAL:"n",CAPTURE:"c",BIG_PAWN:"b",EP_CAPTURE:"e",PROMOTION:"p",KSIDE_CASTLE:"k",QSIDE_CASTLE:"q",NULL_MOVE:"-"},Z={NORMAL:1,CAPTURE:2,BIG_PAWN:4,EP_CAPTURE:8,PROMOTION:16,KSIDE_CASTLE:32,QSIDE_CASTLE:64,NULL_MOVE:128},Ai={Event:"?",Site:"?",Date:"????.??.??",Round:"?",White:"?",Black:"?",Result:"*"},$r={WhiteTitle:null,BlackTitle:null,WhiteElo:null,BlackElo:null,WhiteUSCF:null,BlackUSCF:null,WhiteNA:null,BlackNA:null,WhiteType:null,BlackType:null,EventDate:null,EventSponsor:null,Section:null,Stage:null,Board:null,Opening:null,Variation:null,SubVariation:null,ECO:null,NIC:null,Time:null,UTCTime:null,UTCDate:null,TimeControl:null,SetUp:null,FEN:null,Termination:null,Annotator:null,Mode:null,PlyCount:null},Mr={...Ai,...$r},X={a8:0,b8:1,c8:2,d8:3,e8:4,f8:5,g8:6,h8:7,a7:16,b7:17,c7:18,d7:19,e7:20,f7:21,g7:22,h7:23,a6:32,b6:33,c6:34,d6:35,e6:36,f6:37,g6:38,h6:39,a5:48,b5:49,c5:50,d5:51,e5:52,f5:53,g5:54,h5:55,a4:64,b4:65,c4:66,d4:67,e4:68,f4:69,g4:70,h4:71,a3:80,b3:81,c3:82,d3:83,e3:84,f3:85,g3:86,h3:87,a2:96,b2:97,c2:98,d2:99,e2:100,f2:101,g2:102,h2:103,a1:112,b1:113,c1:114,d1:115,e1:116,f1:117,g1:118,h1:119},Ei={b:[16,32,17,15],w:[-16,-32,-17,-15]},Qi={n:[-18,-33,-31,-14,18,33,31,14],b:[-17,-15,17,15],r:[-16,1,16,-1],q:[-17,-16,-15,1,17,16,15,-1],k:[-17,-16,-15,1,17,16,15,-1]},Ir=[20,0,0,0,0,0,0,24,0,0,0,0,0,0,20,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,24,24,24,24,24,24,56,0,56,24,24,24,24,24,24,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,20,0,0,0,0,0,0,24,0,0,0,0,0,0,20],jr=[17,0,0,0,0,0,0,16,0,0,0,0,0,0,15,0,0,17,0,0,0,0,0,16,0,0,0,0,0,15,0,0,0,0,17,0,0,0,0,16,0,0,0,0,15,0,0,0,0,0,0,17,0,0,0,16,0,0,0,15,0,0,0,0,0,0,0,0,17,0,0,16,0,0,15,0,0,0,0,0,0,0,0,0,0,17,0,16,0,15,0,0,0,0,0,0,0,0,0,0,0,0,17,16,15,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,-15,-16,-17,0,0,0,0,0,0,0,0,0,0,0,0,-15,0,-16,0,-17,0,0,0,0,0,0,0,0,0,0,-15,0,0,-16,0,0,-17,0,0,0,0,0,0,0,0,-15,0,0,0,-16,0,0,0,-17,0,0,0,0,0,0,-15,0,0,0,0,-16,0,0,0,0,-17,0,0,0,0,-15,0,0,0,0,0,-16,0,0,0,0,0,-17,0,0,-15,0,0,0,0,0,0,-16,0,0,0,0,0,0,-17],Rr={p:1,n:2,b:4,r:8,q:16,k:32},Hr="pnbrqkPNBRQK",zi=[ki,Wn,rn,vt],Fr=7,Br=6,Wr=1,Kr=0,Fn={[ye]:Z.KSIDE_CASTLE,[vt]:Z.QSIDE_CASTLE},pt={w:[{square:X.a1,flag:Z.QSIDE_CASTLE},{square:X.h1,flag:Z.KSIDE_CASTLE}],b:[{square:X.a8,flag:Z.QSIDE_CASTLE},{square:X.h8,flag:Z.KSIDE_CASTLE}]},Ur={b:Wr,w:Br},Ti="--";function Nt(E){return E>>4}function sn(E){return E&15}function Xi(E){return"0123456789".indexOf(E)!==-1}function _e(E){const s=sn(E),u=Nt(E);return"abcdefgh".substring(s,s+1)+"87654321".substring(u,u+1)}function nn(E){return E===ke?qe:ke}function Qr(E){const s=E.split(/\s+/);if(s.length!==6)return{ok:!1,error:"Invalid FEN: must contain six space-delimited fields"};const u=parseInt(s[5],10);if(isNaN(u)||u<=0)return{ok:!1,error:"Invalid FEN: move number must be a positive integer"};const h=parseInt(s[4],10);if(isNaN(h)||h<0)return{ok:!1,error:"Invalid FEN: half move counter number must be a non-negative integer"};if(!/^(-|[abcdefgh][36])$/.test(s[3]))return{ok:!1,error:"Invalid FEN: en-passant square is invalid"};if(/[^kKqQ-]/.test(s[2]))return{ok:!1,error:"Invalid FEN: castling availability is invalid"};if(!/^(w|b)$/.test(s[1]))return{ok:!1,error:"Invalid FEN: side-to-move is invalid"};const p=s[0].split("/");if(p.length!==8)return{ok:!1,error:"Invalid FEN: piece data does not contain 8 '/'-delimited rows"};for(let k=0;k<p.length;k++){let D=0,q=!1;for(let $=0;$<p[k].length;$++)if(Xi(p[k][$])){if(q)return{ok:!1,error:"Invalid FEN: piece data is invalid (consecutive number)"};D+=parseInt(p[k][$],10),q=!0}else{if(!/^[prnbqkPRNBQK]$/.test(p[k][$]))return{ok:!1,error:"Invalid FEN: piece data is invalid (invalid piece)"};D+=1,q=!1}if(D!==8)return{ok:!1,error:"Invalid FEN: piece data is invalid (too many squares in rank)"}}if(s[3][1]=="3"&&s[1]=="w"||s[3][1]=="6"&&s[1]=="b")return{ok:!1,error:"Invalid FEN: illegal en-passant square"};const v=[{color:"white",regex:/K/g},{color:"black",regex:/k/g}];for(const{color:k,regex:D}of v){if(!D.test(s[0]))return{ok:!1,error:`Invalid FEN: missing ${k} king`};if((s[0].match(D)||[]).length>1)return{ok:!1,error:`Invalid FEN: too many ${k} kings`}}return Array.from(p[0]+p[7]).some(k=>k.toUpperCase()==="P")?{ok:!1,error:"Invalid FEN: some pawns are on the edge rows"}:{ok:!0}}function zr(E,s){const u=E.from,h=E.to,p=E.piece;let v=0,k=0,D=0;for(let q=0,$=s.length;q<$;q++){const W=s[q].from,ee=s[q].to,M=s[q].piece;p===M&&u!==W&&h===ee&&(v++,Nt(u)===Nt(W)&&k++,sn(u)===sn(W)&&D++)}return v>0?k>0&&D>0?_e(u):D>0?_e(u).charAt(1):_e(u).charAt(0):""}function gt(E,s,u,h,p,v=void 0,k=Z.NORMAL){const D=Nt(h);if(p===ge&&(D===Fr||D===Kr))for(let q=0;q<zi.length;q++){const $=zi[q];E.push({color:s,from:u,to:h,piece:p,captured:v,promotion:$,flags:k|Z.PROMOTION})}else E.push({color:s,from:u,to:h,piece:p,captured:v,flags:k})}function Gi(E){let s=E.charAt(0);return s>="a"&&s<="h"?E.match(/[a-h]\d.*[a-h]\d/)?void 0:ge:(s=s.toLowerCase(),s==="o"?ye:s)}function wi(E){return E.replace(/=/,"").replace(/[+#]?[?!]*$/,"")}class Gr{_board=new Array(128);_turn=ke;_header={};_kings={w:Ce,b:Ce};_epSquare=-1;_halfMoves=0;_moveNumber=0;_history=[];_comments={};_castling={w:0,b:0};_hash=0n;_positionCount=new Map;constructor(s=Si,{skipValidation:u=!1}={}){this.load(s,{skipValidation:u})}clear({preserveHeaders:s=!1}={}){this._board=new Array(128),this._kings={w:Ce,b:Ce},this._turn=ke,this._castling={w:0,b:0},this._epSquare=Ce,this._halfMoves=0,this._moveNumber=1,this._history=[],this._comments={},this._header=s?this._header:{...Mr},this._hash=this._computeHash(),this._positionCount=new Map,this._header.SetUp=null,this._header.FEN=null}load(s,{skipValidation:u=!1,preserveHeaders:h=!1}={}){let p=s.split(/\s+/);if(p.length>=2&&p.length<6){const D=["-","-","0","1"];s=p.concat(D.slice(-(6-p.length))).join(" ")}if(p=s.split(/\s+/),!u){const{ok:D,error:q}=Qr(s);if(!D)throw new Error(q)}const v=p[0];let k=0;this.clear({preserveHeaders:h});for(let D=0;D<v.length;D++){const q=v.charAt(D);if(q==="/")k+=8;else if(Xi(q))k+=parseInt(q,10);else{const $=q<"a"?ke:qe;this._put({type:q.toLowerCase(),color:$},_e(k)),k++}}this._turn=p[1],p[2].indexOf("K")>-1&&(this._castling.w|=Z.KSIDE_CASTLE),p[2].indexOf("Q")>-1&&(this._castling.w|=Z.QSIDE_CASTLE),p[2].indexOf("k")>-1&&(this._castling.b|=Z.KSIDE_CASTLE),p[2].indexOf("q")>-1&&(this._castling.b|=Z.QSIDE_CASTLE),this._epSquare=p[3]==="-"?Ce:X[p[3]],this._halfMoves=parseInt(p[4],10),this._moveNumber=parseInt(p[5],10),this._hash=this._computeHash(),this._updateSetup(s),this._incPositionCount()}fen({forceEnpassantSquare:s=!1}={}){let u=0,h="";for(let k=X.a8;k<=X.h1;k++){if(this._board[k]){u>0&&(h+=u,u=0);const{color:D,type:q}=this._board[k];h+=D===ke?q.toUpperCase():q.toLowerCase()}else u++;k+1&136&&(u>0&&(h+=u),k!==X.h1&&(h+="/"),u=0,k+=8)}let p="";this._castling[ke]&Z.KSIDE_CASTLE&&(p+="K"),this._castling[ke]&Z.QSIDE_CASTLE&&(p+="Q"),this._castling[qe]&Z.KSIDE_CASTLE&&(p+="k"),this._castling[qe]&Z.QSIDE_CASTLE&&(p+="q"),p=p||"-";let v="-";if(this._epSquare!==Ce)if(s)v=_e(this._epSquare);else{const k=this._epSquare+(this._turn===ke?16:-16),D=[k+1,k-1];for(const q of D){if(q&136)continue;const $=this._turn;if(this._board[q]?.color===$&&this._board[q]?.type===ge){this._makeMove({color:$,from:q,to:this._epSquare,piece:ge,captured:ge,flags:Z.EP_CAPTURE});const W=!this._isKingAttacked($);if(this._undoMove(),W){v=_e(this._epSquare);break}}}}return[h,this._turn,p,v,this._halfMoves,this._moveNumber].join(" ")}_pieceKey(s){if(!this._board[s])return 0n;const{color:u,type:h}=this._board[s],p={w:0,b:1}[u],v={p:0,n:1,b:2,r:3,q:4,k:5}[h];return qr[p][v][s]}_epKey(){return this._epSquare===Ce?0n:Or[this._epSquare&7]}_castlingKey(){const s=this._castling.w>>5|this._castling.b>>3;return Lr[s]}_computeHash(){let s=0n;for(let u=X.a8;u<=X.h1;u++){if(u&136){u+=7;continue}this._board[u]&&(s^=this._pieceKey(u))}return s^=this._epKey(),s^=this._castlingKey(),this._turn==="b"&&(s^=Ci),s}_updateSetup(s){this._history.length>0||(s!==Si?(this._header.SetUp="1",this._header.FEN=s):(this._header.SetUp=null,this._header.FEN=null))}reset(){this.load(Si)}get(s){return this._board[X[s]]}findPiece(s){const u=[];for(let h=X.a8;h<=X.h1;h++){if(h&136){h+=7;continue}!this._board[h]||this._board[h]?.color!==s.color||this._board[h].color===s.color&&this._board[h].type===s.type&&u.push(_e(h))}return u}put({type:s,color:u},h){return this._put({type:s,color:u},h)?(this._updateCastlingRights(),this._updateEnPassantSquare(),this._updateSetup(this.fen()),!0):!1}_set(s,u){this._hash^=this._pieceKey(s),this._board[s]=u,this._hash^=this._pieceKey(s)}_put({type:s,color:u},h){if(Hr.indexOf(s.toLowerCase())===-1||!(h in X))return!1;const p=X[h];if(s==ye&&!(this._kings[u]==Ce||this._kings[u]==p))return!1;const v=this._board[p];return v&&v.type===ye&&(this._kings[v.color]=Ce),this._set(p,{type:s,color:u}),s===ye&&(this._kings[u]=p),!0}_clear(s){this._hash^=this._pieceKey(s),delete this._board[s]}remove(s){const u=this.get(s);return this._clear(X[s]),u&&u.type===ye&&(this._kings[u.color]=Ce),this._updateCastlingRights(),this._updateEnPassantSquare(),this._updateSetup(this.fen()),u}_updateCastlingRights(){this._hash^=this._castlingKey();const s=this._board[X.e1]?.type===ye&&this._board[X.e1]?.color===ke,u=this._board[X.e8]?.type===ye&&this._board[X.e8]?.color===qe;(!s||this._board[X.a1]?.type!==rn||this._board[X.a1]?.color!==ke)&&(this._castling.w&=-65),(!s||this._board[X.h1]?.type!==rn||this._board[X.h1]?.color!==ke)&&(this._castling.w&=-33),(!u||this._board[X.a8]?.type!==rn||this._board[X.a8]?.color!==qe)&&(this._castling.b&=-65),(!u||this._board[X.h8]?.type!==rn||this._board[X.h8]?.color!==qe)&&(this._castling.b&=-33),this._hash^=this._castlingKey()}_updateEnPassantSquare(){if(this._epSquare===Ce)return;const s=this._epSquare+(this._turn===ke?-16:16),u=this._epSquare+(this._turn===ke?16:-16),h=[u+1,u-1];if(this._board[s]!==null||this._board[this._epSquare]!==null||this._board[u]?.color!==nn(this._turn)||this._board[u]?.type!==ge){this._hash^=this._epKey(),this._epSquare=Ce;return}const p=v=>!(v&136)&&this._board[v]?.color===this._turn&&this._board[v]?.type===ge;h.some(p)||(this._hash^=this._epKey(),this._epSquare=Ce)}_attacked(s,u,h){const p=[];for(let v=X.a8;v<=X.h1;v++){if(v&136){v+=7;continue}if(this._board[v]===void 0||this._board[v].color!==s)continue;const k=this._board[v],D=v-u;if(D===0)continue;const q=D+119;if(Ir[q]&Rr[k.type]){if(k.type===ge){if(D>0&&k.color===ke||D<=0&&k.color===qe)if(h)p.push(_e(v));else return!0;continue}if(k.type==="n"||k.type==="k")if(h){p.push(_e(v));continue}else return!0;const $=jr[q];let W=v+$,ee=!1;for(;W!==u;){if(this._board[W]!=null){ee=!0;break}W+=$}if(!ee)if(h){p.push(_e(v));continue}else return!0}}return h?p:!1}attackers(s,u){return u?this._attacked(u,X[s],!0):this._attacked(this._turn,X[s],!0)}_isKingAttacked(s){const u=this._kings[s];return u===-1?!1:this._attacked(nn(s),u)}hash(){return this._hash.toString(16)}isAttacked(s,u){return this._attacked(u,X[s])}isCheck(){return this._isKingAttacked(this._turn)}inCheck(){return this.isCheck()}isCheckmate(){return this.isCheck()&&this._moves().length===0}isStalemate(){return!this.isCheck()&&this._moves().length===0}isInsufficientMaterial(){const s={b:0,n:0,r:0,q:0,k:0,p:0},u=[];let h=0,p=0;for(let v=X.a8;v<=X.h1;v++){if(p=(p+1)%2,v&136){v+=7;continue}const k=this._board[v];k&&(s[k.type]=k.type in s?s[k.type]+1:1,k.type===Wn&&u.push(p),h++)}if(h===2)return!0;if(h===3&&(s[Wn]===1||s[ki]===1))return!0;if(h===s[Wn]+2){let v=0;const k=u.length;for(let D=0;D<k;D++)v+=u[D];if(v===0||v===k)return!0}return!1}isThreefoldRepetition(){return this._getPositionCount(this._hash)>=3}isDrawByFiftyMoves(){return this._halfMoves>=100}isDraw(){return this.isDrawByFiftyMoves()||this.isStalemate()||this.isInsufficientMaterial()||this.isThreefoldRepetition()}isGameOver(){return this.isCheckmate()||this.isDraw()}moves({verbose:s=!1,square:u=void 0,piece:h=void 0}={}){const p=this._moves({square:u,piece:h});return s?p.map(v=>new Hn(this,v)):p.map(v=>this._moveToSan(v,p))}_moves({legal:s=!0,piece:u=void 0,square:h=void 0}={}){const p=h?h.toLowerCase():void 0,v=u?.toLowerCase(),k=[],D=this._turn,q=nn(D);let $=X.a8,W=X.h1,ee=!1;if(p)if(p in X)$=W=X[p],ee=!0;else return[];for(let G=$;G<=W;G++){if(G&136){G+=7;continue}if(!this._board[G]||this._board[G].color===q)continue;const{type:I}=this._board[G];let H;if(I===ge){if(v&&v!==I)continue;H=G+Ei[D][0],this._board[H]||(gt(k,D,G,H,ge),H=G+Ei[D][1],Ur[D]===Nt(G)&&!this._board[H]&&gt(k,D,G,H,ge,void 0,Z.BIG_PAWN));for(let Se=2;Se<4;Se++)H=G+Ei[D][Se],!(H&136)&&(this._board[H]?.color===q?gt(k,D,G,H,ge,this._board[H].type,Z.CAPTURE):H===this._epSquare&&gt(k,D,G,H,ge,ge,Z.EP_CAPTURE))}else{if(v&&v!==I)continue;for(let Se=0,Y=Qi[I].length;Se<Y;Se++){const Rt=Qi[I][Se];for(H=G;H+=Rt,!(H&136);){if(!this._board[H])gt(k,D,G,H,I);else{if(this._board[H].color===D)break;gt(k,D,G,H,I,this._board[H].type,Z.CAPTURE);break}if(I===ki||I===ye)break}}}}if((v===void 0||v===ye)&&(!ee||W===this._kings[D])){if(this._castling[D]&Z.KSIDE_CASTLE){const G=this._kings[D],I=G+2;!this._board[G+1]&&!this._board[I]&&!this._attacked(q,this._kings[D])&&!this._attacked(q,G+1)&&!this._attacked(q,I)&&gt(k,D,this._kings[D],I,ye,void 0,Z.KSIDE_CASTLE)}if(this._castling[D]&Z.QSIDE_CASTLE){const G=this._kings[D],I=G-2;!this._board[G-1]&&!this._board[G-2]&&!this._board[G-3]&&!this._attacked(q,this._kings[D])&&!this._attacked(q,G-1)&&!this._attacked(q,I)&&gt(k,D,this._kings[D],I,ye,void 0,Z.QSIDE_CASTLE)}}if(!s||this._kings[D]===-1)return k;const M=[];for(let G=0,I=k.length;G<I;G++)this._makeMove(k[G]),this._isKingAttacked(D)||M.push(k[G]),this._undoMove();return M}move(s,{strict:u=!1}={}){let h=null;if(typeof s=="string")h=this._moveFromSan(s,u);else if(s===null)h=this._moveFromSan(Ti,u);else if(typeof s=="object"){const v=this._moves();for(let k=0,D=v.length;k<D;k++)if(s.from===_e(v[k].from)&&s.to===_e(v[k].to)&&(!("promotion"in v[k])||s.promotion===v[k].promotion)){h=v[k];break}}if(!h)throw typeof s=="string"?new Error(`Invalid move: ${s}`):new Error(`Invalid move: ${JSON.stringify(s)}`);if(this.isCheck()&&h.flags&Z.NULL_MOVE)throw new Error("Null move not allowed when in check");const p=new Hn(this,h);return this._makeMove(h),this._incPositionCount(),p}_push(s){this._history.push({move:s,kings:{b:this._kings.b,w:this._kings.w},turn:this._turn,castling:{b:this._castling.b,w:this._castling.w},epSquare:this._epSquare,halfMoves:this._halfMoves,moveNumber:this._moveNumber})}_movePiece(s,u){this._hash^=this._pieceKey(s),this._board[u]=this._board[s],delete this._board[s],this._hash^=this._pieceKey(u)}_makeMove(s){const u=this._turn,h=nn(u);if(this._push(s),s.flags&Z.NULL_MOVE){u===qe&&this._moveNumber++,this._halfMoves++,this._turn=h,this._epSquare=Ce;return}if(this._hash^=this._epKey(),this._hash^=this._castlingKey(),s.captured&&(this._hash^=this._pieceKey(s.to)),this._movePiece(s.from,s.to),s.flags&Z.EP_CAPTURE&&(this._turn===qe?this._clear(s.to-16):this._clear(s.to+16)),s.promotion&&(this._clear(s.to),this._set(s.to,{type:s.promotion,color:u})),this._board[s.to].type===ye){if(this._kings[u]=s.to,s.flags&Z.KSIDE_CASTLE){const p=s.to-1,v=s.to+1;this._movePiece(v,p)}else if(s.flags&Z.QSIDE_CASTLE){const p=s.to+1,v=s.to-2;this._movePiece(v,p)}this._castling[u]=0}if(this._castling[u]){for(let p=0,v=pt[u].length;p<v;p++)if(s.from===pt[u][p].square&&this._castling[u]&pt[u][p].flag){this._castling[u]^=pt[u][p].flag;break}}if(this._castling[h]){for(let p=0,v=pt[h].length;p<v;p++)if(s.to===pt[h][p].square&&this._castling[h]&pt[h][p].flag){this._castling[h]^=pt[h][p].flag;break}}if(this._hash^=this._castlingKey(),s.flags&Z.BIG_PAWN){let p;u===qe?p=s.to-16:p=s.to+16,!(s.to-1&136)&&this._board[s.to-1]?.type===ge&&this._board[s.to-1]?.color===h||!(s.to+1&136)&&this._board[s.to+1]?.type===ge&&this._board[s.to+1]?.color===h?(this._epSquare=p,this._hash^=this._epKey()):this._epSquare=Ce}else this._epSquare=Ce;s.piece===ge?this._halfMoves=0:s.flags&(Z.CAPTURE|Z.EP_CAPTURE)?this._halfMoves=0:this._halfMoves++,u===qe&&this._moveNumber++,this._turn=h,this._hash^=Ci}undo(){const s=this._hash,u=this._undoMove();if(u){const h=new Hn(this,u);return this._decPositionCount(s),h}return null}_undoMove(){const s=this._history.pop();if(s===void 0)return null;this._hash^=this._epKey(),this._hash^=this._castlingKey();const u=s.move;this._kings=s.kings,this._turn=s.turn,this._castling=s.castling,this._epSquare=s.epSquare,this._halfMoves=s.halfMoves,this._moveNumber=s.moveNumber,this._hash^=this._epKey(),this._hash^=this._castlingKey(),this._hash^=Ci;const h=this._turn,p=nn(h);if(u.flags&Z.NULL_MOVE)return u;if(this._movePiece(u.to,u.from),u.piece&&(this._clear(u.from),this._set(u.from,{type:u.piece,color:h})),u.captured)if(u.flags&Z.EP_CAPTURE){let v;h===qe?v=u.to-16:v=u.to+16,this._set(v,{type:ge,color:p})}else this._set(u.to,{type:u.captured,color:p});if(u.flags&(Z.KSIDE_CASTLE|Z.QSIDE_CASTLE)){let v,k;u.flags&Z.KSIDE_CASTLE?(v=u.to+1,k=u.to-1):(v=u.to-2,k=u.to+1),this._movePiece(k,v)}return u}pgn({newline:s=`
`,maxWidth:u=0}={}){const h=[];let p=!1;for(const M in this._header)this._header[M]&&h.push(`[${M} "${this._header[M]}"]`+s),p=!0;p&&this._history.length&&h.push(s);const v=M=>{const G=this._comments[this.fen()];if(typeof G<"u"){const I=M.length>0?" ":"";M=`${M}${I}{${G}}`}return M},k=[];for(;this._history.length>0;)k.push(this._undoMove());const D=[];let q="";for(k.length===0&&D.push(v(""));k.length>0;){q=v(q);const M=k.pop();if(!M)break;if(!this._history.length&&M.color==="b"){const G=`${this._moveNumber}. ...`;q=q?`${q} ${G}`:G}else M.color==="w"&&(q.length&&D.push(q),q=this._moveNumber+".");q=q+" "+this._moveToSan(M,this._moves({legal:!0})),this._makeMove(M)}if(q.length&&D.push(v(q)),D.push(this._header.Result||"*"),u===0)return h.join("")+D.join(" ");const $=function(){return h.length>0&&h[h.length-1]===" "?(h.pop(),!0):!1},W=function(M,G){for(const I of G.split(" "))if(I){if(M+I.length>u){for(;$();)M--;h.push(s),M=0}h.push(I),M+=I.length,h.push(" "),M++}return $()&&M--,M};let ee=0;for(let M=0;M<D.length;M++){if(ee+D[M].length>u&&D[M].includes("{")){ee=W(ee,D[M]);continue}ee+D[M].length>u&&M!==0?(h[h.length-1]===" "&&h.pop(),h.push(s),ee=0):M!==0&&(h.push(" "),ee++),h.push(D[M]),ee+=D[M].length}return h.join("")}header(...s){for(let u=0;u<s.length;u+=2)typeof s[u]=="string"&&typeof s[u+1]=="string"&&(this._header[s[u]]=s[u+1]);return this._header}setHeader(s,u){return this._header[s]=u??Ai[s]??null,this.getHeaders()}removeHeader(s){return s in this._header?(this._header[s]=Ai[s]||null,!0):!1}getHeaders(){const s={};for(const[u,h]of Object.entries(this._header))h!==null&&(s[u]=h);return s}loadPgn(s,{strict:u=!1,newlineChar:h=`\r?
`}={}){h!==`\r?
`&&(s=s.replace(new RegExp(h,"g"),`
`));const p=Dr(s);this.reset();const v=p.headers;let k="";for(const $ in v)$.toLowerCase()==="fen"&&(k=v[$]),this.header($,v[$]);if(!u)k&&this.load(k,{preserveHeaders:!0});else if(v.SetUp==="1"){if(!("FEN"in v))throw new Error("Invalid PGN: FEN tag must be supplied with SetUp tag");this.load(v.FEN,{preserveHeaders:!0})}let D=p.root;for(;D;){if(D.move){const $=this._moveFromSan(D.move,u);if($==null)throw new Error(`Invalid move in PGN: ${D.move}`);this._makeMove($),this._incPositionCount()}D.comment!==void 0&&(this._comments[this.fen()]=D.comment),D=D.variations[0]}const q=p.result;q&&Object.keys(this._header).length&&this._header.Result!==q&&this.setHeader("Result",q)}_moveToSan(s,u){let h="";if(s.flags&Z.KSIDE_CASTLE)h="O-O";else if(s.flags&Z.QSIDE_CASTLE)h="O-O-O";else{if(s.flags&Z.NULL_MOVE)return Ti;if(s.piece!==ge){const p=zr(s,u);h+=s.piece.toUpperCase()+p}s.flags&(Z.CAPTURE|Z.EP_CAPTURE)&&(s.piece===ge&&(h+=_e(s.from)[0]),h+="x"),h+=_e(s.to),s.promotion&&(h+="="+s.promotion.toUpperCase())}return this._makeMove(s),this.isCheck()&&(this.isCheckmate()?h+="#":h+="+"),this._undoMove(),h}_moveFromSan(s,u=!1){let h=wi(s);if(u||(h==="0-0"?h="O-O":h==="0-0-0"&&(h="O-O-O")),h==Ti)return{color:this._turn,from:0,to:0,piece:"k",flags:Z.NULL_MOVE};let p=Gi(h),v=this._moves({legal:!0,piece:p});for(let M=0,G=v.length;M<G;M++)if(h===wi(this._moveToSan(v[M],v)))return v[M];if(u)return null;let k,D,q,$,W,ee=!1;if(D=h.match(/([pnbrqkPNBRQK])?([a-h][1-8])x?-?([a-h][1-8])([qrbnQRBN])?/),D?(k=D[1],q=D[2],$=D[3],W=D[4],q.length==1&&(ee=!0)):(D=h.match(/([pnbrqkPNBRQK])?([a-h]?[1-8]?)x?-?([a-h][1-8])([qrbnQRBN])?/),D&&(k=D[1],q=D[2],$=D[3],W=D[4],q.length==1&&(ee=!0))),p=Gi(h),v=this._moves({legal:!0,piece:k||p}),!$)return null;for(let M=0,G=v.length;M<G;M++)if(q){if((!k||k.toLowerCase()==v[M].piece)&&X[q]==v[M].from&&X[$]==v[M].to&&(!W||W.toLowerCase()==v[M].promotion))return v[M];if(ee){const I=_e(v[M].from);if((!k||k.toLowerCase()==v[M].piece)&&X[$]==v[M].to&&(q==I[0]||q==I[1])&&(!W||W.toLowerCase()==v[M].promotion))return v[M]}}else if(h===wi(this._moveToSan(v[M],v)).replace("x",""))return v[M];return null}ascii(){let s=`   +------------------------+
`;for(let u=X.a8;u<=X.h1;u++){if(sn(u)===0&&(s+=" "+"87654321"[Nt(u)]+" |"),this._board[u]){const h=this._board[u].type,v=this._board[u].color===ke?h.toUpperCase():h.toLowerCase();s+=" "+v+" "}else s+=" . ";u+1&136&&(s+=`|
`,u+=8)}return s+=`   +------------------------+
`,s+="     a  b  c  d  e  f  g  h",s}perft(s){const u=this._moves({legal:!1});let h=0;const p=this._turn;for(let v=0,k=u.length;v<k;v++)this._makeMove(u[v]),this._isKingAttacked(p)||(s-1>0?h+=this.perft(s-1):h++),this._undoMove();return h}setTurn(s){return this._turn==s?!1:(this.move("--"),!0)}turn(){return this._turn}board(){const s=[];let u=[];for(let h=X.a8;h<=X.h1;h++)this._board[h]==null?u.push(null):u.push({square:_e(h),type:this._board[h].type,color:this._board[h].color}),h+1&136&&(s.push(u),u=[],h+=8);return s}squareColor(s){if(s in X){const u=X[s];return(Nt(u)+sn(u))%2===0?"light":"dark"}return null}history({verbose:s=!1}={}){const u=[],h=[];for(;this._history.length>0;)u.push(this._undoMove());for(;;){const p=u.pop();if(!p)break;s?h.push(new Hn(this,p)):h.push(this._moveToSan(p,this._moves())),this._makeMove(p)}return h}_getPositionCount(s){return this._positionCount.get(s)??0}_incPositionCount(){this._positionCount.set(this._hash,(this._positionCount.get(this._hash)??0)+1)}_decPositionCount(s){const u=this._positionCount.get(s)??0;u===1?this._positionCount.delete(s):this._positionCount.set(s,u-1)}_pruneComments(){const s=[],u={},h=p=>{p in this._comments&&(u[p]=this._comments[p])};for(;this._history.length>0;)s.push(this._undoMove());for(h(this.fen());;){const p=s.pop();if(!p)break;this._makeMove(p),h(this.fen())}this._comments=u}getComment(){return this._comments[this.fen()]}setComment(s){this._comments[this.fen()]=s.replace("{","[").replace("}","]")}deleteComment(){return this.removeComment()}removeComment(){const s=this._comments[this.fen()];return delete this._comments[this.fen()],s}getComments(){return this._pruneComments(),Object.keys(this._comments).map(s=>({fen:s,comment:this._comments[s]}))}deleteComments(){return this.removeComments()}removeComments(){return this._pruneComments(),Object.keys(this._comments).map(s=>{const u=this._comments[s];return delete this._comments[s],{fen:s,comment:u}})}setCastlingRights(s,u){for(const p of[ye,vt])u[p]!==void 0&&(u[p]?this._castling[s]|=Fn[p]:this._castling[s]&=~Fn[p]);this._updateCastlingRights();const h=this.getCastlingRights(s);return(u[ye]===void 0||u[ye]===h[ye])&&(u[vt]===void 0||u[vt]===h[vt])}getCastlingRights(s){return{[ye]:(this._castling[s]&Fn[ye])!==0,[vt]:(this._castling[s]&Fn[vt])!==0}}moveNumber(){return this._moveNumber}}function Vr(E){return E&&E.__esModule&&Object.prototype.hasOwnProperty.call(E,"default")?E.default:E}var Kn={exports:{}};/*!
 * jQuery JavaScript Library v3.7.1
 * https://jquery.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2023-08-28T13:37Z
 */var Xr=Kn.exports,Vi;function Yr(){return Vi||(Vi=1,function(E){(function(s,u){E.exports=s.document?u(s,!0):function(h){if(!h.document)throw new Error("jQuery requires a window with a document");return u(h)}})(typeof window<"u"?window:Xr,function(s,u){var h=[],p=Object.getPrototypeOf,v=h.slice,k=h.flat?function(e){return h.flat.call(e)}:function(e){return h.concat.apply([],e)},D=h.push,q=h.indexOf,$={},W=$.toString,ee=$.hasOwnProperty,M=ee.toString,G=M.call(Object),I={},H=function(t){return typeof t=="function"&&typeof t.nodeType!="number"&&typeof t.item!="function"},Se=function(t){return t!=null&&t===t.window},Y=s.document,Rt={type:!0,src:!0,nonce:!0,noModule:!0};function on(e,t,n){n=n||Y;var i,o,a=n.createElement("script");if(a.text=e,t)for(i in Rt)o=t[i]||t.getAttribute&&t.getAttribute(i),o&&a.setAttribute(i,o);n.head.appendChild(a).parentNode.removeChild(a)}function Xe(e){return e==null?e+"":typeof e=="object"||typeof e=="function"?$[W.call(e)]||"object":typeof e}var Ht="3.7.1",an=/HTML$/i,r=function(e,t){return new r.fn.init(e,t)};r.fn=r.prototype={jquery:Ht,constructor:r,length:0,toArray:function(){return v.call(this)},get:function(e){return e==null?v.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=r.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return r.each(this,e)},map:function(e){return this.pushStack(r.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(v.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(r.grep(this,function(e,t){return(t+1)%2}))},odd:function(){return this.pushStack(r.grep(this,function(e,t){return t%2}))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:D,sort:h.sort,splice:h.splice},r.extend=r.fn.extend=function(){var e,t,n,i,o,a,f=arguments[0]||{},d=1,c=arguments.length,y=!1;for(typeof f=="boolean"&&(y=f,f=arguments[d]||{},d++),typeof f!="object"&&!H(f)&&(f={}),d===c&&(f=this,d--);d<c;d++)if((e=arguments[d])!=null)for(t in e)i=e[t],!(t==="__proto__"||f===i)&&(y&&i&&(r.isPlainObject(i)||(o=Array.isArray(i)))?(n=f[t],o&&!Array.isArray(n)?a=[]:!o&&!r.isPlainObject(n)?a={}:a=n,o=!1,f[t]=r.extend(y,a,i)):i!==void 0&&(f[t]=i));return f},r.extend({expando:"jQuery"+(Ht+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!e||W.call(e)!=="[object Object]"?!1:(t=p(e),t?(n=ee.call(t,"constructor")&&t.constructor,typeof n=="function"&&M.call(n)===G):!0)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){on(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,i=0;if(yt(e))for(n=e.length;i<n&&t.call(e[i],i,e[i])!==!1;i++);else for(i in e)if(t.call(e[i],i,e[i])===!1)break;return e},text:function(e){var t,n="",i=0,o=e.nodeType;if(!o)for(;t=e[i++];)n+=r.text(t);return o===1||o===11?e.textContent:o===9?e.documentElement.textContent:o===3||o===4?e.nodeValue:n},makeArray:function(e,t){var n=t||[];return e!=null&&(yt(Object(e))?r.merge(n,typeof e=="string"?[e]:e):D.call(n,e)),n},inArray:function(e,t,n){return t==null?-1:q.call(t,e,n)},isXMLDoc:function(e){var t=e&&e.namespaceURI,n=e&&(e.ownerDocument||e).documentElement;return!an.test(t||n&&n.nodeName||"HTML")},merge:function(e,t){for(var n=+t.length,i=0,o=e.length;i<n;i++)e[o++]=t[i];return e.length=o,e},grep:function(e,t,n){for(var i,o=[],a=0,f=e.length,d=!n;a<f;a++)i=!t(e[a],a),i!==d&&o.push(e[a]);return o},map:function(e,t,n){var i,o,a=0,f=[];if(yt(e))for(i=e.length;a<i;a++)o=t(e[a],a,n),o!=null&&f.push(o);else for(a in e)o=t(e[a],a,n),o!=null&&f.push(o);return k(f)},guid:1,support:I}),typeof Symbol=="function"&&(r.fn[Symbol.iterator]=h[Symbol.iterator]),r.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){$["[object "+t+"]"]=t.toLowerCase()});function yt(e){var t=!!e&&"length"in e&&e.length,n=Xe(e);return H(e)||Se(e)?!1:n==="array"||t===0||typeof t=="number"&&t>0&&t-1 in e}function ce(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var Dt=h.pop,un=h.sort,fn=h.splice,fe="[\\x20\\t\\r\\n\\f]",it=new RegExp("^"+fe+"+|((?:^|[^\\\\])(?:\\\\.)*)"+fe+"+$","g");r.contains=function(e,t){var n=t&&t.parentNode;return e===n||!!(n&&n.nodeType===1&&(e.contains?e.contains(n):e.compareDocumentPosition&&e.compareDocumentPosition(n)&16))};var ln=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function cn(e,t){return t?e==="\0"?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e}r.escapeSelector=function(e){return(e+"").replace(ln,cn)};var Oe=Y,Ft=D;(function(){var e,t,n,i,o,a=Ft,f,d,c,y,w,N=r.expando,_=0,P=0,J=Mn(),oe=Mn(),ne=Mn(),xe=Mn(),ve=function(l,g){return l===g&&(o=!0),0},Ue="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Qe="(?:\\\\[\\da-fA-F]{1,6}"+fe+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",se="\\["+fe+"*("+Qe+")(?:"+fe+"*([*^$|!~]?=)"+fe+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+Qe+"))|)"+fe+"*\\]",Tt=":("+Qe+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+se+")*)|.*)\\)|)",ae=new RegExp(fe+"+","g"),de=new RegExp("^"+fe+"*,"+fe+"*"),Zt=new RegExp("^"+fe+"*([>+~]|"+fe+")"+fe+"*"),di=new RegExp(fe+"|>"),ze=new RegExp(Tt),en=new RegExp("^"+Qe+"$"),Ge={ID:new RegExp("^#("+Qe+")"),CLASS:new RegExp("^\\.("+Qe+")"),TAG:new RegExp("^("+Qe+"|[*])"),ATTR:new RegExp("^"+se),PSEUDO:new RegExp("^"+Tt),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+fe+"*(even|odd|(([+-]|)(\\d*)n|)"+fe+"*(?:([+-]|)"+fe+"*(\\d+)|))"+fe+"*\\)|)","i"),bool:new RegExp("^(?:"+Ue+")$","i"),needsContext:new RegExp("^"+fe+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+fe+"*((?:-\\d)?\\d*)"+fe+"*\\)|)(?=[^-]|$)","i")},ct=/^(?:input|select|textarea|button)$/i,ht=/^h\d$/i,je=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,pi=/[+~]/,tt=new RegExp("\\\\[\\da-fA-F]{1,6}"+fe+"?|\\\\([^\\r\\n\\f])","g"),nt=function(l,g){var b="0x"+l.slice(1)-65536;return g||(b<0?String.fromCharCode(b+65536):String.fromCharCode(b>>10|55296,b&1023|56320))},mr=function(){dt()},br=jn(function(l){return l.disabled===!0&&ce(l,"fieldset")},{dir:"parentNode",next:"legend"});function _r(){try{return f.activeElement}catch{}}try{a.apply(h=v.call(Oe.childNodes),Oe.childNodes),h[Oe.childNodes.length].nodeType}catch{a={apply:function(g,b){Ft.apply(g,v.call(b))},call:function(g){Ft.apply(g,v.call(arguments,1))}}}function le(l,g,b,C){var A,O,j,B,R,ie,V,te=g&&g.ownerDocument,re=g?g.nodeType:9;if(b=b||[],typeof l!="string"||!l||re!==1&&re!==9&&re!==11)return b;if(!C&&(dt(g),g=g||f,c)){if(re!==11&&(R=je.exec(l)))if(A=R[1]){if(re===9)if(j=g.getElementById(A)){if(j.id===A)return a.call(b,j),b}else return b;else if(te&&(j=te.getElementById(A))&&le.contains(g,j)&&j.id===A)return a.call(b,j),b}else{if(R[2])return a.apply(b,g.getElementsByTagName(l)),b;if((A=R[3])&&g.getElementsByClassName)return a.apply(b,g.getElementsByClassName(A)),b}if(!xe[l+" "]&&(!y||!y.test(l))){if(V=l,te=g,re===1&&(di.test(l)||Zt.test(l))){for(te=pi.test(l)&&gi(g.parentNode)||g,(te!=g||!I.scope)&&((B=g.getAttribute("id"))?B=r.escapeSelector(B):g.setAttribute("id",B=N)),ie=tn(l),O=ie.length;O--;)ie[O]=(B?"#"+B:":scope")+" "+In(ie[O]);V=ie.join(",")}try{return a.apply(b,te.querySelectorAll(V)),b}catch{xe(l,!0)}finally{B===N&&g.removeAttribute("id")}}}return Ki(l.replace(it,"$1"),g,b,C)}function Mn(){var l=[];function g(b,C){return l.push(b+" ")>t.cacheLength&&delete g[l.shift()],g[b+" "]=C}return g}function We(l){return l[N]=!0,l}function Mt(l){var g=f.createElement("fieldset");try{return!!l(g)}catch{return!1}finally{g.parentNode&&g.parentNode.removeChild(g),g=null}}function xr(l){return function(g){return ce(g,"input")&&g.type===l}}function Cr(l){return function(g){return(ce(g,"input")||ce(g,"button"))&&g.type===l}}function Bi(l){return function(g){return"form"in g?g.parentNode&&g.disabled===!1?"label"in g?"label"in g.parentNode?g.parentNode.disabled===l:g.disabled===l:g.isDisabled===l||g.isDisabled!==!l&&br(g)===l:g.disabled===l:"label"in g?g.disabled===l:!1}}function wt(l){return We(function(g){return g=+g,We(function(b,C){for(var A,O=l([],b.length,g),j=O.length;j--;)b[A=O[j]]&&(b[A]=!(C[A]=b[A]))})})}function gi(l){return l&&typeof l.getElementsByTagName<"u"&&l}function dt(l){var g,b=l?l.ownerDocument||l:Oe;return b==f||b.nodeType!==9||!b.documentElement||(f=b,d=f.documentElement,c=!r.isXMLDoc(f),w=d.matches||d.webkitMatchesSelector||d.msMatchesSelector,d.msMatchesSelector&&Oe!=f&&(g=f.defaultView)&&g.top!==g&&g.addEventListener("unload",mr),I.getById=Mt(function(C){return d.appendChild(C).id=r.expando,!f.getElementsByName||!f.getElementsByName(r.expando).length}),I.disconnectedMatch=Mt(function(C){return w.call(C,"*")}),I.scope=Mt(function(){return f.querySelectorAll(":scope")}),I.cssHas=Mt(function(){try{return f.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),I.getById?(t.filter.ID=function(C){var A=C.replace(tt,nt);return function(O){return O.getAttribute("id")===A}},t.find.ID=function(C,A){if(typeof A.getElementById<"u"&&c){var O=A.getElementById(C);return O?[O]:[]}}):(t.filter.ID=function(C){var A=C.replace(tt,nt);return function(O){var j=typeof O.getAttributeNode<"u"&&O.getAttributeNode("id");return j&&j.value===A}},t.find.ID=function(C,A){if(typeof A.getElementById<"u"&&c){var O,j,B,R=A.getElementById(C);if(R){if(O=R.getAttributeNode("id"),O&&O.value===C)return[R];for(B=A.getElementsByName(C),j=0;R=B[j++];)if(O=R.getAttributeNode("id"),O&&O.value===C)return[R]}return[]}}),t.find.TAG=function(C,A){return typeof A.getElementsByTagName<"u"?A.getElementsByTagName(C):A.querySelectorAll(C)},t.find.CLASS=function(C,A){if(typeof A.getElementsByClassName<"u"&&c)return A.getElementsByClassName(C)},y=[],Mt(function(C){var A;d.appendChild(C).innerHTML="<a id='"+N+"' href='' disabled='disabled'></a><select id='"+N+"-\r\\' disabled='disabled'><option selected=''></option></select>",C.querySelectorAll("[selected]").length||y.push("\\["+fe+"*(?:value|"+Ue+")"),C.querySelectorAll("[id~="+N+"-]").length||y.push("~="),C.querySelectorAll("a#"+N+"+*").length||y.push(".#.+[+~]"),C.querySelectorAll(":checked").length||y.push(":checked"),A=f.createElement("input"),A.setAttribute("type","hidden"),C.appendChild(A).setAttribute("name","D"),d.appendChild(C).disabled=!0,C.querySelectorAll(":disabled").length!==2&&y.push(":enabled",":disabled"),A=f.createElement("input"),A.setAttribute("name",""),C.appendChild(A),C.querySelectorAll("[name='']").length||y.push("\\["+fe+"*name"+fe+"*="+fe+`*(?:''|"")`)}),I.cssHas||y.push(":has"),y=y.length&&new RegExp(y.join("|")),ve=function(C,A){if(C===A)return o=!0,0;var O=!C.compareDocumentPosition-!A.compareDocumentPosition;return O||(O=(C.ownerDocument||C)==(A.ownerDocument||A)?C.compareDocumentPosition(A):1,O&1||!I.sortDetached&&A.compareDocumentPosition(C)===O?C===f||C.ownerDocument==Oe&&le.contains(Oe,C)?-1:A===f||A.ownerDocument==Oe&&le.contains(Oe,A)?1:i?q.call(i,C)-q.call(i,A):0:O&4?-1:1)}),f}le.matches=function(l,g){return le(l,null,null,g)},le.matchesSelector=function(l,g){if(dt(l),c&&!xe[g+" "]&&(!y||!y.test(g)))try{var b=w.call(l,g);if(b||I.disconnectedMatch||l.document&&l.document.nodeType!==11)return b}catch{xe(g,!0)}return le(g,f,null,[l]).length>0},le.contains=function(l,g){return(l.ownerDocument||l)!=f&&dt(l),r.contains(l,g)},le.attr=function(l,g){(l.ownerDocument||l)!=f&&dt(l);var b=t.attrHandle[g.toLowerCase()],C=b&&ee.call(t.attrHandle,g.toLowerCase())?b(l,g,!c):void 0;return C!==void 0?C:l.getAttribute(g)},le.error=function(l){throw new Error("Syntax error, unrecognized expression: "+l)},r.uniqueSort=function(l){var g,b=[],C=0,A=0;if(o=!I.sortStable,i=!I.sortStable&&v.call(l,0),un.call(l,ve),o){for(;g=l[A++];)g===l[A]&&(C=b.push(A));for(;C--;)fn.call(l,b[C],1)}return i=null,l},r.fn.uniqueSort=function(){return this.pushStack(r.uniqueSort(v.apply(this)))},t=r.expr={cacheLength:50,createPseudo:We,match:Ge,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(l){return l[1]=l[1].replace(tt,nt),l[3]=(l[3]||l[4]||l[5]||"").replace(tt,nt),l[2]==="~="&&(l[3]=" "+l[3]+" "),l.slice(0,4)},CHILD:function(l){return l[1]=l[1].toLowerCase(),l[1].slice(0,3)==="nth"?(l[3]||le.error(l[0]),l[4]=+(l[4]?l[5]+(l[6]||1):2*(l[3]==="even"||l[3]==="odd")),l[5]=+(l[7]+l[8]||l[3]==="odd")):l[3]&&le.error(l[0]),l},PSEUDO:function(l){var g,b=!l[6]&&l[2];return Ge.CHILD.test(l[0])?null:(l[3]?l[2]=l[4]||l[5]||"":b&&ze.test(b)&&(g=tn(b,!0))&&(g=b.indexOf(")",b.length-g)-b.length)&&(l[0]=l[0].slice(0,g),l[2]=b.slice(0,g)),l.slice(0,3))}},filter:{TAG:function(l){var g=l.replace(tt,nt).toLowerCase();return l==="*"?function(){return!0}:function(b){return ce(b,g)}},CLASS:function(l){var g=J[l+" "];return g||(g=new RegExp("(^|"+fe+")"+l+"("+fe+"|$)"))&&J(l,function(b){return g.test(typeof b.className=="string"&&b.className||typeof b.getAttribute<"u"&&b.getAttribute("class")||"")})},ATTR:function(l,g,b){return function(C){var A=le.attr(C,l);return A==null?g==="!=":g?(A+="",g==="="?A===b:g==="!="?A!==b:g==="^="?b&&A.indexOf(b)===0:g==="*="?b&&A.indexOf(b)>-1:g==="$="?b&&A.slice(-b.length)===b:g==="~="?(" "+A.replace(ae," ")+" ").indexOf(b)>-1:g==="|="?A===b||A.slice(0,b.length+1)===b+"-":!1):!0}},CHILD:function(l,g,b,C,A){var O=l.slice(0,3)!=="nth",j=l.slice(-4)!=="last",B=g==="of-type";return C===1&&A===0?function(R){return!!R.parentNode}:function(R,ie,V){var te,re,z,he,Pe,we=O!==j?"nextSibling":"previousSibling",Re=R.parentNode,Ve=B&&R.nodeName.toLowerCase(),It=!V&&!B,Ne=!1;if(Re){if(O){for(;we;){for(z=R;z=z[we];)if(B?ce(z,Ve):z.nodeType===1)return!1;Pe=we=l==="only"&&!Pe&&"nextSibling"}return!0}if(Pe=[j?Re.firstChild:Re.lastChild],j&&It){for(re=Re[N]||(Re[N]={}),te=re[l]||[],he=te[0]===_&&te[1],Ne=he&&te[2],z=he&&Re.childNodes[he];z=++he&&z&&z[we]||(Ne=he=0)||Pe.pop();)if(z.nodeType===1&&++Ne&&z===R){re[l]=[_,he,Ne];break}}else if(It&&(re=R[N]||(R[N]={}),te=re[l]||[],he=te[0]===_&&te[1],Ne=he),Ne===!1)for(;(z=++he&&z&&z[we]||(Ne=he=0)||Pe.pop())&&!((B?ce(z,Ve):z.nodeType===1)&&++Ne&&(It&&(re=z[N]||(z[N]={}),re[l]=[_,Ne]),z===R)););return Ne-=A,Ne===C||Ne%C===0&&Ne/C>=0}}},PSEUDO:function(l,g){var b,C=t.pseudos[l]||t.setFilters[l.toLowerCase()]||le.error("unsupported pseudo: "+l);return C[N]?C(g):C.length>1?(b=[l,l,"",g],t.setFilters.hasOwnProperty(l.toLowerCase())?We(function(A,O){for(var j,B=C(A,g),R=B.length;R--;)j=q.call(A,B[R]),A[j]=!(O[j]=B[R])}):function(A){return C(A,0,b)}):C}},pseudos:{not:We(function(l){var g=[],b=[],C=bi(l.replace(it,"$1"));return C[N]?We(function(A,O,j,B){for(var R,ie=C(A,null,B,[]),V=A.length;V--;)(R=ie[V])&&(A[V]=!(O[V]=R))}):function(A,O,j){return g[0]=A,C(g,null,j,b),g[0]=null,!b.pop()}}),has:We(function(l){return function(g){return le(l,g).length>0}}),contains:We(function(l){return l=l.replace(tt,nt),function(g){return(g.textContent||r.text(g)).indexOf(l)>-1}}),lang:We(function(l){return en.test(l||"")||le.error("unsupported lang: "+l),l=l.replace(tt,nt).toLowerCase(),function(g){var b;do if(b=c?g.lang:g.getAttribute("xml:lang")||g.getAttribute("lang"))return b=b.toLowerCase(),b===l||b.indexOf(l+"-")===0;while((g=g.parentNode)&&g.nodeType===1);return!1}}),target:function(l){var g=s.location&&s.location.hash;return g&&g.slice(1)===l.id},root:function(l){return l===d},focus:function(l){return l===_r()&&f.hasFocus()&&!!(l.type||l.href||~l.tabIndex)},enabled:Bi(!1),disabled:Bi(!0),checked:function(l){return ce(l,"input")&&!!l.checked||ce(l,"option")&&!!l.selected},selected:function(l){return l.parentNode&&l.parentNode.selectedIndex,l.selected===!0},empty:function(l){for(l=l.firstChild;l;l=l.nextSibling)if(l.nodeType<6)return!1;return!0},parent:function(l){return!t.pseudos.empty(l)},header:function(l){return ht.test(l.nodeName)},input:function(l){return ct.test(l.nodeName)},button:function(l){return ce(l,"input")&&l.type==="button"||ce(l,"button")},text:function(l){var g;return ce(l,"input")&&l.type==="text"&&((g=l.getAttribute("type"))==null||g.toLowerCase()==="text")},first:wt(function(){return[0]}),last:wt(function(l,g){return[g-1]}),eq:wt(function(l,g,b){return[b<0?b+g:b]}),even:wt(function(l,g){for(var b=0;b<g;b+=2)l.push(b);return l}),odd:wt(function(l,g){for(var b=1;b<g;b+=2)l.push(b);return l}),lt:wt(function(l,g,b){var C;for(b<0?C=b+g:b>g?C=g:C=b;--C>=0;)l.push(C);return l}),gt:wt(function(l,g,b){for(var C=b<0?b+g:b;++C<g;)l.push(C);return l})}},t.pseudos.nth=t.pseudos.eq;for(e in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})t.pseudos[e]=xr(e);for(e in{submit:!0,reset:!0})t.pseudos[e]=Cr(e);function Wi(){}Wi.prototype=t.filters=t.pseudos,t.setFilters=new Wi;function tn(l,g){var b,C,A,O,j,B,R,ie=oe[l+" "];if(ie)return g?0:ie.slice(0);for(j=l,B=[],R=t.preFilter;j;){(!b||(C=de.exec(j)))&&(C&&(j=j.slice(C[0].length)||j),B.push(A=[])),b=!1,(C=Zt.exec(j))&&(b=C.shift(),A.push({value:b,type:C[0].replace(it," ")}),j=j.slice(b.length));for(O in t.filter)(C=Ge[O].exec(j))&&(!R[O]||(C=R[O](C)))&&(b=C.shift(),A.push({value:b,type:O,matches:C}),j=j.slice(b.length));if(!b)break}return g?j.length:j?le.error(l):oe(l,B).slice(0)}function In(l){for(var g=0,b=l.length,C="";g<b;g++)C+=l[g].value;return C}function jn(l,g,b){var C=g.dir,A=g.next,O=A||C,j=b&&O==="parentNode",B=P++;return g.first?function(R,ie,V){for(;R=R[C];)if(R.nodeType===1||j)return l(R,ie,V);return!1}:function(R,ie,V){var te,re,z=[_,B];if(V){for(;R=R[C];)if((R.nodeType===1||j)&&l(R,ie,V))return!0}else for(;R=R[C];)if(R.nodeType===1||j)if(re=R[N]||(R[N]={}),A&&ce(R,A))R=R[C]||R;else{if((te=re[O])&&te[0]===_&&te[1]===B)return z[2]=te[2];if(re[O]=z,z[2]=l(R,ie,V))return!0}return!1}}function vi(l){return l.length>1?function(g,b,C){for(var A=l.length;A--;)if(!l[A](g,b,C))return!1;return!0}:l[0]}function Sr(l,g,b){for(var C=0,A=g.length;C<A;C++)le(l,g[C],b);return b}function Rn(l,g,b,C,A){for(var O,j=[],B=0,R=l.length,ie=g!=null;B<R;B++)(O=l[B])&&(!b||b(O,C,A))&&(j.push(O),ie&&g.push(B));return j}function yi(l,g,b,C,A,O){return C&&!C[N]&&(C=yi(C)),A&&!A[N]&&(A=yi(A,O)),We(function(j,B,R,ie){var V,te,re,z,he=[],Pe=[],we=B.length,Re=j||Sr(g||"*",R.nodeType?[R]:R,[]),Ve=l&&(j||!g)?Rn(Re,he,l,R,ie):Re;if(b?(z=A||(j?l:we||C)?[]:B,b(Ve,z,R,ie)):z=Ve,C)for(V=Rn(z,Pe),C(V,[],R,ie),te=V.length;te--;)(re=V[te])&&(z[Pe[te]]=!(Ve[Pe[te]]=re));if(j){if(A||l){if(A){for(V=[],te=z.length;te--;)(re=z[te])&&V.push(Ve[te]=re);A(null,z=[],V,ie)}for(te=z.length;te--;)(re=z[te])&&(V=A?q.call(j,re):he[te])>-1&&(j[V]=!(B[V]=re))}}else z=Rn(z===B?z.splice(we,z.length):z),A?A(null,B,z,ie):a.apply(B,z)})}function mi(l){for(var g,b,C,A=l.length,O=t.relative[l[0].type],j=O||t.relative[" "],B=O?1:0,R=jn(function(te){return te===g},j,!0),ie=jn(function(te){return q.call(g,te)>-1},j,!0),V=[function(te,re,z){var he=!O&&(z||re!=n)||((g=re).nodeType?R(te,re,z):ie(te,re,z));return g=null,he}];B<A;B++)if(b=t.relative[l[B].type])V=[jn(vi(V),b)];else{if(b=t.filter[l[B].type].apply(null,l[B].matches),b[N]){for(C=++B;C<A&&!t.relative[l[C].type];C++);return yi(B>1&&vi(V),B>1&&In(l.slice(0,B-1).concat({value:l[B-2].type===" "?"*":""})).replace(it,"$1"),b,B<C&&mi(l.slice(B,C)),C<A&&mi(l=l.slice(C)),C<A&&In(l))}V.push(b)}return vi(V)}function Er(l,g){var b=g.length>0,C=l.length>0,A=function(O,j,B,R,ie){var V,te,re,z=0,he="0",Pe=O&&[],we=[],Re=n,Ve=O||C&&t.find.TAG("*",ie),It=_+=Re==null?1:Math.random()||.1,Ne=Ve.length;for(ie&&(n=j==f||j||ie);he!==Ne&&(V=Ve[he])!=null;he++){if(C&&V){for(te=0,!j&&V.ownerDocument!=f&&(dt(V),B=!c);re=l[te++];)if(re(V,j||f,B)){a.call(R,V);break}ie&&(_=It)}b&&((V=!re&&V)&&z--,O&&Pe.push(V))}if(z+=he,b&&he!==z){for(te=0;re=g[te++];)re(Pe,we,j,B);if(O){if(z>0)for(;he--;)Pe[he]||we[he]||(we[he]=Dt.call(R));we=Rn(we)}a.apply(R,we),ie&&!O&&we.length>0&&z+g.length>1&&r.uniqueSort(R)}return ie&&(_=It,n=Re),Pe};return b?We(A):A}function bi(l,g){var b,C=[],A=[],O=ne[l+" "];if(!O){for(g||(g=tn(l)),b=g.length;b--;)O=mi(g[b]),O[N]?C.push(O):A.push(O);O=ne(l,Er(A,C)),O.selector=l}return O}function Ki(l,g,b,C){var A,O,j,B,R,ie=typeof l=="function"&&l,V=!C&&tn(l=ie.selector||l);if(b=b||[],V.length===1){if(O=V[0]=V[0].slice(0),O.length>2&&(j=O[0]).type==="ID"&&g.nodeType===9&&c&&t.relative[O[1].type]){if(g=(t.find.ID(j.matches[0].replace(tt,nt),g)||[])[0],g)ie&&(g=g.parentNode);else return b;l=l.slice(O.shift().value.length)}for(A=Ge.needsContext.test(l)?0:O.length;A--&&(j=O[A],!t.relative[B=j.type]);)if((R=t.find[B])&&(C=R(j.matches[0].replace(tt,nt),pi.test(O[0].type)&&gi(g.parentNode)||g))){if(O.splice(A,1),l=C.length&&In(O),!l)return a.apply(b,C),b;break}}return(ie||bi(l,V))(C,g,!c,b,!g||pi.test(l)&&gi(g.parentNode)||g),b}I.sortStable=N.split("").sort(ve).join("")===N,dt(),I.sortDetached=Mt(function(l){return l.compareDocumentPosition(f.createElement("fieldset"))&1}),r.find=le,r.expr[":"]=r.expr.pseudos,r.unique=r.uniqueSort,le.compile=bi,le.select=Ki,le.setDocument=dt,le.tokenize=tn,le.escape=r.escapeSelector,le.getText=r.text,le.isXML=r.isXMLDoc,le.selectors=r.expr,le.support=r.support,le.uniqueSort=r.uniqueSort})();var rt=function(e,t,n){for(var i=[],o=n!==void 0;(e=e[t])&&e.nodeType!==9;)if(e.nodeType===1){if(o&&r(e).is(n))break;i.push(e)}return i},Bt=function(e,t){for(var n=[];e;e=e.nextSibling)e.nodeType===1&&e!==t&&n.push(e);return n},hn=r.expr.match.needsContext,dn=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function mt(e,t,n){return H(t)?r.grep(e,function(i,o){return!!t.call(i,o,i)!==n}):t.nodeType?r.grep(e,function(i){return i===t!==n}):typeof t!="string"?r.grep(e,function(i){return q.call(t,i)>-1!==n}):r.filter(t,e,n)}r.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),t.length===1&&i.nodeType===1?r.find.matchesSelector(i,e)?[i]:[]:r.find.matches(e,r.grep(t,function(o){return o.nodeType===1}))},r.fn.extend({find:function(e){var t,n,i=this.length,o=this;if(typeof e!="string")return this.pushStack(r(e).filter(function(){for(t=0;t<i;t++)if(r.contains(o[t],this))return!0}));for(n=this.pushStack([]),t=0;t<i;t++)r.find(e,o[t],n);return i>1?r.uniqueSort(n):n},filter:function(e){return this.pushStack(mt(this,e||[],!1))},not:function(e){return this.pushStack(mt(this,e||[],!0))},is:function(e){return!!mt(this,typeof e=="string"&&hn.test(e)?r(e):e||[],!1).length}});var pn,gn=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Qn=r.fn.init=function(e,t,n){var i,o;if(!e)return this;if(n=n||pn,typeof e=="string")if(e[0]==="<"&&e[e.length-1]===">"&&e.length>=3?i=[null,e,null]:i=gn.exec(e),i&&(i[1]||!t))if(i[1]){if(t=t instanceof r?t[0]:t,r.merge(this,r.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:Y,!0)),dn.test(i[1])&&r.isPlainObject(t))for(i in t)H(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}else return o=Y.getElementById(i[2]),o&&(this[0]=o,this.length=1),this;else return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);else{if(e.nodeType)return this[0]=e,this.length=1,this;if(H(e))return n.ready!==void 0?n.ready(e):e(r)}return r.makeArray(e,this)};Qn.prototype=r.fn,pn=r(Y);var Pt=/^(?:parents|prev(?:Until|All))/,zn={children:!0,contents:!0,next:!0,prev:!0};r.fn.extend({has:function(e){var t=r(e,this),n=t.length;return this.filter(function(){for(var i=0;i<n;i++)if(r.contains(this,t[i]))return!0})},closest:function(e,t){var n,i=0,o=this.length,a=[],f=typeof e!="string"&&r(e);if(!hn.test(e)){for(;i<o;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(f?f.index(n)>-1:n.nodeType===1&&r.find.matchesSelector(n,e))){a.push(n);break}}return this.pushStack(a.length>1?r.uniqueSort(a):a)},index:function(e){return e?typeof e=="string"?q.call(r(e),this[0]):q.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(r.uniqueSort(r.merge(this.get(),r(e,t))))},addBack:function(e){return this.add(e==null?this.prevObject:this.prevObject.filter(e))}});function Wt(e,t){for(;(e=e[t])&&e.nodeType!==1;);return e}r.each({parent:function(e){var t=e.parentNode;return t&&t.nodeType!==11?t:null},parents:function(e){return rt(e,"parentNode")},parentsUntil:function(e,t,n){return rt(e,"parentNode",n)},next:function(e){return Wt(e,"nextSibling")},prev:function(e){return Wt(e,"previousSibling")},nextAll:function(e){return rt(e,"nextSibling")},prevAll:function(e){return rt(e,"previousSibling")},nextUntil:function(e,t,n){return rt(e,"nextSibling",n)},prevUntil:function(e,t,n){return rt(e,"previousSibling",n)},siblings:function(e){return Bt((e.parentNode||{}).firstChild,e)},children:function(e){return Bt(e.firstChild)},contents:function(e){return e.contentDocument!=null&&p(e.contentDocument)?e.contentDocument:(ce(e,"template")&&(e=e.content||e),r.merge([],e.childNodes))}},function(e,t){r.fn[e]=function(n,i){var o=r.map(this,t,n);return e.slice(-5)!=="Until"&&(i=n),i&&typeof i=="string"&&(o=r.filter(i,o)),this.length>1&&(zn[e]||r.uniqueSort(o),Pt.test(e)&&o.reverse()),this.pushStack(o)}});var Le=/[^\x20\t\r\n\f]+/g;function Gn(e){var t={};return r.each(e.match(Le)||[],function(n,i){t[i]=!0}),t}r.Callbacks=function(e){e=typeof e=="string"?Gn(e):r.extend({},e);var t,n,i,o,a=[],f=[],d=-1,c=function(){for(o=o||e.once,i=t=!0;f.length;d=-1)for(n=f.shift();++d<a.length;)a[d].apply(n[0],n[1])===!1&&e.stopOnFalse&&(d=a.length,n=!1);e.memory||(n=!1),t=!1,o&&(n?a=[]:a="")},y={add:function(){return a&&(n&&!t&&(d=a.length-1,f.push(n)),function w(N){r.each(N,function(_,P){H(P)?(!e.unique||!y.has(P))&&a.push(P):P&&P.length&&Xe(P)!=="string"&&w(P)})}(arguments),n&&!t&&c()),this},remove:function(){return r.each(arguments,function(w,N){for(var _;(_=r.inArray(N,a,_))>-1;)a.splice(_,1),_<=d&&d--}),this},has:function(w){return w?r.inArray(w,a)>-1:a.length>0},empty:function(){return a&&(a=[]),this},disable:function(){return o=f=[],a=n="",this},disabled:function(){return!a},lock:function(){return o=f=[],!n&&!t&&(a=n=""),this},locked:function(){return!!o},fireWith:function(w,N){return o||(N=N||[],N=[w,N.slice?N.slice():N],f.push(N),t||c()),this},fire:function(){return y.fireWith(this,arguments),this},fired:function(){return!!i}};return y};function st(e){return e}function qt(e){throw e}function vn(e,t,n,i){var o;try{e&&H(o=e.promise)?o.call(e).done(t).fail(n):e&&H(o=e.then)?o.call(e,t,n):t.apply(void 0,[e].slice(i))}catch(a){n.apply(void 0,[a])}}r.extend({Deferred:function(e){var t=[["notify","progress",r.Callbacks("memory"),r.Callbacks("memory"),2],["resolve","done",r.Callbacks("once memory"),r.Callbacks("once memory"),0,"resolved"],["reject","fail",r.Callbacks("once memory"),r.Callbacks("once memory"),1,"rejected"]],n="pending",i={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},catch:function(a){return i.then(null,a)},pipe:function(){var a=arguments;return r.Deferred(function(f){r.each(t,function(d,c){var y=H(a[c[4]])&&a[c[4]];o[c[1]](function(){var w=y&&y.apply(this,arguments);w&&H(w.promise)?w.promise().progress(f.notify).done(f.resolve).fail(f.reject):f[c[0]+"With"](this,y?[w]:arguments)})}),a=null}).promise()},then:function(a,f,d){var c=0;function y(w,N,_,P){return function(){var J=this,oe=arguments,ne=function(){var ve,Ue;if(!(w<c)){if(ve=_.apply(J,oe),ve===N.promise())throw new TypeError("Thenable self-resolution");Ue=ve&&(typeof ve=="object"||typeof ve=="function")&&ve.then,H(Ue)?P?Ue.call(ve,y(c,N,st,P),y(c,N,qt,P)):(c++,Ue.call(ve,y(c,N,st,P),y(c,N,qt,P),y(c,N,st,N.notifyWith))):(_!==st&&(J=void 0,oe=[ve]),(P||N.resolveWith)(J,oe))}},xe=P?ne:function(){try{ne()}catch(ve){r.Deferred.exceptionHook&&r.Deferred.exceptionHook(ve,xe.error),w+1>=c&&(_!==qt&&(J=void 0,oe=[ve]),N.rejectWith(J,oe))}};w?xe():(r.Deferred.getErrorHook?xe.error=r.Deferred.getErrorHook():r.Deferred.getStackHook&&(xe.error=r.Deferred.getStackHook()),s.setTimeout(xe))}}return r.Deferred(function(w){t[0][3].add(y(0,w,H(d)?d:st,w.notifyWith)),t[1][3].add(y(0,w,H(a)?a:st)),t[2][3].add(y(0,w,H(f)?f:qt))}).promise()},promise:function(a){return a!=null?r.extend(a,i):i}},o={};return r.each(t,function(a,f){var d=f[2],c=f[5];i[f[1]]=d.add,c&&d.add(function(){n=c},t[3-a][2].disable,t[3-a][3].disable,t[0][2].lock,t[0][3].lock),d.add(f[3].fire),o[f[0]]=function(){return o[f[0]+"With"](this===o?void 0:this,arguments),this},o[f[0]+"With"]=d.fireWith}),i.promise(o),e&&e.call(o,o),o},when:function(e){var t=arguments.length,n=t,i=Array(n),o=v.call(arguments),a=r.Deferred(),f=function(d){return function(c){i[d]=this,o[d]=arguments.length>1?v.call(arguments):c,--t||a.resolveWith(i,o)}};if(t<=1&&(vn(e,a.done(f(n)).resolve,a.reject,!t),a.state()==="pending"||H(o[n]&&o[n].then)))return a.then();for(;n--;)vn(o[n],f(n),a.reject);return a.promise()}});var yn=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;r.Deferred.exceptionHook=function(e,t){s.console&&s.console.warn&&e&&yn.test(e.name)&&s.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},r.readyException=function(e){s.setTimeout(function(){throw e})};var Kt=r.Deferred();r.fn.ready=function(e){return Kt.then(e).catch(function(t){r.readyException(t)}),this},r.extend({isReady:!1,readyWait:1,ready:function(e){(e===!0?--r.readyWait:r.isReady)||(r.isReady=!0,!(e!==!0&&--r.readyWait>0)&&Kt.resolveWith(Y,[r]))}}),r.ready.then=Kt.then;function Ot(){Y.removeEventListener("DOMContentLoaded",Ot),s.removeEventListener("load",Ot),r.ready()}Y.readyState==="complete"||Y.readyState!=="loading"&&!Y.documentElement.doScroll?s.setTimeout(r.ready):(Y.addEventListener("DOMContentLoaded",Ot),s.addEventListener("load",Ot));var $e=function(e,t,n,i,o,a,f){var d=0,c=e.length,y=n==null;if(Xe(n)==="object"){o=!0;for(d in n)$e(e,t,d,n[d],!0,a,f)}else if(i!==void 0&&(o=!0,H(i)||(f=!0),y&&(f?(t.call(e,i),t=null):(y=t,t=function(w,N,_){return y.call(r(w),_)})),t))for(;d<c;d++)t(e[d],n,f?i:i.call(e[d],d,t(e[d],n)));return o?e:y?t.call(e):c?t(e[0],n):a},Vn=/^-ms-/,Xn=/-([a-z])/g;function Yn(e,t){return t.toUpperCase()}function Me(e){return e.replace(Vn,"ms-").replace(Xn,Yn)}var ot=function(e){return e.nodeType===1||e.nodeType===9||!+e.nodeType};function bt(){this.expando=r.expando+bt.uid++}bt.uid=1,bt.prototype={cache:function(e){var t=e[this.expando];return t||(t={},ot(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var i,o=this.cache(e);if(typeof t=="string")o[Me(t)]=n;else for(i in t)o[Me(i)]=t[i];return o},get:function(e,t){return t===void 0?this.cache(e):e[this.expando]&&e[this.expando][Me(t)]},access:function(e,t,n){return t===void 0||t&&typeof t=="string"&&n===void 0?this.get(e,t):(this.set(e,t,n),n!==void 0?n:t)},remove:function(e,t){var n,i=e[this.expando];if(i!==void 0){if(t!==void 0)for(Array.isArray(t)?t=t.map(Me):(t=Me(t),t=t in i?[t]:t.match(Le)||[]),n=t.length;n--;)delete i[t[n]];(t===void 0||r.isEmptyObject(i))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return t!==void 0&&!r.isEmptyObject(t)}};var K=new bt,Ee=new bt,mn=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Jn=/[A-Z]/g;function Zn(e){return e==="true"?!0:e==="false"?!1:e==="null"?null:e===+e+""?+e:mn.test(e)?JSON.parse(e):e}function bn(e,t,n){var i;if(n===void 0&&e.nodeType===1)if(i="data-"+t.replace(Jn,"-$&").toLowerCase(),n=e.getAttribute(i),typeof n=="string"){try{n=Zn(n)}catch{}Ee.set(e,t,n)}else n=void 0;return n}r.extend({hasData:function(e){return Ee.hasData(e)||K.hasData(e)},data:function(e,t,n){return Ee.access(e,t,n)},removeData:function(e,t){Ee.remove(e,t)},_data:function(e,t,n){return K.access(e,t,n)},_removeData:function(e,t){K.remove(e,t)}}),r.fn.extend({data:function(e,t){var n,i,o,a=this[0],f=a&&a.attributes;if(e===void 0){if(this.length&&(o=Ee.get(a),a.nodeType===1&&!K.get(a,"hasDataAttrs"))){for(n=f.length;n--;)f[n]&&(i=f[n].name,i.indexOf("data-")===0&&(i=Me(i.slice(5)),bn(a,i,o[i])));K.set(a,"hasDataAttrs",!0)}return o}return typeof e=="object"?this.each(function(){Ee.set(this,e)}):$e(this,function(d){var c;if(a&&d===void 0)return c=Ee.get(a,e),c!==void 0||(c=bn(a,e),c!==void 0)?c:void 0;this.each(function(){Ee.set(this,e,d)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){Ee.remove(this,e)})}}),r.extend({queue:function(e,t,n){var i;if(e)return t=(t||"fx")+"queue",i=K.get(e,t),n&&(!i||Array.isArray(n)?i=K.access(e,t,r.makeArray(n)):i.push(n)),i||[]},dequeue:function(e,t){t=t||"fx";var n=r.queue(e,t),i=n.length,o=n.shift(),a=r._queueHooks(e,t),f=function(){r.dequeue(e,t)};o==="inprogress"&&(o=n.shift(),i--),o&&(t==="fx"&&n.unshift("inprogress"),delete a.stop,o.call(e,f,a)),!i&&a&&a.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return K.get(e,n)||K.access(e,n,{empty:r.Callbacks("once memory").add(function(){K.remove(e,[t+"queue",n])})})}}),r.fn.extend({queue:function(e,t){var n=2;return typeof e!="string"&&(t=e,e="fx",n--),arguments.length<n?r.queue(this[0],e):t===void 0?this:this.each(function(){var i=r.queue(this,e,t);r._queueHooks(this,e),e==="fx"&&i[0]!=="inprogress"&&r.dequeue(this,e)})},dequeue:function(e){return this.each(function(){r.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,o=r.Deferred(),a=this,f=this.length,d=function(){--i||o.resolveWith(a,[a])};for(typeof e!="string"&&(t=e,e=void 0),e=e||"fx";f--;)n=K.get(a[f],e+"queueHooks"),n&&n.empty&&(i++,n.empty.add(d));return d(),o.promise(t)}});var _n=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,_t=new RegExp("^(?:([+-])=|)("+_n+")([a-z%]*)$","i"),He=["Top","Right","Bottom","Left"],Ye=Y.documentElement,at=function(e){return r.contains(e.ownerDocument,e)},ei={composed:!0};Ye.getRootNode&&(at=function(e){return r.contains(e.ownerDocument,e)||e.getRootNode(ei)===e.ownerDocument});var xt=function(e,t){return e=t||e,e.style.display==="none"||e.style.display===""&&at(e)&&r.css(e,"display")==="none"};function xn(e,t,n,i){var o,a,f=20,d=i?function(){return i.cur()}:function(){return r.css(e,t,"")},c=d(),y=n&&n[3]||(r.cssNumber[t]?"":"px"),w=e.nodeType&&(r.cssNumber[t]||y!=="px"&&+c)&&_t.exec(r.css(e,t));if(w&&w[3]!==y){for(c=c/2,y=y||w[3],w=+c||1;f--;)r.style(e,t,w+y),(1-a)*(1-(a=d()/c||.5))<=0&&(f=0),w=w/a;w=w*2,r.style(e,t,w+y),n=n||[]}return n&&(w=+w||+c||0,o=n[1]?w+(n[1]+1)*n[2]:+n[2],i&&(i.unit=y,i.start=w,i.end=o)),o}var Cn={};function ti(e){var t,n=e.ownerDocument,i=e.nodeName,o=Cn[i];return o||(t=n.body.appendChild(n.createElement(i)),o=r.css(t,"display"),t.parentNode.removeChild(t),o==="none"&&(o="block"),Cn[i]=o,o)}function ut(e,t){for(var n,i,o=[],a=0,f=e.length;a<f;a++)i=e[a],i.style&&(n=i.style.display,t?(n==="none"&&(o[a]=K.get(i,"display")||null,o[a]||(i.style.display="")),i.style.display===""&&xt(i)&&(o[a]=ti(i))):n!=="none"&&(o[a]="none",K.set(i,"display",n)));for(a=0;a<f;a++)o[a]!=null&&(e[a].style.display=o[a]);return e}r.fn.extend({show:function(){return ut(this,!0)},hide:function(){return ut(this)},toggle:function(e){return typeof e=="boolean"?e?this.show():this.hide():this.each(function(){xt(this)?r(this).show():r(this).hide()})}});var Ct=/^(?:checkbox|radio)$/i,Sn=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,En=/^$|^module$|\/(?:java|ecma)script/i;(function(){var e=Y.createDocumentFragment(),t=e.appendChild(Y.createElement("div")),n=Y.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),I.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",I.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,t.innerHTML="<option></option>",I.option=!!t.lastChild})();var De={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};De.tbody=De.tfoot=De.colgroup=De.caption=De.thead,De.th=De.td,I.option||(De.optgroup=De.option=[1,"<select multiple='multiple'>","</select>"]);function Te(e,t){var n;return typeof e.getElementsByTagName<"u"?n=e.getElementsByTagName(t||"*"):typeof e.querySelectorAll<"u"?n=e.querySelectorAll(t||"*"):n=[],t===void 0||t&&ce(e,t)?r.merge([e],n):n}function Ut(e,t){for(var n=0,i=e.length;n<i;n++)K.set(e[n],"globalEval",!t||K.get(t[n],"globalEval"))}var ni=/<|&#?\w+;/;function S(e,t,n,i,o){for(var a,f,d,c,y,w,N=t.createDocumentFragment(),_=[],P=0,J=e.length;P<J;P++)if(a=e[P],a||a===0)if(Xe(a)==="object")r.merge(_,a.nodeType?[a]:a);else if(!ni.test(a))_.push(t.createTextNode(a));else{for(f=f||N.appendChild(t.createElement("div")),d=(Sn.exec(a)||["",""])[1].toLowerCase(),c=De[d]||De._default,f.innerHTML=c[1]+r.htmlPrefilter(a)+c[2],w=c[0];w--;)f=f.lastChild;r.merge(_,f.childNodes),f=N.firstChild,f.textContent=""}for(N.textContent="",P=0;a=_[P++];){if(i&&r.inArray(a,i)>-1){o&&o.push(a);continue}if(y=at(a),f=Te(N.appendChild(a),"script"),y&&Ut(f),n)for(w=0;a=f[w++];)En.test(a.type||"")&&n.push(a)}return N}var Je=/^([^.]*)(?:\.(.+)|)/;function me(){return!0}function Fe(){return!1}function L(e,t,n,i,o,a){var f,d;if(typeof t=="object"){typeof n!="string"&&(i=i||n,n=void 0);for(d in t)L(e,d,n,i,t[d],a);return e}if(i==null&&o==null?(o=n,i=n=void 0):o==null&&(typeof n=="string"?(o=i,i=void 0):(o=i,i=n,n=void 0)),o===!1)o=Fe;else if(!o)return e;return a===1&&(f=o,o=function(c){return r().off(c),f.apply(this,arguments)},o.guid=f.guid||(f.guid=r.guid++)),e.each(function(){r.event.add(this,t,o,i,n)})}r.event={global:{},add:function(e,t,n,i,o){var a,f,d,c,y,w,N,_,P,J,oe,ne=K.get(e);if(ot(e))for(n.handler&&(a=n,n=a.handler,o=a.selector),o&&r.find.matchesSelector(Ye,o),n.guid||(n.guid=r.guid++),(c=ne.events)||(c=ne.events=Object.create(null)),(f=ne.handle)||(f=ne.handle=function(xe){return typeof r<"u"&&r.event.triggered!==xe.type?r.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(Le)||[""],y=t.length;y--;)d=Je.exec(t[y])||[],P=oe=d[1],J=(d[2]||"").split(".").sort(),P&&(N=r.event.special[P]||{},P=(o?N.delegateType:N.bindType)||P,N=r.event.special[P]||{},w=r.extend({type:P,origType:oe,data:i,handler:n,guid:n.guid,selector:o,needsContext:o&&r.expr.match.needsContext.test(o),namespace:J.join(".")},a),(_=c[P])||(_=c[P]=[],_.delegateCount=0,(!N.setup||N.setup.call(e,i,J,f)===!1)&&e.addEventListener&&e.addEventListener(P,f)),N.add&&(N.add.call(e,w),w.handler.guid||(w.handler.guid=n.guid)),o?_.splice(_.delegateCount++,0,w):_.push(w),r.event.global[P]=!0)},remove:function(e,t,n,i,o){var a,f,d,c,y,w,N,_,P,J,oe,ne=K.hasData(e)&&K.get(e);if(!(!ne||!(c=ne.events))){for(t=(t||"").match(Le)||[""],y=t.length;y--;){if(d=Je.exec(t[y])||[],P=oe=d[1],J=(d[2]||"").split(".").sort(),!P){for(P in c)r.event.remove(e,P+t[y],n,i,!0);continue}for(N=r.event.special[P]||{},P=(i?N.delegateType:N.bindType)||P,_=c[P]||[],d=d[2]&&new RegExp("(^|\\.)"+J.join("\\.(?:.*\\.|)")+"(\\.|$)"),f=a=_.length;a--;)w=_[a],(o||oe===w.origType)&&(!n||n.guid===w.guid)&&(!d||d.test(w.namespace))&&(!i||i===w.selector||i==="**"&&w.selector)&&(_.splice(a,1),w.selector&&_.delegateCount--,N.remove&&N.remove.call(e,w));f&&!_.length&&((!N.teardown||N.teardown.call(e,J,ne.handle)===!1)&&r.removeEvent(e,P,ne.handle),delete c[P])}r.isEmptyObject(c)&&K.remove(e,"handle events")}},dispatch:function(e){var t,n,i,o,a,f,d=new Array(arguments.length),c=r.event.fix(e),y=(K.get(this,"events")||Object.create(null))[c.type]||[],w=r.event.special[c.type]||{};for(d[0]=c,t=1;t<arguments.length;t++)d[t]=arguments[t];if(c.delegateTarget=this,!(w.preDispatch&&w.preDispatch.call(this,c)===!1)){for(f=r.event.handlers.call(this,c,y),t=0;(o=f[t++])&&!c.isPropagationStopped();)for(c.currentTarget=o.elem,n=0;(a=o.handlers[n++])&&!c.isImmediatePropagationStopped();)(!c.rnamespace||a.namespace===!1||c.rnamespace.test(a.namespace))&&(c.handleObj=a,c.data=a.data,i=((r.event.special[a.origType]||{}).handle||a.handler).apply(o.elem,d),i!==void 0&&(c.result=i)===!1&&(c.preventDefault(),c.stopPropagation()));return w.postDispatch&&w.postDispatch.call(this,c),c.result}},handlers:function(e,t){var n,i,o,a,f,d=[],c=t.delegateCount,y=e.target;if(c&&y.nodeType&&!(e.type==="click"&&e.button>=1)){for(;y!==this;y=y.parentNode||this)if(y.nodeType===1&&!(e.type==="click"&&y.disabled===!0)){for(a=[],f={},n=0;n<c;n++)i=t[n],o=i.selector+" ",f[o]===void 0&&(f[o]=i.needsContext?r(o,this).index(y)>-1:r.find(o,this,null,[y]).length),f[o]&&a.push(i);a.length&&d.push({elem:y,handlers:a})}}return y=this,c<t.length&&d.push({elem:y,handlers:t.slice(c)}),d},addProp:function(e,t){Object.defineProperty(r.Event.prototype,e,{enumerable:!0,configurable:!0,get:H(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(n){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:n})}})},fix:function(e){return e[r.expando]?e:new r.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return Ct.test(t.type)&&t.click&&ce(t,"input")&&Ke(t,"click",!0),!1},trigger:function(e){var t=this||e;return Ct.test(t.type)&&t.click&&ce(t,"input")&&Ke(t,"click"),!0},_default:function(e){var t=e.target;return Ct.test(t.type)&&t.click&&ce(t,"input")&&K.get(t,"click")||ce(t,"a")}},beforeunload:{postDispatch:function(e){e.result!==void 0&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}};function Ke(e,t,n){if(!n){K.get(e,t)===void 0&&r.event.add(e,t,me);return}K.set(e,t,!1),r.event.add(e,t,{namespace:!1,handler:function(i){var o,a=K.get(this,t);if(i.isTrigger&1&&this[t]){if(a)(r.event.special[t]||{}).delegateType&&i.stopPropagation();else if(a=v.call(arguments),K.set(this,t,a),this[t](),o=K.get(this,t),K.set(this,t,!1),a!==o)return i.stopImmediatePropagation(),i.preventDefault(),o}else a&&(K.set(this,t,r.event.trigger(a[0],a.slice(1),this)),i.stopPropagation(),i.isImmediatePropagationStopped=me)}})}r.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},r.Event=function(e,t){if(!(this instanceof r.Event))return new r.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.defaultPrevented===void 0&&e.returnValue===!1?me:Fe,this.target=e.target&&e.target.nodeType===3?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&r.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[r.expando]=!0},r.Event.prototype={constructor:r.Event,isDefaultPrevented:Fe,isPropagationStopped:Fe,isImmediatePropagationStopped:Fe,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=me,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=me,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=me,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},r.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},r.event.addProp),r.each({focus:"focusin",blur:"focusout"},function(e,t){function n(i){if(Y.documentMode){var o=K.get(this,"handle"),a=r.event.fix(i);a.type=i.type==="focusin"?"focus":"blur",a.isSimulated=!0,o(i),a.target===a.currentTarget&&o(a)}else r.event.simulate(t,i.target,r.event.fix(i))}r.event.special[e]={setup:function(){var i;if(Ke(this,e,!0),Y.documentMode)i=K.get(this,t),i||this.addEventListener(t,n),K.set(this,t,(i||0)+1);else return!1},trigger:function(){return Ke(this,e),!0},teardown:function(){var i;if(Y.documentMode)i=K.get(this,t)-1,i?K.set(this,t,i):(this.removeEventListener(t,n),K.remove(this,t));else return!1},_default:function(i){return K.get(i.target,e)},delegateType:t},r.event.special[t]={setup:function(){var i=this.ownerDocument||this.document||this,o=Y.documentMode?this:i,a=K.get(o,t);a||(Y.documentMode?this.addEventListener(t,n):i.addEventListener(e,n,!0)),K.set(o,t,(a||0)+1)},teardown:function(){var i=this.ownerDocument||this.document||this,o=Y.documentMode?this:i,a=K.get(o,t)-1;a?K.set(o,t,a):(Y.documentMode?this.removeEventListener(t,n):i.removeEventListener(e,n,!0),K.remove(o,t))}}}),r.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){r.event.special[e]={delegateType:t,bindType:t,handle:function(n){var i,o=this,a=n.relatedTarget,f=n.handleObj;return(!a||a!==o&&!r.contains(o,a))&&(n.type=f.origType,i=f.handler.apply(this,arguments),n.type=t),i}}}),r.fn.extend({on:function(e,t,n,i){return L(this,e,t,n,i)},one:function(e,t,n,i){return L(this,e,t,n,i,1)},off:function(e,t,n){var i,o;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,r(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if(typeof e=="object"){for(o in e)this.off(o,t,e[o]);return this}return(t===!1||typeof t=="function")&&(n=t,t=void 0),n===!1&&(n=Fe),this.each(function(){r.event.remove(this,e,n,t)})}});var pe=/<script|<style|<link/i,Ie=/checked\s*(?:[^=]|=\s*.checked.)/i,ii=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Ae(e,t){return ce(e,"table")&&ce(t.nodeType!==11?t:t.firstChild,"tr")&&r(e).children("tbody")[0]||e}function Tn(e){return e.type=(e.getAttribute("type")!==null)+"/"+e.type,e}function wn(e){return(e.type||"").slice(0,5)==="true/"?e.type=e.type.slice(5):e.removeAttribute("type"),e}function U(e,t){var n,i,o,a,f,d,c;if(t.nodeType===1){if(K.hasData(e)&&(a=K.get(e),c=a.events,c)){K.remove(t,"handle events");for(o in c)for(n=0,i=c[o].length;n<i;n++)r.event.add(t,o,c[o][n])}Ee.hasData(e)&&(f=Ee.access(e),d=r.extend({},f),Ee.set(t,d))}}function ri(e,t){var n=t.nodeName.toLowerCase();n==="input"&&Ct.test(e.type)?t.checked=e.checked:(n==="input"||n==="textarea")&&(t.defaultValue=e.defaultValue)}function Ze(e,t,n,i){t=k(t);var o,a,f,d,c,y,w=0,N=e.length,_=N-1,P=t[0],J=H(P);if(J||N>1&&typeof P=="string"&&!I.checkClone&&Ie.test(P))return e.each(function(oe){var ne=e.eq(oe);J&&(t[0]=P.call(this,oe,ne.html())),Ze(ne,t,n,i)});if(N&&(o=S(t,e[0].ownerDocument,!1,e,i),a=o.firstChild,o.childNodes.length===1&&(o=a),a||i)){for(f=r.map(Te(o,"script"),Tn),d=f.length;w<N;w++)c=o,w!==_&&(c=r.clone(c,!0,!0),d&&r.merge(f,Te(c,"script"))),n.call(e[w],c,w);if(d)for(y=f[f.length-1].ownerDocument,r.map(f,wn),w=0;w<d;w++)c=f[w],En.test(c.type||"")&&!K.access(c,"globalEval")&&r.contains(y,c)&&(c.src&&(c.type||"").toLowerCase()!=="module"?r._evalUrl&&!c.noModule&&r._evalUrl(c.src,{nonce:c.nonce||c.getAttribute("nonce")},y):on(c.textContent.replace(ii,""),c,y))}return e}function kn(e,t,n){for(var i,o=t?r.filter(t,e):e,a=0;(i=o[a])!=null;a++)!n&&i.nodeType===1&&r.cleanData(Te(i)),i.parentNode&&(n&&at(i)&&Ut(Te(i,"script")),i.parentNode.removeChild(i));return e}r.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var i,o,a,f,d=e.cloneNode(!0),c=at(e);if(!I.noCloneChecked&&(e.nodeType===1||e.nodeType===11)&&!r.isXMLDoc(e))for(f=Te(d),a=Te(e),i=0,o=a.length;i<o;i++)ri(a[i],f[i]);if(t)if(n)for(a=a||Te(e),f=f||Te(d),i=0,o=a.length;i<o;i++)U(a[i],f[i]);else U(e,d);return f=Te(d,"script"),f.length>0&&Ut(f,!c&&Te(e,"script")),d},cleanData:function(e){for(var t,n,i,o=r.event.special,a=0;(n=e[a])!==void 0;a++)if(ot(n)){if(t=n[K.expando]){if(t.events)for(i in t.events)o[i]?r.event.remove(n,i):r.removeEvent(n,i,t.handle);n[K.expando]=void 0}n[Ee.expando]&&(n[Ee.expando]=void 0)}}}),r.fn.extend({detach:function(e){return kn(this,e,!0)},remove:function(e){return kn(this,e)},text:function(e){return $e(this,function(t){return t===void 0?r.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=t)})},null,e,arguments.length)},append:function(){return Ze(this,arguments,function(e){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var t=Ae(this,e);t.appendChild(e)}})},prepend:function(){return Ze(this,arguments,function(e){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var t=Ae(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return Ze(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return Ze(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;(e=this[t])!=null;t++)e.nodeType===1&&(r.cleanData(Te(e,!1)),e.textContent="");return this},clone:function(e,t){return e=e??!1,t=t??e,this.map(function(){return r.clone(this,e,t)})},html:function(e){return $e(this,function(t){var n=this[0]||{},i=0,o=this.length;if(t===void 0&&n.nodeType===1)return n.innerHTML;if(typeof t=="string"&&!pe.test(t)&&!De[(Sn.exec(t)||["",""])[1].toLowerCase()]){t=r.htmlPrefilter(t);try{for(;i<o;i++)n=this[i]||{},n.nodeType===1&&(r.cleanData(Te(n,!1)),n.innerHTML=t);n=0}catch{}}n&&this.empty().append(t)},null,e,arguments.length)},replaceWith:function(){var e=[];return Ze(this,arguments,function(t){var n=this.parentNode;r.inArray(this,e)<0&&(r.cleanData(Te(this)),n&&n.replaceChild(t,this))},e)}}),r.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){r.fn[e]=function(n){for(var i,o=[],a=r(n),f=a.length-1,d=0;d<=f;d++)i=d===f?this:this.clone(!0),r(a[d])[t](i),D.apply(o,i.get());return this.pushStack(o)}});var Lt=new RegExp("^("+_n+")(?!px)[a-z%]+$","i"),Qt=/^--/,$t=function(e){var t=e.ownerDocument.defaultView;return(!t||!t.opener)&&(t=s),t.getComputedStyle(e)},An=function(e,t,n){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];i=n.call(e);for(o in t)e.style[o]=a[o];return i},Nn=new RegExp(He.join("|"),"i");(function(){function e(){if(y){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",y.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Ye.appendChild(c).appendChild(y);var w=s.getComputedStyle(y);n=w.top!=="1%",d=t(w.marginLeft)===12,y.style.right="60%",a=t(w.right)===36,i=t(w.width)===36,y.style.position="absolute",o=t(y.offsetWidth/3)===12,Ye.removeChild(c),y=null}}function t(w){return Math.round(parseFloat(w))}var n,i,o,a,f,d,c=Y.createElement("div"),y=Y.createElement("div");y.style&&(y.style.backgroundClip="content-box",y.cloneNode(!0).style.backgroundClip="",I.clearCloneStyle=y.style.backgroundClip==="content-box",r.extend(I,{boxSizingReliable:function(){return e(),i},pixelBoxStyles:function(){return e(),a},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),d},scrollboxSize:function(){return e(),o},reliableTrDimensions:function(){var w,N,_,P;return f==null&&(w=Y.createElement("table"),N=Y.createElement("tr"),_=Y.createElement("div"),w.style.cssText="position:absolute;left:-11111px;border-collapse:separate",N.style.cssText="box-sizing:content-box;border:1px solid",N.style.height="1px",_.style.height="9px",_.style.display="block",Ye.appendChild(w).appendChild(N).appendChild(_),P=s.getComputedStyle(N),f=parseInt(P.height,10)+parseInt(P.borderTopWidth,10)+parseInt(P.borderBottomWidth,10)===N.offsetHeight,Ye.removeChild(w)),f}}))})();function ft(e,t,n){var i,o,a,f,d=Qt.test(t),c=e.style;return n=n||$t(e),n&&(f=n.getPropertyValue(t)||n[t],d&&f&&(f=f.replace(it,"$1")||void 0),f===""&&!at(e)&&(f=r.style(e,t)),!I.pixelBoxStyles()&&Lt.test(f)&&Nn.test(t)&&(i=c.width,o=c.minWidth,a=c.maxWidth,c.minWidth=c.maxWidth=c.width=f,f=n.width,c.width=i,c.minWidth=o,c.maxWidth=a)),f!==void 0?f+"":f}function Dn(e,t){return{get:function(){if(e()){delete this.get;return}return(this.get=t).apply(this,arguments)}}}var Pn=["Webkit","Moz","ms"],qn=Y.createElement("div").style,zt={};function Gt(e){for(var t=e[0].toUpperCase()+e.slice(1),n=Pn.length;n--;)if(e=Pn[n]+t,e in qn)return e}function Vt(e){var t=r.cssProps[e]||zt[e];return t||(e in qn?e:zt[e]=Gt(e)||e)}var si=/^(none|table(?!-c[ea]).+)/,On={position:"absolute",visibility:"hidden",display:"block"},Ln={letterSpacing:"0",fontWeight:"400"};function be(e,t,n){var i=_t.exec(t);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):t}function m(e,t,n,i,o,a){var f=t==="width"?1:0,d=0,c=0,y=0;if(n===(i?"border":"content"))return 0;for(;f<4;f+=2)n==="margin"&&(y+=r.css(e,n+He[f],!0,o)),i?(n==="content"&&(c-=r.css(e,"padding"+He[f],!0,o)),n!=="margin"&&(c-=r.css(e,"border"+He[f]+"Width",!0,o))):(c+=r.css(e,"padding"+He[f],!0,o),n!=="padding"?c+=r.css(e,"border"+He[f]+"Width",!0,o):d+=r.css(e,"border"+He[f]+"Width",!0,o));return!i&&a>=0&&(c+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-a-c-d-.5))||0),c+y}function T(e,t,n){var i=$t(e),o=!I.boxSizingReliable()||n,a=o&&r.css(e,"boxSizing",!1,i)==="border-box",f=a,d=ft(e,t,i),c="offset"+t[0].toUpperCase()+t.slice(1);if(Lt.test(d)){if(!n)return d;d="auto"}return(!I.boxSizingReliable()&&a||!I.reliableTrDimensions()&&ce(e,"tr")||d==="auto"||!parseFloat(d)&&r.css(e,"display",!1,i)==="inline")&&e.getClientRects().length&&(a=r.css(e,"boxSizing",!1,i)==="border-box",f=c in e,f&&(d=e[c])),d=parseFloat(d)||0,d+m(e,t,n||(a?"border":"content"),f,i,d)+"px"}r.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=ft(e,"opacity");return n===""?"1":n}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(e,t,n,i){if(!(!e||e.nodeType===3||e.nodeType===8||!e.style)){var o,a,f,d=Me(t),c=Qt.test(t),y=e.style;if(c||(t=Vt(d)),f=r.cssHooks[t]||r.cssHooks[d],n!==void 0){if(a=typeof n,a==="string"&&(o=_t.exec(n))&&o[1]&&(n=xn(e,t,o),a="number"),n==null||n!==n)return;a==="number"&&!c&&(n+=o&&o[3]||(r.cssNumber[d]?"":"px")),!I.clearCloneStyle&&n===""&&t.indexOf("background")===0&&(y[t]="inherit"),(!f||!("set"in f)||(n=f.set(e,n,i))!==void 0)&&(c?y.setProperty(t,n):y[t]=n)}else return f&&"get"in f&&(o=f.get(e,!1,i))!==void 0?o:y[t]}},css:function(e,t,n,i){var o,a,f,d=Me(t),c=Qt.test(t);return c||(t=Vt(d)),f=r.cssHooks[t]||r.cssHooks[d],f&&"get"in f&&(o=f.get(e,!0,n)),o===void 0&&(o=ft(e,t,i)),o==="normal"&&t in Ln&&(o=Ln[t]),n===""||n?(a=parseFloat(o),n===!0||isFinite(a)?a||0:o):o}}),r.each(["height","width"],function(e,t){r.cssHooks[t]={get:function(n,i,o){if(i)return si.test(r.css(n,"display"))&&(!n.getClientRects().length||!n.getBoundingClientRect().width)?An(n,On,function(){return T(n,t,o)}):T(n,t,o)},set:function(n,i,o){var a,f=$t(n),d=!I.scrollboxSize()&&f.position==="absolute",c=d||o,y=c&&r.css(n,"boxSizing",!1,f)==="border-box",w=o?m(n,t,o,y,f):0;return y&&d&&(w-=Math.ceil(n["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(f[t])-m(n,t,"border",!1,f)-.5)),w&&(a=_t.exec(i))&&(a[3]||"px")!=="px"&&(n.style[t]=i,i=r.css(n,t)),be(n,i,w)}}}),r.cssHooks.marginLeft=Dn(I.reliableMarginLeft,function(e,t){if(t)return(parseFloat(ft(e,"marginLeft"))||e.getBoundingClientRect().left-An(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),r.each({margin:"",padding:"",border:"Width"},function(e,t){r.cssHooks[e+t]={expand:function(n){for(var i=0,o={},a=typeof n=="string"?n.split(" "):[n];i<4;i++)o[e+He[i]+t]=a[i]||a[i-2]||a[0];return o}},e!=="margin"&&(r.cssHooks[e+t].set=be)}),r.fn.extend({css:function(e,t){return $e(this,function(n,i,o){var a,f,d={},c=0;if(Array.isArray(i)){for(a=$t(n),f=i.length;c<f;c++)d[i[c]]=r.css(n,i[c],!1,a);return d}return o!==void 0?r.style(n,i,o):r.css(n,i)},e,t,arguments.length>1)}});function x(e,t,n,i,o){return new x.prototype.init(e,t,n,i,o)}r.Tween=x,x.prototype={constructor:x,init:function(e,t,n,i,o,a){this.elem=e,this.prop=n,this.easing=o||r.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=a||(r.cssNumber[n]?"":"px")},cur:function(){var e=x.propHooks[this.prop];return e&&e.get?e.get(this):x.propHooks._default.get(this)},run:function(e){var t,n=x.propHooks[this.prop];return this.options.duration?this.pos=t=r.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):x.propHooks._default.set(this),this}},x.prototype.init.prototype=x.prototype,x.propHooks={_default:{get:function(e){var t;return e.elem.nodeType!==1||e.elem[e.prop]!=null&&e.elem.style[e.prop]==null?e.elem[e.prop]:(t=r.css(e.elem,e.prop,""),!t||t==="auto"?0:t)},set:function(e){r.fx.step[e.prop]?r.fx.step[e.prop](e):e.elem.nodeType===1&&(r.cssHooks[e.prop]||e.elem.style[Vt(e.prop)]!=null)?r.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},x.propHooks.scrollTop=x.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},r.easing={linear:function(e){return e},swing:function(e){return .5-Math.cos(e*Math.PI)/2},_default:"swing"},r.fx=x.prototype.init,r.fx.step={};var F,Q,ue=/^(?:toggle|show|hide)$/,et=/queueHooks$/;function lt(){Q&&(Y.hidden===!1&&s.requestAnimationFrame?s.requestAnimationFrame(lt):s.setTimeout(lt,r.fx.interval),r.fx.tick())}function Di(){return s.setTimeout(function(){F=void 0}),F=Date.now()}function $n(e,t){var n,i=0,o={height:e};for(t=t?1:0;i<4;i+=2-t)n=He[i],o["margin"+n]=o["padding"+n]=e;return t&&(o.opacity=o.width=e),o}function Pi(e,t,n){for(var i,o=(Be.tweeners[t]||[]).concat(Be.tweeners["*"]),a=0,f=o.length;a<f;a++)if(i=o[a].call(n,t,e))return i}function Yi(e,t,n){var i,o,a,f,d,c,y,w,N="width"in t||"height"in t,_=this,P={},J=e.style,oe=e.nodeType&&xt(e),ne=K.get(e,"fxshow");n.queue||(f=r._queueHooks(e,"fx"),f.unqueued==null&&(f.unqueued=0,d=f.empty.fire,f.empty.fire=function(){f.unqueued||d()}),f.unqueued++,_.always(function(){_.always(function(){f.unqueued--,r.queue(e,"fx").length||f.empty.fire()})}));for(i in t)if(o=t[i],ue.test(o)){if(delete t[i],a=a||o==="toggle",o===(oe?"hide":"show"))if(o==="show"&&ne&&ne[i]!==void 0)oe=!0;else continue;P[i]=ne&&ne[i]||r.style(e,i)}if(c=!r.isEmptyObject(t),!(!c&&r.isEmptyObject(P))){N&&e.nodeType===1&&(n.overflow=[J.overflow,J.overflowX,J.overflowY],y=ne&&ne.display,y==null&&(y=K.get(e,"display")),w=r.css(e,"display"),w==="none"&&(y?w=y:(ut([e],!0),y=e.style.display||y,w=r.css(e,"display"),ut([e]))),(w==="inline"||w==="inline-block"&&y!=null)&&r.css(e,"float")==="none"&&(c||(_.done(function(){J.display=y}),y==null&&(w=J.display,y=w==="none"?"":w)),J.display="inline-block")),n.overflow&&(J.overflow="hidden",_.always(function(){J.overflow=n.overflow[0],J.overflowX=n.overflow[1],J.overflowY=n.overflow[2]})),c=!1;for(i in P)c||(ne?"hidden"in ne&&(oe=ne.hidden):ne=K.access(e,"fxshow",{display:y}),a&&(ne.hidden=!oe),oe&&ut([e],!0),_.done(function(){oe||ut([e]),K.remove(e,"fxshow");for(i in P)r.style(e,i,P[i])})),c=Pi(oe?ne[i]:0,i,_),i in ne||(ne[i]=c.start,oe&&(c.end=c.start,c.start=0))}}function Ji(e,t){var n,i,o,a,f;for(n in e)if(i=Me(n),o=t[i],a=e[n],Array.isArray(a)&&(o=a[1],a=e[n]=a[0]),n!==i&&(e[i]=a,delete e[n]),f=r.cssHooks[i],f&&"expand"in f){a=f.expand(a),delete e[i];for(n in a)n in e||(e[n]=a[n],t[n]=o)}else t[i]=o}function Be(e,t,n){var i,o,a=0,f=Be.prefilters.length,d=r.Deferred().always(function(){delete c.elem}),c=function(){if(o)return!1;for(var N=F||Di(),_=Math.max(0,y.startTime+y.duration-N),P=_/y.duration||0,J=1-P,oe=0,ne=y.tweens.length;oe<ne;oe++)y.tweens[oe].run(J);return d.notifyWith(e,[y,J,_]),J<1&&ne?_:(ne||d.notifyWith(e,[y,1,0]),d.resolveWith(e,[y]),!1)},y=d.promise({elem:e,props:r.extend({},t),opts:r.extend(!0,{specialEasing:{},easing:r.easing._default},n),originalProperties:t,originalOptions:n,startTime:F||Di(),duration:n.duration,tweens:[],createTween:function(N,_){var P=r.Tween(e,y.opts,N,_,y.opts.specialEasing[N]||y.opts.easing);return y.tweens.push(P),P},stop:function(N){var _=0,P=N?y.tweens.length:0;if(o)return this;for(o=!0;_<P;_++)y.tweens[_].run(1);return N?(d.notifyWith(e,[y,1,0]),d.resolveWith(e,[y,N])):d.rejectWith(e,[y,N]),this}}),w=y.props;for(Ji(w,y.opts.specialEasing);a<f;a++)if(i=Be.prefilters[a].call(y,e,w,y.opts),i)return H(i.stop)&&(r._queueHooks(y.elem,y.opts.queue).stop=i.stop.bind(i)),i;return r.map(w,Pi,y),H(y.opts.start)&&y.opts.start.call(e,y),y.progress(y.opts.progress).done(y.opts.done,y.opts.complete).fail(y.opts.fail).always(y.opts.always),r.fx.timer(r.extend(c,{elem:e,anim:y,queue:y.opts.queue})),y}r.Animation=r.extend(Be,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return xn(n.elem,e,_t.exec(t),n),n}]},tweener:function(e,t){H(e)?(t=e,e=["*"]):e=e.match(Le);for(var n,i=0,o=e.length;i<o;i++)n=e[i],Be.tweeners[n]=Be.tweeners[n]||[],Be.tweeners[n].unshift(t)},prefilters:[Yi],prefilter:function(e,t){t?Be.prefilters.unshift(e):Be.prefilters.push(e)}}),r.speed=function(e,t,n){var i=e&&typeof e=="object"?r.extend({},e):{complete:n||!n&&t||H(e)&&e,duration:e,easing:n&&t||t&&!H(t)&&t};return r.fx.off?i.duration=0:typeof i.duration!="number"&&(i.duration in r.fx.speeds?i.duration=r.fx.speeds[i.duration]:i.duration=r.fx.speeds._default),(i.queue==null||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){H(i.old)&&i.old.call(this),i.queue&&r.dequeue(this,i.queue)},i},r.fn.extend({fadeTo:function(e,t,n,i){return this.filter(xt).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var o=r.isEmptyObject(e),a=r.speed(t,n,i),f=function(){var d=Be(this,r.extend({},e),a);(o||K.get(this,"finish"))&&d.stop(!0)};return f.finish=f,o||a.queue===!1?this.each(f):this.queue(a.queue,f)},stop:function(e,t,n){var i=function(o){var a=o.stop;delete o.stop,a(n)};return typeof e!="string"&&(n=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each(function(){var o=!0,a=e!=null&&e+"queueHooks",f=r.timers,d=K.get(this);if(a)d[a]&&d[a].stop&&i(d[a]);else for(a in d)d[a]&&d[a].stop&&et.test(a)&&i(d[a]);for(a=f.length;a--;)f[a].elem===this&&(e==null||f[a].queue===e)&&(f[a].anim.stop(n),o=!1,f.splice(a,1));(o||!n)&&r.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=K.get(this),i=n[e+"queue"],o=n[e+"queueHooks"],a=r.timers,f=i?i.length:0;for(n.finish=!0,r.queue(this,e,[]),o&&o.stop&&o.stop.call(this,!0),t=a.length;t--;)a[t].elem===this&&a[t].queue===e&&(a[t].anim.stop(!0),a.splice(t,1));for(t=0;t<f;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),r.each(["toggle","show","hide"],function(e,t){var n=r.fn[t];r.fn[t]=function(i,o,a){return i==null||typeof i=="boolean"?n.apply(this,arguments):this.animate($n(t,!0),i,o,a)}}),r.each({slideDown:$n("show"),slideUp:$n("hide"),slideToggle:$n("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){r.fn[e]=function(n,i,o){return this.animate(t,n,i,o)}}),r.timers=[],r.fx.tick=function(){var e,t=0,n=r.timers;for(F=Date.now();t<n.length;t++)e=n[t],!e()&&n[t]===e&&n.splice(t--,1);n.length||r.fx.stop(),F=void 0},r.fx.timer=function(e){r.timers.push(e),r.fx.start()},r.fx.interval=13,r.fx.start=function(){Q||(Q=!0,lt())},r.fx.stop=function(){Q=null},r.fx.speeds={slow:600,fast:200,_default:400},r.fn.delay=function(e,t){return e=r.fx&&r.fx.speeds[e]||e,t=t||"fx",this.queue(t,function(n,i){var o=s.setTimeout(n,e);i.stop=function(){s.clearTimeout(o)}})},function(){var e=Y.createElement("input"),t=Y.createElement("select"),n=t.appendChild(Y.createElement("option"));e.type="checkbox",I.checkOn=e.value!=="",I.optSelected=n.selected,e=Y.createElement("input"),e.value="t",e.type="radio",I.radioValue=e.value==="t"}();var qi,Xt=r.expr.attrHandle;r.fn.extend({attr:function(e,t){return $e(this,r.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){r.removeAttr(this,e)})}}),r.extend({attr:function(e,t,n){var i,o,a=e.nodeType;if(!(a===3||a===8||a===2)){if(typeof e.getAttribute>"u")return r.prop(e,t,n);if((a!==1||!r.isXMLDoc(e))&&(o=r.attrHooks[t.toLowerCase()]||(r.expr.match.bool.test(t)?qi:void 0)),n!==void 0){if(n===null){r.removeAttr(e,t);return}return o&&"set"in o&&(i=o.set(e,n,t))!==void 0?i:(e.setAttribute(t,n+""),n)}return o&&"get"in o&&(i=o.get(e,t))!==null?i:(i=r.find.attr(e,t),i??void 0)}},attrHooks:{type:{set:function(e,t){if(!I.radioValue&&t==="radio"&&ce(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,i=0,o=t&&t.match(Le);if(o&&e.nodeType===1)for(;n=o[i++];)e.removeAttribute(n)}}),qi={set:function(e,t,n){return t===!1?r.removeAttr(e,n):e.setAttribute(n,n),n}},r.each(r.expr.match.bool.source.match(/\w+/g),function(e,t){var n=Xt[t]||r.find.attr;Xt[t]=function(i,o,a){var f,d,c=o.toLowerCase();return a||(d=Xt[c],Xt[c]=f,f=n(i,o,a)!=null?c:null,Xt[c]=d),f}});var Zi=/^(?:input|select|textarea|button)$/i,er=/^(?:a|area)$/i;r.fn.extend({prop:function(e,t){return $e(this,r.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[r.propFix[e]||e]})}}),r.extend({prop:function(e,t,n){var i,o,a=e.nodeType;if(!(a===3||a===8||a===2))return(a!==1||!r.isXMLDoc(e))&&(t=r.propFix[t]||t,o=r.propHooks[t]),n!==void 0?o&&"set"in o&&(i=o.set(e,n,t))!==void 0?i:e[t]=n:o&&"get"in o&&(i=o.get(e,t))!==null?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=r.find.attr(e,"tabindex");return t?parseInt(t,10):Zi.test(e.nodeName)||er.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),I.optSelected||(r.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),r.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){r.propFix[this.toLowerCase()]=this});function St(e){var t=e.match(Le)||[];return t.join(" ")}function Et(e){return e.getAttribute&&e.getAttribute("class")||""}function oi(e){return Array.isArray(e)?e:typeof e=="string"?e.match(Le)||[]:[]}r.fn.extend({addClass:function(e){var t,n,i,o,a,f;return H(e)?this.each(function(d){r(this).addClass(e.call(this,d,Et(this)))}):(t=oi(e),t.length?this.each(function(){if(i=Et(this),n=this.nodeType===1&&" "+St(i)+" ",n){for(a=0;a<t.length;a++)o=t[a],n.indexOf(" "+o+" ")<0&&(n+=o+" ");f=St(n),i!==f&&this.setAttribute("class",f)}}):this)},removeClass:function(e){var t,n,i,o,a,f;return H(e)?this.each(function(d){r(this).removeClass(e.call(this,d,Et(this)))}):arguments.length?(t=oi(e),t.length?this.each(function(){if(i=Et(this),n=this.nodeType===1&&" "+St(i)+" ",n){for(a=0;a<t.length;a++)for(o=t[a];n.indexOf(" "+o+" ")>-1;)n=n.replace(" "+o+" "," ");f=St(n),i!==f&&this.setAttribute("class",f)}}):this):this.attr("class","")},toggleClass:function(e,t){var n,i,o,a,f=typeof e,d=f==="string"||Array.isArray(e);return H(e)?this.each(function(c){r(this).toggleClass(e.call(this,c,Et(this),t),t)}):typeof t=="boolean"&&d?t?this.addClass(e):this.removeClass(e):(n=oi(e),this.each(function(){if(d)for(a=r(this),o=0;o<n.length;o++)i=n[o],a.hasClass(i)?a.removeClass(i):a.addClass(i);else(e===void 0||f==="boolean")&&(i=Et(this),i&&K.set(this,"__className__",i),this.setAttribute&&this.setAttribute("class",i||e===!1?"":K.get(this,"__className__")||""))}))},hasClass:function(e){var t,n,i=0;for(t=" "+e+" ";n=this[i++];)if(n.nodeType===1&&(" "+St(Et(n))+" ").indexOf(t)>-1)return!0;return!1}});var tr=/\r/g;r.fn.extend({val:function(e){var t,n,i,o=this[0];return arguments.length?(i=H(e),this.each(function(a){var f;this.nodeType===1&&(i?f=e.call(this,a,r(this).val()):f=e,f==null?f="":typeof f=="number"?f+="":Array.isArray(f)&&(f=r.map(f,function(d){return d==null?"":d+""})),t=r.valHooks[this.type]||r.valHooks[this.nodeName.toLowerCase()],(!t||!("set"in t)||t.set(this,f,"value")===void 0)&&(this.value=f))})):o?(t=r.valHooks[o.type]||r.valHooks[o.nodeName.toLowerCase()],t&&"get"in t&&(n=t.get(o,"value"))!==void 0?n:(n=o.value,typeof n=="string"?n.replace(tr,""):n??"")):void 0}}),r.extend({valHooks:{option:{get:function(e){var t=r.find.attr(e,"value");return t??St(r.text(e))}},select:{get:function(e){var t,n,i,o=e.options,a=e.selectedIndex,f=e.type==="select-one",d=f?null:[],c=f?a+1:o.length;for(a<0?i=c:i=f?a:0;i<c;i++)if(n=o[i],(n.selected||i===a)&&!n.disabled&&(!n.parentNode.disabled||!ce(n.parentNode,"optgroup"))){if(t=r(n).val(),f)return t;d.push(t)}return d},set:function(e,t){for(var n,i,o=e.options,a=r.makeArray(t),f=o.length;f--;)i=o[f],(i.selected=r.inArray(r.valHooks.option.get(i),a)>-1)&&(n=!0);return n||(e.selectedIndex=-1),a}}}}),r.each(["radio","checkbox"],function(){r.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=r.inArray(r(e).val(),t)>-1}},I.checkOn||(r.valHooks[this].get=function(e){return e.getAttribute("value")===null?"on":e.value})});var Yt=s.location,Oi={guid:Date.now()},ai=/\?/;r.parseXML=function(e){var t,n;if(!e||typeof e!="string")return null;try{t=new s.DOMParser().parseFromString(e,"text/xml")}catch{}return n=t&&t.getElementsByTagName("parsererror")[0],(!t||n)&&r.error("Invalid XML: "+(n?r.map(n.childNodes,function(i){return i.textContent}).join(`
`):e)),t};var Li=/^(?:focusinfocus|focusoutblur)$/,$i=function(e){e.stopPropagation()};r.extend(r.event,{trigger:function(e,t,n,i){var o,a,f,d,c,y,w,N,_=[n||Y],P=ee.call(e,"type")?e.type:e,J=ee.call(e,"namespace")?e.namespace.split("."):[];if(a=N=f=n=n||Y,!(n.nodeType===3||n.nodeType===8)&&!Li.test(P+r.event.triggered)&&(P.indexOf(".")>-1&&(J=P.split("."),P=J.shift(),J.sort()),c=P.indexOf(":")<0&&"on"+P,e=e[r.expando]?e:new r.Event(P,typeof e=="object"&&e),e.isTrigger=i?2:3,e.namespace=J.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+J.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=t==null?[e]:r.makeArray(t,[e]),w=r.event.special[P]||{},!(!i&&w.trigger&&w.trigger.apply(n,t)===!1))){if(!i&&!w.noBubble&&!Se(n)){for(d=w.delegateType||P,Li.test(d+P)||(a=a.parentNode);a;a=a.parentNode)_.push(a),f=a;f===(n.ownerDocument||Y)&&_.push(f.defaultView||f.parentWindow||s)}for(o=0;(a=_[o++])&&!e.isPropagationStopped();)N=a,e.type=o>1?d:w.bindType||P,y=(K.get(a,"events")||Object.create(null))[e.type]&&K.get(a,"handle"),y&&y.apply(a,t),y=c&&a[c],y&&y.apply&&ot(a)&&(e.result=y.apply(a,t),e.result===!1&&e.preventDefault());return e.type=P,!i&&!e.isDefaultPrevented()&&(!w._default||w._default.apply(_.pop(),t)===!1)&&ot(n)&&c&&H(n[P])&&!Se(n)&&(f=n[c],f&&(n[c]=null),r.event.triggered=P,e.isPropagationStopped()&&N.addEventListener(P,$i),n[P](),e.isPropagationStopped()&&N.removeEventListener(P,$i),r.event.triggered=void 0,f&&(n[c]=f)),e.result}},simulate:function(e,t,n){var i=r.extend(new r.Event,n,{type:e,isSimulated:!0});r.event.trigger(i,null,t)}}),r.fn.extend({trigger:function(e,t){return this.each(function(){r.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return r.event.trigger(e,t,n,!0)}});var nr=/\[\]$/,Mi=/\r?\n/g,ir=/^(?:submit|button|image|reset|file)$/i,rr=/^(?:input|select|textarea|keygen)/i;function ui(e,t,n,i){var o;if(Array.isArray(t))r.each(t,function(a,f){n||nr.test(e)?i(e,f):ui(e+"["+(typeof f=="object"&&f!=null?a:"")+"]",f,n,i)});else if(!n&&Xe(t)==="object")for(o in t)ui(e+"["+o+"]",t[o],n,i);else i(e,t)}r.param=function(e,t){var n,i=[],o=function(a,f){var d=H(f)?f():f;i[i.length]=encodeURIComponent(a)+"="+encodeURIComponent(d??"")};if(e==null)return"";if(Array.isArray(e)||e.jquery&&!r.isPlainObject(e))r.each(e,function(){o(this.name,this.value)});else for(n in e)ui(n,e[n],t,o);return i.join("&")},r.fn.extend({serialize:function(){return r.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=r.prop(this,"elements");return e?r.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!r(this).is(":disabled")&&rr.test(this.nodeName)&&!ir.test(e)&&(this.checked||!Ct.test(e))}).map(function(e,t){var n=r(this).val();return n==null?null:Array.isArray(n)?r.map(n,function(i){return{name:t.name,value:i.replace(Mi,`\r
`)}}):{name:t.name,value:n.replace(Mi,`\r
`)}}).get()}});var sr=/%20/g,or=/#.*$/,ar=/([?&])_=[^&]*/,ur=/^(.*?):[ \t]*([^\r\n]*)$/mg,fr=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,lr=/^(?:GET|HEAD)$/,cr=/^\/\//,Ii={},fi={},ji="*/".concat("*"),li=Y.createElement("a");li.href=Yt.href;function Ri(e){return function(t,n){typeof t!="string"&&(n=t,t="*");var i,o=0,a=t.toLowerCase().match(Le)||[];if(H(n))for(;i=a[o++];)i[0]==="+"?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function Hi(e,t,n,i){var o={},a=e===fi;function f(d){var c;return o[d]=!0,r.each(e[d]||[],function(y,w){var N=w(t,n,i);if(typeof N=="string"&&!a&&!o[N])return t.dataTypes.unshift(N),f(N),!1;if(a)return!(c=N)}),c}return f(t.dataTypes[0])||!o["*"]&&f("*")}function ci(e,t){var n,i,o=r.ajaxSettings.flatOptions||{};for(n in t)t[n]!==void 0&&((o[n]?e:i||(i={}))[n]=t[n]);return i&&r.extend(!0,e,i),e}function hr(e,t,n){for(var i,o,a,f,d=e.contents,c=e.dataTypes;c[0]==="*";)c.shift(),i===void 0&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i){for(o in d)if(d[o]&&d[o].test(i)){c.unshift(o);break}}if(c[0]in n)a=c[0];else{for(o in n){if(!c[0]||e.converters[o+" "+c[0]]){a=o;break}f||(f=o)}a=a||f}if(a)return a!==c[0]&&c.unshift(a),n[a]}function dr(e,t,n,i){var o,a,f,d,c,y={},w=e.dataTypes.slice();if(w[1])for(f in e.converters)y[f.toLowerCase()]=e.converters[f];for(a=w.shift();a;)if(e.responseFields[a]&&(n[e.responseFields[a]]=t),!c&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),c=a,a=w.shift(),a){if(a==="*")a=c;else if(c!=="*"&&c!==a){if(f=y[c+" "+a]||y["* "+a],!f){for(o in y)if(d=o.split(" "),d[1]===a&&(f=y[c+" "+d[0]]||y["* "+d[0]],f)){f===!0?f=y[o]:y[o]!==!0&&(a=d[0],w.unshift(d[1]));break}}if(f!==!0)if(f&&e.throws)t=f(t);else try{t=f(t)}catch(N){return{state:"parsererror",error:f?N:"No conversion from "+c+" to "+a}}}}return{state:"success",data:t}}r.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Yt.href,type:"GET",isLocal:fr.test(Yt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":ji,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":r.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?ci(ci(e,r.ajaxSettings),t):ci(r.ajaxSettings,e)},ajaxPrefilter:Ri(Ii),ajaxTransport:Ri(fi),ajax:function(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};var n,i,o,a,f,d,c,y,w,N,_=r.ajaxSetup({},t),P=_.context||_,J=_.context&&(P.nodeType||P.jquery)?r(P):r.event,oe=r.Deferred(),ne=r.Callbacks("once memory"),xe=_.statusCode||{},ve={},Ue={},Qe="canceled",se={readyState:0,getResponseHeader:function(ae){var de;if(c){if(!a)for(a={};de=ur.exec(o);)a[de[1].toLowerCase()+" "]=(a[de[1].toLowerCase()+" "]||[]).concat(de[2]);de=a[ae.toLowerCase()+" "]}return de==null?null:de.join(", ")},getAllResponseHeaders:function(){return c?o:null},setRequestHeader:function(ae,de){return c==null&&(ae=Ue[ae.toLowerCase()]=Ue[ae.toLowerCase()]||ae,ve[ae]=de),this},overrideMimeType:function(ae){return c==null&&(_.mimeType=ae),this},statusCode:function(ae){var de;if(ae)if(c)se.always(ae[se.status]);else for(de in ae)xe[de]=[xe[de],ae[de]];return this},abort:function(ae){var de=ae||Qe;return n&&n.abort(de),Tt(0,de),this}};if(oe.promise(se),_.url=((e||_.url||Yt.href)+"").replace(cr,Yt.protocol+"//"),_.type=t.method||t.type||_.method||_.type,_.dataTypes=(_.dataType||"*").toLowerCase().match(Le)||[""],_.crossDomain==null){d=Y.createElement("a");try{d.href=_.url,d.href=d.href,_.crossDomain=li.protocol+"//"+li.host!=d.protocol+"//"+d.host}catch{_.crossDomain=!0}}if(_.data&&_.processData&&typeof _.data!="string"&&(_.data=r.param(_.data,_.traditional)),Hi(Ii,_,t,se),c)return se;y=r.event&&_.global,y&&r.active++===0&&r.event.trigger("ajaxStart"),_.type=_.type.toUpperCase(),_.hasContent=!lr.test(_.type),i=_.url.replace(or,""),_.hasContent?_.data&&_.processData&&(_.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(_.data=_.data.replace(sr,"+")):(N=_.url.slice(i.length),_.data&&(_.processData||typeof _.data=="string")&&(i+=(ai.test(i)?"&":"?")+_.data,delete _.data),_.cache===!1&&(i=i.replace(ar,"$1"),N=(ai.test(i)?"&":"?")+"_="+Oi.guid+++N),_.url=i+N),_.ifModified&&(r.lastModified[i]&&se.setRequestHeader("If-Modified-Since",r.lastModified[i]),r.etag[i]&&se.setRequestHeader("If-None-Match",r.etag[i])),(_.data&&_.hasContent&&_.contentType!==!1||t.contentType)&&se.setRequestHeader("Content-Type",_.contentType),se.setRequestHeader("Accept",_.dataTypes[0]&&_.accepts[_.dataTypes[0]]?_.accepts[_.dataTypes[0]]+(_.dataTypes[0]!=="*"?", "+ji+"; q=0.01":""):_.accepts["*"]);for(w in _.headers)se.setRequestHeader(w,_.headers[w]);if(_.beforeSend&&(_.beforeSend.call(P,se,_)===!1||c))return se.abort();if(Qe="abort",ne.add(_.complete),se.done(_.success),se.fail(_.error),n=Hi(fi,_,t,se),!n)Tt(-1,"No Transport");else{if(se.readyState=1,y&&J.trigger("ajaxSend",[se,_]),c)return se;_.async&&_.timeout>0&&(f=s.setTimeout(function(){se.abort("timeout")},_.timeout));try{c=!1,n.send(ve,Tt)}catch(ae){if(c)throw ae;Tt(-1,ae)}}function Tt(ae,de,Zt,di){var ze,en,Ge,ct,ht,je=de;c||(c=!0,f&&s.clearTimeout(f),n=void 0,o=di||"",se.readyState=ae>0?4:0,ze=ae>=200&&ae<300||ae===304,Zt&&(ct=hr(_,se,Zt)),!ze&&r.inArray("script",_.dataTypes)>-1&&r.inArray("json",_.dataTypes)<0&&(_.converters["text script"]=function(){}),ct=dr(_,ct,se,ze),ze?(_.ifModified&&(ht=se.getResponseHeader("Last-Modified"),ht&&(r.lastModified[i]=ht),ht=se.getResponseHeader("etag"),ht&&(r.etag[i]=ht)),ae===204||_.type==="HEAD"?je="nocontent":ae===304?je="notmodified":(je=ct.state,en=ct.data,Ge=ct.error,ze=!Ge)):(Ge=je,(ae||!je)&&(je="error",ae<0&&(ae=0))),se.status=ae,se.statusText=(de||je)+"",ze?oe.resolveWith(P,[en,je,se]):oe.rejectWith(P,[se,je,Ge]),se.statusCode(xe),xe=void 0,y&&J.trigger(ze?"ajaxSuccess":"ajaxError",[se,_,ze?en:Ge]),ne.fireWith(P,[se,je]),y&&(J.trigger("ajaxComplete",[se,_]),--r.active||r.event.trigger("ajaxStop")))}return se},getJSON:function(e,t,n){return r.get(e,t,n,"json")},getScript:function(e,t){return r.get(e,void 0,t,"script")}}),r.each(["get","post"],function(e,t){r[t]=function(n,i,o,a){return H(i)&&(a=a||o,o=i,i=void 0),r.ajax(r.extend({url:n,type:t,dataType:a,data:i,success:o},r.isPlainObject(n)&&n))}}),r.ajaxPrefilter(function(e){var t;for(t in e.headers)t.toLowerCase()==="content-type"&&(e.contentType=e.headers[t]||"")}),r._evalUrl=function(e,t,n){return r.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(i){r.globalEval(i,t,n)}})},r.fn.extend({wrapAll:function(e){var t;return this[0]&&(H(e)&&(e=e.call(this[0])),t=r(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var n=this;n.firstElementChild;)n=n.firstElementChild;return n}).append(this)),this},wrapInner:function(e){return H(e)?this.each(function(t){r(this).wrapInner(e.call(this,t))}):this.each(function(){var t=r(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=H(e);return this.each(function(n){r(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){r(this).replaceWith(this.childNodes)}),this}}),r.expr.pseudos.hidden=function(e){return!r.expr.pseudos.visible(e)},r.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},r.ajaxSettings.xhr=function(){try{return new s.XMLHttpRequest}catch{}};var pr={0:200,1223:204},Jt=r.ajaxSettings.xhr();I.cors=!!Jt&&"withCredentials"in Jt,I.ajax=Jt=!!Jt,r.ajaxTransport(function(e){var t,n;if(I.cors||Jt&&!e.crossDomain)return{send:function(i,o){var a,f=e.xhr();if(f.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(a in e.xhrFields)f[a]=e.xhrFields[a];e.mimeType&&f.overrideMimeType&&f.overrideMimeType(e.mimeType),!e.crossDomain&&!i["X-Requested-With"]&&(i["X-Requested-With"]="XMLHttpRequest");for(a in i)f.setRequestHeader(a,i[a]);t=function(d){return function(){t&&(t=n=f.onload=f.onerror=f.onabort=f.ontimeout=f.onreadystatechange=null,d==="abort"?f.abort():d==="error"?typeof f.status!="number"?o(0,"error"):o(f.status,f.statusText):o(pr[f.status]||f.status,f.statusText,(f.responseType||"text")!=="text"||typeof f.responseText!="string"?{binary:f.response}:{text:f.responseText},f.getAllResponseHeaders()))}},f.onload=t(),n=f.onerror=f.ontimeout=t("error"),f.onabort!==void 0?f.onabort=n:f.onreadystatechange=function(){f.readyState===4&&s.setTimeout(function(){t&&n()})},t=t("abort");try{f.send(e.hasContent&&e.data||null)}catch(d){if(t)throw d}},abort:function(){t&&t()}}}),r.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),r.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return r.globalEval(e),e}}}),r.ajaxPrefilter("script",function(e){e.cache===void 0&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),r.ajaxTransport("script",function(e){if(e.crossDomain||e.scriptAttrs){var t,n;return{send:function(i,o){t=r("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(a){t.remove(),n=null,a&&o(a.type==="error"?404:200,a.type)}),Y.head.appendChild(t[0])},abort:function(){n&&n()}}}});var Fi=[],hi=/(=)\?(?=&|$)|\?\?/;r.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Fi.pop()||r.expando+"_"+Oi.guid++;return this[e]=!0,e}}),r.ajaxPrefilter("json jsonp",function(e,t,n){var i,o,a,f=e.jsonp!==!1&&(hi.test(e.url)?"url":typeof e.data=="string"&&(e.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&hi.test(e.data)&&"data");if(f||e.dataTypes[0]==="jsonp")return i=e.jsonpCallback=H(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,f?e[f]=e[f].replace(hi,"$1"+i):e.jsonp!==!1&&(e.url+=(ai.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return a||r.error(i+" was not called"),a[0]},e.dataTypes[0]="json",o=s[i],s[i]=function(){a=arguments},n.always(function(){o===void 0?r(s).removeProp(i):s[i]=o,e[i]&&(e.jsonpCallback=t.jsonpCallback,Fi.push(i)),a&&H(o)&&o(a[0]),a=o=void 0}),"script"}),I.createHTMLDocument=function(){var e=Y.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",e.childNodes.length===2}(),r.parseHTML=function(e,t,n){if(typeof e!="string")return[];typeof t=="boolean"&&(n=t,t=!1);var i,o,a;return t||(I.createHTMLDocument?(t=Y.implementation.createHTMLDocument(""),i=t.createElement("base"),i.href=Y.location.href,t.head.appendChild(i)):t=Y),o=dn.exec(e),a=!n&&[],o?[t.createElement(o[1])]:(o=S([e],t,a),a&&a.length&&r(a).remove(),r.merge([],o.childNodes))},r.fn.load=function(e,t,n){var i,o,a,f=this,d=e.indexOf(" ");return d>-1&&(i=St(e.slice(d)),e=e.slice(0,d)),H(t)?(n=t,t=void 0):t&&typeof t=="object"&&(o="POST"),f.length>0&&r.ajax({url:e,type:o||"GET",dataType:"html",data:t}).done(function(c){a=arguments,f.html(i?r("<div>").append(r.parseHTML(c)).find(i):c)}).always(n&&function(c,y){f.each(function(){n.apply(this,a||[c.responseText,y,c])})}),this},r.expr.pseudos.animated=function(e){return r.grep(r.timers,function(t){return e===t.elem}).length},r.offset={setOffset:function(e,t,n){var i,o,a,f,d,c,y,w=r.css(e,"position"),N=r(e),_={};w==="static"&&(e.style.position="relative"),d=N.offset(),a=r.css(e,"top"),c=r.css(e,"left"),y=(w==="absolute"||w==="fixed")&&(a+c).indexOf("auto")>-1,y?(i=N.position(),f=i.top,o=i.left):(f=parseFloat(a)||0,o=parseFloat(c)||0),H(t)&&(t=t.call(e,n,r.extend({},d))),t.top!=null&&(_.top=t.top-d.top+f),t.left!=null&&(_.left=t.left-d.left+o),"using"in t?t.using.call(e,_):N.css(_)}},r.fn.extend({offset:function(e){if(arguments.length)return e===void 0?this:this.each(function(o){r.offset.setOffset(this,e,o)});var t,n,i=this[0];if(i)return i.getClientRects().length?(t=i.getBoundingClientRect(),n=i.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var e,t,n,i=this[0],o={top:0,left:0};if(r.css(i,"position")==="fixed")t=i.getBoundingClientRect();else{for(t=this.offset(),n=i.ownerDocument,e=i.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&r.css(e,"position")==="static";)e=e.parentNode;e&&e!==i&&e.nodeType===1&&(o=r(e).offset(),o.top+=r.css(e,"borderTopWidth",!0),o.left+=r.css(e,"borderLeftWidth",!0))}return{top:t.top-o.top-r.css(i,"marginTop",!0),left:t.left-o.left-r.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&r.css(e,"position")==="static";)e=e.offsetParent;return e||Ye})}}),r.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n=t==="pageYOffset";r.fn[e]=function(i){return $e(this,function(o,a,f){var d;if(Se(o)?d=o:o.nodeType===9&&(d=o.defaultView),f===void 0)return d?d[t]:o[a];d?d.scrollTo(n?d.pageXOffset:f,n?f:d.pageYOffset):o[a]=f},e,i,arguments.length)}}),r.each(["top","left"],function(e,t){r.cssHooks[t]=Dn(I.pixelPosition,function(n,i){if(i)return i=ft(n,t),Lt.test(i)?r(n).position()[t]+"px":i})}),r.each({Height:"height",Width:"width"},function(e,t){r.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,i){r.fn[i]=function(o,a){var f=arguments.length&&(n||typeof o!="boolean"),d=n||(o===!0||a===!0?"margin":"border");return $e(this,function(c,y,w){var N;return Se(c)?i.indexOf("outer")===0?c["inner"+e]:c.document.documentElement["client"+e]:c.nodeType===9?(N=c.documentElement,Math.max(c.body["scroll"+e],N["scroll"+e],c.body["offset"+e],N["offset"+e],N["client"+e])):w===void 0?r.css(c,y,d):r.style(c,y,w,d)},t,f?o:void 0,f)}})}),r.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){r.fn[t]=function(n){return this.on(t,n)}}),r.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return arguments.length===1?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.on("mouseenter",e).on("mouseleave",t||e)}}),r.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){r.fn[t]=function(n,i){return arguments.length>0?this.on(t,null,n,i):this.trigger(t)}});var gr=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;r.proxy=function(e,t){var n,i,o;if(typeof t=="string"&&(n=e[t],t=e,e=n),!!H(e))return i=v.call(arguments,2),o=function(){return e.apply(t||this,i.concat(v.call(arguments)))},o.guid=e.guid=e.guid||r.guid++,o},r.holdReady=function(e){e?r.readyWait++:r.ready(!0)},r.isArray=Array.isArray,r.parseJSON=JSON.parse,r.nodeName=ce,r.isFunction=H,r.isWindow=Se,r.camelCase=Me,r.type=Xe,r.now=Date.now,r.isNumeric=function(e){var t=r.type(e);return(t==="number"||t==="string")&&!isNaN(e-parseFloat(e))},r.trim=function(e){return e==null?"":(e+"").replace(gr,"$1")};var vr=s.jQuery,yr=s.$;return r.noConflict=function(e){return s.$===r&&(s.$=yr),e&&s.jQuery===r&&(s.jQuery=vr),r},typeof u>"u"&&(s.jQuery=s.$=r),r})}(Kn)),Kn.exports}var Jr=Yr();const At=Vr(Jr);class Ni{constructor(){this.chessBoard=this.initChessBoard(),this.evalBar=new es("evalBar"),this.chessGame=new Gr,this.engineWorker=new Worker(new URL("/assets/engineWorker-BDxUaDqs.js",import.meta.url),{type:"module"}),this.player="b",this.clickedSquare=null,this.possibleTargets=null,this.highlightedMove=null}static async create(){const s=new Ni;return s.reset(),await new Promise(u=>{s.engineWorker.onmessage=h=>{const{type:p,data:v}=h.data;p==="ready"?u():p==="searchResult"?s.updateSearchData?.(v):p==="perftResult"?s.updatePerftData?.(v):p==="enginePick"&&s.updateEnginePick?.(v)},s.engineWorker.postMessage({type:"init"})}),s}highlightSquare(s,u=!1){const h=u?"#f7f769":"#629d82ff",p=u?"#bbca2c":"#4e7a65ff",v=At("#myBoard .square-"+s),k=v.hasClass("black-3c85d")?p:h;v.css("background",k)}removeMoveHighlights(){this.possibleTargets=null;const[s,u]=this.highlightedMove??[null,null];At("#myBoard .square-55d63").each(function(){const h=At(this).data("square");h!==s&&h!==u&&At(this).css("background","")})}addMoveHighlights(s,u){const h=this.chessGame.moves({square:s,verbose:!0});if(this.removeMoveHighlights(),this.possibleTargets=new Set,this.highlightSquare(s,!0),u.charAt(0)===this.player)for(let p=0;p<h.length;p++){let v=h[p].to;this.highlightSquare(h[p].to),this.possibleTargets.add(v)}}updateBoardWithMove(s,u){this.clickedSquare=null,this.highlightedMove=null,this.removeMoveHighlights(),this.highlightedMove=[s,u],this.highlightSquare(s,!0),this.highlightSquare(u,!0),this.chessBoard.position(this.chessGame.fen(),!1),this.chessGame.isGameOver()&&this.gameOver()}makePlayerMove(s,u){if(!this.possibleTargets?.has(u))return"snapback";this.chessGame.move({from:s,to:u,promotion:"q"}),this.updateBoardWithMove(s,u),this.makeEngineMove()}makeEngineMove(){const s="fen "+this.chessGame.fen();this.engineWorker.postMessage({type:"search",data:{position:s,tc:"wtime 100000 btime 100000 winc 0 binc 0"}})}gameOver(){const s=this.chessGame.turn();console.log(s!==this.player?"You win!":"You lose!")}getBoardCallbacks(){const s=this;function u(v){s.clickedSquare!==null&&(s.makePlayerMove(s.clickedSquare,v),s.clickedSquare=null,s.removeMoveHighlights())}function h(v,k){s.possibleTargets?.has(v)&&u(v),s.addMoveHighlights(v,k)}function p(v,k,D){return s.clickedSquare!==null&&s.clickedSquare===k?(s.removeMoveHighlights(),s.clickedSquare=null,"snapback"):(s.clickedSquare=v,s.makePlayerMove(v,k))}return{onSquareClick:u,onDragStart:h,onDrop:p}}initChessBoard(){const s=this.getBoardCallbacks(),u={draggable:!0,dropOffBoard:"snapback",position:"start",pieceTheme:"vendor/img/{piece}.svg",showNotation:!1,onDragStart:s.onDragStart,onDrop:s.onDrop},h=ChessBoard("myBoard",u);return At(window).on("resize",()=>this.resize()),setTimeout(()=>this.resize(),100),h}resize(){const s=document.getElementById("evalBar");s.style.height="",this.chessBoard.resize();const h=document.getElementById("myBoard").getBoundingClientRect();s.style.height=h.height+"px";const p=this.getBoardCallbacks();At("#myBoard .square-55d63").off("click").on("click",function(){const v=At(this).data("square");v&&p.onSquareClick(v)})}reset(){this.chessGame.reset(),this.chessBoard.start(),this.evalBar.reset(),this.resize(),this.player==="b"&&(this.chessBoard.orientation("black"),this.makeEngineMove())}updatePerftData(s){console.log("Perft speed: ",s.nps)}updateSearchData(s){console.log("Search speed: ",s.nps);const[u,h]=this.getWhiteScore(s.score_type,s.score);this.evalBar.updateEvaluation(u,h)}getWhiteScore(s,u){if(this.player=="b")return[s,u];s==="Mate"?s="Mated":s==="Mated"?s="Mate":u.val=-u.val;const[h,p,v]=[u.w,u.d,u.l];return u.w=v,u.l=h,[s,u]}updateEnginePick(s){console.log("Engine pick: ",s);const u=this.chessGame.move(s);this.updateBoardWithMove(u.from,u.to)}}function Zr(E){return E===0?0:E<7?-(.322495*Math.pow(E,2))+7.26599*E+4.11834:8*E/145+5881/145}class es{constructor(s){this.minRoomPercent=10,this.container=document.getElementById(s),this.blackDiv=this.container.querySelector(".eval-bar-black"),this.whiteDiv=this.container.querySelector(".eval-bar-white"),this.scoreDivWhite=this.container.querySelector(".eval-bar-score.white"),this.scoreDivBlack=this.container.querySelector(".eval-bar-score.black")}reset(){this.blackDiv.style.height="50%",this.whiteDiv.style.height="50%",this.scoreDivWhite.style.display="none",this.scoreDivBlack.style.display="none"}updateEvaluation(s,u){let h=.5,p="",v=!0,k=!1;if(s==="Cp"){const D=u.val/100,q=Zr(Math.abs(D)),$=Math.min(50-this.minRoomPercent,q);p=(D>0?"+":"")+D.toFixed(2),h=(50+(D>0?$:-$))/100,v=!0,k=!1}else s==="Mate"?(h=1,p=`M${u.val}`,v=!0,k=!1):s==="Mated"&&(h=0,p=`-M${u.val}`,v=!1,k=!0);this.whiteDiv.style.height=`${h*100}%`,this.blackDiv.style.height=`${(1-h)*100}%`,this.scoreDivWhite.style.display=v?"block":"none",this.scoreDivBlack.style.display=k?"block":"none",v&&(this.scoreDivWhite.textContent=p,this.scoreDivWhite.style.color="#222",this.scoreDivWhite.style.top="2px"),k&&(this.scoreDivBlack.textContent=p,this.scoreDivBlack.style.color="#fff",this.scoreDivBlack.style.bottom="2px")}}const ts=await Ni.create();class ns{constructor(){this.currentPage=this.getInitialPage(),this.setupNavigation(),this.loadPage(this.currentPage),this.setupExternalLinks(),this.setupPopState()}getInitialPage(){const s=window.location.hash.slice(1);return s&&["home","about","chess","github"].includes(s)?s:"home"}setupNavigation(){document.querySelectorAll(".nav-link").forEach(u=>{u.addEventListener("click",h=>{h.preventDefault();const p=u.getAttribute("data-page");p&&p!==this.currentPage&&this.loadPage(p)})}),document.addEventListener("keydown",u=>{switch(u.key){case"1":u.preventDefault(),this.loadPage("home");break;case"2":u.preventDefault(),this.loadPage("about");break;case"3":u.preventDefault(),this.loadPage("chess");break;case"4":u.preventDefault(),this.loadPage("github");break}})}loadPage(s){document.querySelectorAll(".page").forEach(p=>{p.id===`page-${s}`?p.classList.add("active"):p.classList.remove("active")}),this.currentPage=s,this.updateNavigation(s),window.scrollTo(0,0);const h=s==="home"?"/":`/#${s}`;history.pushState({page:s},"",h),document.title="asgobbi / "+s,s==="chess"&&ts.reset()}updateNavigation(s){document.querySelectorAll(".nav-link").forEach(u=>{u.getAttribute("data-page")===s?u.classList.add("active"):u.classList.remove("active")})}setupExternalLinks(){const s='a[href^="http"]:not([href*="'+window.location.host+'"]),a[target="_blank"]';document.querySelectorAll(s).forEach(h=>{h.setAttribute("target","_blank"),h.setAttribute("rel","noopener noreferrer")})}setupPopState(){window.addEventListener("popstate",s=>{s.state&&s.state.page?this.loadPage(s.state.page):this.loadPage("home")})}}window.terminalSite=new ns;document.addEventListener("keydown",E=>{if(E.key==="Tab"&&E.target===document.body){const s=document.querySelector(".nav-link");s&&(E.preventDefault(),s.focus())}});
